<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.4</version>
    <template_groups>
        <template_group>
            <uuid>bb17447fffe04b7784ddbd77b209c05a</uuid>
            <name>TmplTests</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>17ecce4a1f2b4d739586ad1d6e717812</uuid>
            <template>bbbtmpl</template>
            <name>bbbtmpl</name>
            <templates>
                <template>
                    <name>SampleTemplate</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>TmplTests</name>
                </group>
            </groups>
            <macros>
                <macro>
                    <macro>{$CHLDTMPLMACRO}</macro>
                    <value>1</value>
                </macro>
            </macros>
        </template>
        <template>
            <uuid>501966b8aa284d1caf393a02bb81d535</uuid>
            <template>SampleTemplate</template>
            <name>aaatmpl</name>
            <groups>
                <group>
                    <name>TmplTests</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>de72d3b5a20f4e82ba3cab29ebd02d4d</uuid>
                    <name>TemplateItem</name>
                    <type>TRAP</type>
                    <key>tmpltrap</key>
                    <delay>0</delay>
                    <triggers>
                        <trigger>
                            <uuid>72c4555ac57c4daf94ccf1d1178d56fb</uuid>
                            <expression>last(/SampleTemplate/tmpltrap)=2</expression>
                            <name>TemplateTrigger</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>eee</tag>
                                    <value>fff</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>4537d1d93224423489130a2785f57ae8</uuid>
                    <name>DiscoveryRule</name>
                    <type>SCRIPT</type>
                    <key>discrule</key>
                    <params>return &quot;&quot;;</params>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#LLDMACRO}</macro>
                                <value>W</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>f988e57fcdc541668c3c32919d3cfa60</uuid>
                            <name>DepItemProtoDependsOnNormalItem</name>
                            <type>DEPENDENT</type>
			    <key>depitemproto_deponnormal[{#LLDMACRO}]</key>
                            <delay>0</delay>
                            <master_item>
                                <key>tmpltrap</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>ebc83aff113846518d3e1c88532274e1</uuid>
                                    <expression>last(/SampleTemplate/depitemproto_deponnormal[{#LLDMACRO}])=0</expression>
                                    <name>proto_dep {#LLDMACRO}</name>
                                    <dependencies>
                                        <dependency>
                                            <name>proto {#LLDMACRO}</name>
                                            <expression>last(/SampleTemplate/depitemproto_deponnormal[{#LLDMACRO}])=1</expression>
                                        </dependency>
                                    </dependencies>
                                    <tags>
                                        <tag>
                                            <tag>xxx</tag>
                                            <value>yyyy</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>6032b6444698467c8f41587858f089e5</uuid>
                                    <expression>last(/SampleTemplate/depitemproto_deponnormal[{#LLDMACRO}])=1</expression>
                                    <name>proto {#LLDMACRO}</name>
                                    <tags>
                                        <tag>
                                            <tag>AAA</tag>
                                            <value>bbb</value>
                                        </tag>
                                        <tag>
                                            <tag>CCC</tag>
                                            <value>ddd</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#LLDMACRO}</lld_macro>
                            <path>$.macro</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <overrides>
                        <override>
                            <name>OverrideA</name>
                            <step>1</step>
                            <filter>
                                <conditions>
                                    <condition>
                                        <macro>{#LLDMACRO}</macro>
                                        <value>q</value>
                                        <formulaid>A</formulaid>
                                    </condition>
                                </conditions>
                            </filter>
                        </override>
                    </overrides>
                </discovery_rule>
            </discovery_rules>
            <httptests>
                <httptest>
                    <uuid>d3f36682c20947cf910e733d8af93c95</uuid>
                    <name>WebScenTmpl</name>
                    <steps>
                        <step>
                            <name>StepWSTmpl</name>
                            <url>localhost</url>
                        </step>
                    </steps>
                </httptest>
            </httptests>
            <macros>
                <macro>
                    <macro>{$PRNTTMPLMACRO}</macro>
                    <value>2</value>
                </macro>
            </macros>
        </template>
        <template>
            <uuid>efd071ed46cb4eaa84405d6469428910</uuid>
            <template>ComprehensiveTemplate</template>
            <name>ComprehensiveTemplate</name>
            <groups>
                <group>
                    <name>TmplTests</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>9a1082526795476ab429acd9caafc920</uuid>
                    <name>NormalItemPreproc1</name>
                    <key>agent.hostmetadata</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>3</parameter>
                                <parameter>4</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>79a3b0eca3764c64abc7c53b83c0ce83</uuid>
                    <name>Hostname1</name>
                    <key>agent.hostname</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>NAME</inventory_link>
                </item>
                <item>
                    <uuid>ca3303d4b06a4d05915bf4a6785962cb</uuid>
                    <name>Agent ping (active)1</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>agent.ping</key>
                    <tags>
                        <tag>
                            <tag>qw</tag>
                            <value>w1e</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>02f89248506b4288b90646576e5d3e5f</uuid>
                            <expression>now()&gt;1 and baselinedev(/ComprehensiveTemplate/agent.ping,1M:now/M,&quot;h&quot;,2)=0</expression>
                            <name>TimeBasedAndOrdFuncTrigger1</name>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1b74d86537414efe8dee3c05442aff2c</uuid>
                    <name>Agent version (passive)1</name>
                    <key>agent.version</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                </item>
                <item>
                    <uuid>79a349483aae4d01915d0d307191dd56</uuid>
                    <name>Calculated1</name>
                    <type>CALCULATED</type>
                    <key>calc</key>
                    <params>1+1+1</params>
                    <triggers>
                        <trigger>
                            <uuid>d6edfd2d79874f9db4cfefe3065ea13e</uuid>
                            <expression>last(/ComprehensiveTemplate/calc)=1</expression>
                            <name>DepTrigger1</name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>SimpleTrigger1</name>
                                    <expression>last(/ComprehensiveTemplate/calc)=1</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                        <trigger>
                            <uuid>a82242bc84594586843847afe5296adb</uuid>
                            <expression>last(/ComprehensiveTemplate/calc)=1</expression>
                            <name>SimpleTrigger1</name>
                            <event_name>SimpleTriggerEvent</event_name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>aae</tag>
                                    <value>bbeq</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>29f384f401b643d7b6889324470783ab</uuid>
                            <expression>last(/ComprehensiveTemplate/calc)=2</expression>
                            <name>SimpleTrigger21</name>
                            <event_name>SimpleTriggerEvent2</event_name>
                            <priority>DISASTER</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>aae</tag>
                                    <value>bxisxbe</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>16e297773b8d48958ebd4da74918687c</uuid>
                    <name>CalculatedItemPreprocStepTest1</name>
                    <type>CALCULATED</type>
                    <key>calculateditempreprocsteptest</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <params>1+1</params>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>.*</parameter>
                                <parameter>x</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>1</parameter>
                                <parameter>2</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>TRIM</type>
                            <parameters>
                                <parameter>abc</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>RTRIM</type>
                            <parameters>
                                <parameter>bbb</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>LTRIM</type>
                            <parameters>
                                <parameter>ccc</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>MATCHES_REGEX</type>
                            <parameters>
                                <parameter>.*x</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>CSV_TO_JSON</type>
                            <parameters>
                                <parameter/>
                                <parameter/>
                                <parameter>1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>34693044a4b84f269f829c92b8e6888f</uuid>
                    <name>CalculatedAsAggregated1</name>
                    <type>CALCULATED</type>
                    <key>calc_as_aggr</key>
                    <params>sum(last_foreach(/*/agent.version?[group=&quot;HG1&quot;]))</params>
                </item>
                <item>
                    <uuid>489114fec8b44645b96b9c463ea54f22</uuid>
                    <name>CalculatedPreproc1</name>
                    <type>CALCULATED</type>
                    <key>calc_preproc</key>
                    <params>1</params>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>3</parameter>
                                <parameter>4</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>de2c2812f00240ec84359fb3c0165ff6</uuid>
                    <name>ODBC monitor1</name>
                    <type>ODBC</type>
                    <key>db.odbc.select[x,y,z]</key>
                    <params>select null from dual;</params>
                </item>
                <item>
                    <uuid>2012d2c4562340d990eebfac680cc1da</uuid>
                    <name>Dependent item1</name>
                    <type>DEPENDENT</type>
                    <key>depitem</key>
                    <delay>0</delay>
                    <master_item>
                        <key>calc</key>
                    </master_item>
                </item>
                <item>
                    <uuid>d8def5fedd5a42a7b9a910c805a56899</uuid>
                    <name>DepItemOnCalcPreproc1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_calc_preproc</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>aa</parameter>
                                <parameter>ab</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>calc</key>
                    </master_item>
                </item>
                <item>
                    <uuid>10741348d10842d5a2888c7c3ebe4063</uuid>
                    <name>DepItemOnDepCalcItem1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_depitem</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>3</parameter>
                                <parameter>322</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>depitem_calc_preproc</key>
                    </master_item>
                </item>
                <item>
                    <uuid>d3e8a08190584da2a79f0c2c665a62ee</uuid>
                    <name>DepItemOnNormalDepItem1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_depitem_normal</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>aa</parameter>
                                <parameter>bab</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>depitem_normalitem</key>
                    </master_item>
                </item>
                <item>
                    <uuid>fd462776884943c08b6998bff03d5267</uuid>
                    <name>DepItemOnInternalItem1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_internal</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>1</parameter>
                                <parameter>2a</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>zabbix[boottime]</key>
                    </master_item>
                </item>
                <item>
                    <uuid>a1baaaa5e7af48578a749c5380426ed6</uuid>
                    <name>DepItemOnNormalItem1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_normalitem</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>cd</parameter>
                                <parameter>dd</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>agent.ping</key>
                    </master_item>
                </item>
                <item>
                    <uuid>0a65fd6e155747ad9768e1c48c874264</uuid>
                    <name>DepItemOnInternalItemPreproc1</name>
                    <type>DEPENDENT</type>
                    <key>depitem_normal_preproc</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>STR_REPLACE</type>
                            <parameters>
                                <parameter>41</parameter>
                                <parameter>51</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>agent.version</key>
                    </master_item>
                </item>
                <item>
                    <uuid>e2b844f2d30440ef88deff5f3a596e1b</uuid>
                    <name>External check1</name>
                    <type>EXTERNAL</type>
                    <key>extcheck</key>
                </item>
                <item>
                    <uuid>2644c18c42864249a4be85871879af30</uuid>
                    <name>HTTP agent1</name>
                    <type>HTTP_AGENT</type>
                    <key>httpagent</key>
                    <authtype>BASIC</authtype>
                    <username>qqqqqqqqqqqqq</username>
                    <password>wwwwwwwwww</password>
                    <url>localhost</url>
                    <query_fields>
                        <query_field>
                            <name>a1</name>
                            <value>ba</value>
                        </query_field>
                    </query_fields>
                    <posts>test</posts>
                    <headers>
                        <header>
                            <name>x1</name>
                            <value>yq</value>
                        </header>
                    </headers>
                    <retrieve_mode>BOTH</retrieve_mode>
                    <output_format>JSON</output_format>
                    <allow_traps>YES</allow_traps>
                </item>
                <item>
                    <uuid>352e9f1baba8491f9fcf4e0e8d968f4d</uuid>
                    <name>Simple check1</name>
                    <type>SIMPLE</type>
                    <key>icmpping[127.0.0.1]</key>
                </item>
                <item>
                    <uuid>f219f82b5f2f41d0a72f718684476638</uuid>
                    <name>IPMI agent1</name>
                    <type>IPMI</type>
                    <key>ipmi.get</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <ipmi_sensor>1234</ipmi_sensor>
                </item>
                <item>
                    <uuid>5184862f271d4f8ebec44ef6526c1da1</uuid>
                    <name>item11</name>
                    <type>CALCULATED</type>
                    <key>itm</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <params>1</params>
                    <triggers>
                        <trigger>
                            <uuid>3d12940891624ea38571bde3202bc728</uuid>
                            <expression>bitlength(last(/ComprehensiveTemplate/itm))&gt;bitlength({$HM1})</expression>
                            <name>trigger with macro1</name>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>3ce4f0ce210148cdb778a05e00bbdc81</uuid>
                    <name>ItemPreproc1</name>
                    <type>CALCULATED</type>
                    <key>preproc</key>
                    <params>1</params>
                    <preprocessing>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>.*</parameter>
                                <parameter>vvv</parameter>
                            </parameters>
                            <error_handler>CUSTOM_VALUE</error_handler>
                            <error_handler_params>fail</error_handler_params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>74db5c8a26b447468c2f2590af135878</uuid>
                    <name>Script1</name>
                    <type>SCRIPT</type>
                    <key>script</key>
                    <params>return &quot;1&quot;;</params>
                    <inventory_link>HARDWARE</inventory_link>
                    <parameters>
                        <parameter>
                            <name>aaa1</name>
                            <value>bbbf</value>
                        </parameter>
                    </parameters>
                </item>
                <item>
                    <uuid>d94160c34be4455bba660b1b18c0fb0e</uuid>
                    <name>ItemWithGlobalAndHostMacro1</name>
                    <key>sensor[{$UU},{$HM1}]</key>
                    <delay>{$GLOBDELAY}</delay>
                    <value_type>FLOAT</value_type>
                </item>
                <item>
                    <uuid>5861cb498c044908a7aa5b225500ba3d</uuid>
                    <name>SNMP trap1</name>
                    <type>SNMP_TRAP</type>
                    <key>snmptrap.fallback</key>
                    <delay>10s</delay>
                </item>
                <item>
                    <uuid>0106d4d9fba64066a66fbfe2d2340602</uuid>
                    <name>SNMP agent1</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>SNMPv2-MIB::sysContact.0</snmp_oid>
                    <key>snmp_test</key>
                </item>
                <item>
                    <uuid>49db5d3e8da84948a543801129a84b99</uuid>
                    <name>SSH agent1</name>
                    <type>SSH</type>
                    <key>ssh.run[x,localhost]</key>
                    <params>echo</params>
                    <username>username</username>
                    <password>password1</password>
                </item>
                <item>
                    <uuid>74939b6a93294881ac5ec83d885920c9</uuid>
                    <name>Chassis1</name>
                    <key>system.hw.chassis[model]</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>HARDWARE_FULL</inventory_link>
                </item>
                <item>
                    <uuid>8d311f6a4fb44a4ab325600539f8398e</uuid>
                    <name>Uname1</name>
                    <key>system.uname</key>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>OS</inventory_link>
                </item>
                <item>
                    <uuid>dca59a5058074e9f96a3d81f973bba75</uuid>
                    <name>Telnet agent1</name>
                    <type>TELNET</type>
                    <key>telnet.run[a,localhost]</key>
                    <params>echo</params>
                    <username>use1rname</username>
                </item>
                <item>
                    <uuid>aaaff64eee7e47589a6b6a329a1060a3</uuid>
                    <name>Zabbix trapper1</name>
                    <type>TRAP</type>
                    <key>trap</key>
                    <delay>0</delay>
                </item>
                <item>
                    <uuid>a1dfb8d4a8004159979dff4f884f5d89</uuid>
                    <name>ItemWithMultilevelMacros1</name>
                    <key>vfs.dir.count[/tmp/{$UU},{$CHLDTMPLMACRO},{$PRNTTMPLMACRO}]</key>
                    <delay>{$PRNTTMPLMACRO}</delay>
                </item>
                <item>
                    <uuid>381db19a280a4c27a1ad86693ea535bc</uuid>
                    <name>ItemWithMacro1</name>
                    <key>vfs.file.get[/tmp/{$HM1}]</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                </item>
                <item>
                    <uuid>ec8e28d9728f4418af7847db9ce17612</uuid>
                    <name>delay_globmacro1</name>
                    <key>vfs.file.get[/tmp/{$UU}]</key>
                    <delay>{$GLOBDELAY}</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                </item>
                <item>
                    <uuid>2a562bcf814343afb9c5cc4e9619e307</uuid>
                    <name>Zabbix internal1</name>
                    <type>INTERNAL</type>
                    <key>zabbix[boottime]</key>
                </item>
                <item>
                    <uuid>5a7addc891c4413f8a83809eceb869e2</uuid>
                    <name>walk1</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>walk[.1.1.6.1.2.1.1.9.1.3]</snmp_oid>
                    <key>walk1</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                </item>
            </items>
        </template>
    </templates>
</zabbix_export>
