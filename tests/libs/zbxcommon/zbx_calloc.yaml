---
test case: 'Typical use case'
in:
  size: 16
  nmemb: 2
  old: 0
out:
  size: 16
  nmemb: 2
---
test case: 'Allocation on not-NULL pointer'
in:
  size: 16
  nmemb: 2
  old: 1
out:
  w1: "allocating already allocated memory"
  size: 16
  nmemb: 2
---
test case: 'Allocation with size = 0'
in:
  size: 0
  nmemb: 2
  old: 0
out:
  w1: "allocating %lu memory objects of size %lu"
  size: 1
  nmemb: 2
---
test case: 'Allocation with nmemb = 0'
in:
  size: 16
  nmemb: 0
  old: 0
out:
  w1: "allocating %lu memory objects of size %lu"
  size: 16
  nmemb: 1
---
test case: 'Allocation on not-NULL pointer with size = 0 and nmemb = 0'
in:
  size: 0
  nmemb: 0
  old: 1
out:
  w1: "allocating already allocated memory"
  w2: "allocating %lu memory objects of size %lu"
  size: 1
  nmemb: 1
---
test case: 'Allocation with size = 0 and nmemb = 0 - out of memory'
in:
  size: 0
  nmemb: 0
  old: 0
  out_of_mem: "Yes"
exit code: failure
---
test case: 'Allocation on not-NULL pointer with size = 0 and nmemb = 0 - out of memory'
in:
  size: 0
  nmemb: 0
  old: 1
  out_of_mem: "Yes"
exit code: failure
...
