# Create a host, link it to a template and verify the result using host.get.

fixtures:
  users:
    type: include
    params:
      file: users

  hostGroups:
    type: include
    params:
      file: hostGroups

steps:
  step1:
    request:
      method:  host.create
      params:
        interfaces:
          -
            type: 1
            main: 1
            useip: 1
            ip: "192.168.3.1"
            dns: ""
            port: "10050"
        groups:
          -
            groupid: @fixtures.hostGroups.result.groupid@

    expect: error

    response:
      message: "Invalid params."
      data: "Wrong fields for host \"\"."
      code: -32602
