zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
  templates:
    - uuid: 8e5236f799b347a8ae90a979198be85e
      template: 'Squid by SNMP'
      name: 'Squid by SNMP'
      description: |
        Template for monitoring Squid caching proxy via SNMP
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/409339-discussion-thread-for-official-zabbix-template-squid
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.4-2
      groups:
        - name: Templates/Applications
      items:
        - uuid: 86cc718ce21b4ff9b0a09479ae3fc130
          name: 'Service ping'
          type: SIMPLE
          key: 'net.tcp.service[tcp,,{$SQUID.HTTP.PORT}]'
          valuemap:
            name: 'Service state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 7e0f0a9e8a9d4f6193946e4f8cd4a2e3
              expression: 'last(/Squid by SNMP/net.tcp.service[tcp,,{$SQUID.HTTP.PORT}])=0'
              name: 'Squid: Port {$SQUID.HTTP.PORT} is down'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: 6d7f0f6b0f89462e96e86940b779eb69
          name: 'CPU usage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.5.0]'
          key: 'squid[cacheCpuUsage]'
          value_type: FLOAT
          units: '%'
          description: 'The percentage use of the CPU'
          tags:
            - tag: component
              value: cpu
        - uuid: 960b137ab773492ab3073e108575e4fc
          name: 'File descriptor count - current used'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.12.0]'
          key: 'squid[cacheCurrentFileDescrCnt]'
          value_type: FLOAT
          description: 'Number of file descriptors in use'
          tags:
            - tag: component
              value: system
        - uuid: 37b45201f8444583b01e0df5af2bc14e
          name: 'File descriptor count - current maximum'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.13.0]'
          key: 'squid[cacheCurrentFileDescrMax]'
          value_type: FLOAT
          description: 'Highest number of file descriptors in use'
          tags:
            - tag: component
              value: system
        - uuid: 910afdc20767408f90d1bc5b7a9fd6a4
          name: 'Objects LRU expiration age'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.8.0]'
          key: 'squid[cacheCurrentLRUExpiration]'
          value_type: FLOAT
          units: s
          description: 'Storage LRU Expiration Age'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: objects
        - uuid: 26b8b1a25dc74099b61813905477b414
          name: 'File descriptor count - current reserved'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.11.0]'
          key: 'squid[cacheCurrentResFileDescrCnt]'
          value_type: FLOAT
          description: 'Reserved number of file descriptors'
          tags:
            - tag: component
              value: system
        - uuid: 35f3009401b6449d95988d9ee7a621a7
          name: 'Cache swap current size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.14.0]'
          key: 'squid[cacheCurrentSwapSize]'
          value_type: FLOAT
          units: B
          description: 'Storage Swap Size'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 0789a0fa3e3b42a08a5e5bf8d0307970
          name: 'Objects unlinkd requests'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.9.0]'
          key: 'squid[cacheCurrentUnlinkRequests]'
          value_type: FLOAT
          description: 'Requests given to unlinkd'
          tags:
            - tag: component
              value: objects
        - uuid: 6bc024be663b466ca677941130e11f50
          name: 'File descriptor count - current available'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.10.0]'
          key: 'squid[cacheCurrentUnusedFDescrCnt]'
          value_type: FLOAT
          description: 'Available number of file descriptors'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 40c41c87e46443f886506da5e580657e
              expression: 'last(/Squid by SNMP/squid[cacheCurrentUnusedFDescrCnt])<{$SQUID.FILE.DESC.WARN.MIN}'
              name: 'Squid: Squid is running out of file descriptors'
              event_name: 'Squid: Squid is running out of file descriptors (<{$SQUID.FILE.DESC.WARN.MIN})'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: 1aecf10756f949999c8f3fe5ce9c2a32
          name: 'DNS server replies per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.3.2.0]'
          key: 'squid[cacheDnsReplies]'
          value_type: FLOAT
          description: 'Number of external dns server replies'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: replies
        - uuid: e5f647c77bdb498e9cc286795bc4077c
          name: 'DNS server requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.3.1.0]'
          key: 'squid[cacheDnsRequests]'
          value_type: FLOAT
          description: 'Number of external dns server requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: requests
        - uuid: 3f4366896dd84b8ab78d6e3dc8a6ab63
          name: 'DNS service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.8.5]'
          key: 'squid[cacheDnsSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'DNS service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dns
        - uuid: 99448052f1a34e15a5c042124db7b651
          name: 'DNS service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.8.60]'
          key: 'squid[cacheDnsSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'DNS service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dns
        - uuid: 0aea1fe702004d65919fc010c971c3b5
          name: 'FQDN cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.3.0]'
          key: 'squid[cacheFqdnHits]'
          value_type: FLOAT
          description: 'Number of FQDN Cache hits'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: hits
        - uuid: 2dea9b707b844d32b65a2d479ddb7d72
          name: 'FQDN cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.6.0]'
          key: 'squid[cacheFqdnMisses]'
          value_type: FLOAT
          description: 'Number of FQDN Cache misses'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: misses
        - uuid: 1dad3f381c174b869c73f55cd831b40a
          name: 'FQDN cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.2.0]'
          key: 'squid[cacheFqdnRequests]'
          value_type: FLOAT
          description: 'Number of FQDN Cache requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: requests
        - uuid: 633a70cd41c44f2c895148a7ae394acd
          name: 'HTTP all service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.2.5]'
          key: 'squid[cacheHttpAllSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
        - uuid: d3aa021743134d97af9dd8840b0ef692
          name: 'HTTP all service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.2.60]'
          key: 'squid[cacheHttpAllSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
        - uuid: 7f5bd8f89ea0495ea87c294fb8c606dd
          name: 'HTTP Errors sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.3.0]'
          key: 'squid[cacheHttpErrors]'
          value_type: FLOAT
          description: 'Number of HTTP Errors sent to clients'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: errors
            - tag: component
              value: http
        - uuid: 0c4fd7c154a44442a3cec82ba4026b7d
          name: 'HTTP hit service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.5.5]'
          key: 'squid[cacheHttpHitSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: a642c99d6c3f4f5e8ec218459fd76f04
          name: 'HTTP hit service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.5.60]'
          key: 'squid[cacheHttpHitSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: adfe3e2fc775400991d2ea2f06218daf
          name: 'HTTP Hits sent from cache per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.2.0]'
          key: 'squid[cacheHttpHits]'
          value_type: FLOAT
          description: 'Number of HTTP Hits sent to clients from cache'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: f2366a6008cb4dc7856904ea5c6631dd
          name: 'HTTP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.4.0]'
          key: 'squid[cacheHttpInKb]'
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic received from clients'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: network
        - uuid: f8fa271a272442369b6cbc4fb1a2decc
          name: 'HTTP miss service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.3.5]'
          key: 'squid[cacheHttpMissSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
            - tag: component
              value: misses
        - uuid: 23e5a3bd6e9a4c50a7d54336a6afc1e1
          name: 'HTTP miss service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.3.60]'
          key: 'squid[cacheHttpMissSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
            - tag: component
              value: misses
        - uuid: ff6b7946363d44bba5721c82c8f84df7
          name: 'HTTP traffic sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.5.0]'
          key: 'squid[cacheHttpOutKb]'
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic sent to clients'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: network
        - uuid: bde307ead15d48859a97e35e52327d50
          name: 'ICP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.9.0]'
          key: 'squid[cacheIcpKbRecv]'
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic received'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
            - tag: component
              value: network
        - uuid: 7234b612b50a45e0a1bb69654e2e784d
          name: 'ICP traffic transmitted per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.8.0]'
          key: 'squid[cacheIcpKbSent]'
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic transmitted'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
            - tag: component
              value: network
        - uuid: 9ee83c13fa6d41dfb8bfea91c02341b9
          name: 'ICP messages received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.7.0]'
          key: 'squid[cacheIcpPktsRecv]'
          value_type: FLOAT
          description: 'Number of ICP messages received'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
        - uuid: dee7d8cf211b4ad0a645a8d6d4f24c31
          name: 'ICP messages sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.6.0]'
          key: 'squid[cacheIcpPktsSent]'
          value_type: FLOAT
          description: 'Number of ICP messages sent'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
        - uuid: cb9d0c300beb47568e99ff7966e1b10e
          name: 'ICP query service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.6.5]'
          key: 'squid[cacheIcpQuerySvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'ICP query service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: queries
        - uuid: 9130a0bc53144fe992b701aa9159ff70
          name: 'ICP query service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.6.60]'
          key: 'squid[cacheIcpQuerySvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'ICP query service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: queries
        - uuid: 35a7585432b3467585ff98b23e610d82
          name: 'ICP reply service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.7.5]'
          key: 'squid[cacheIcpReplySvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: replies
        - uuid: 94eab55af41a465196588d08acbacb56
          name: 'ICP reply service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.7.60]'
          key: 'squid[cacheIcpReplySvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: replies
        - uuid: c5409583483e4024aabaab500bcb637a
          name: 'IP cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.3.0]'
          key: 'squid[cacheIpHits]'
          value_type: FLOAT
          description: 'Number of IP Cache hits'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: hits
            - tag: component
              value: ip
        - uuid: 8e474d2fd410472bb03024d2a2361b5d
          name: 'IP cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.6.0]'
          key: 'squid[cacheIpMisses]'
          value_type: FLOAT
          description: 'Number of IP Cache misses'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: ip
            - tag: component
              value: misses
        - uuid: dc837a887c3c463a9011d923dbbfbc0f
          name: 'IP cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.2.0]'
          key: 'squid[cacheIpRequests]'
          value_type: FLOAT
          description: 'Number of IP Cache requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: ip
            - tag: component
              value: requests
        - uuid: 70786920f94f41eeb0fc525c2e6431cf
          name: 'Memory maximum resident size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.6.0]'
          key: 'squid[cacheMaxResSize]'
          value_type: FLOAT
          units: B
          description: 'Maximum Resident Size'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            - tag: component
              value: memory
        - uuid: d84c3a3633784f77bf9375bf59da490b
          name: 'Memory maximum cache size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.1.0]'
          key: 'squid[cacheMemMaxSize]'
          value_type: FLOAT
          units: B
          description: 'The value of the cache_mem parameter'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            - tag: component
              value: memory
        - uuid: c14fe87f87ca48f39bbe765db60e0a41
          name: 'Memory cache usage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.3.0]'
          key: 'squid[cacheMemUsage]'
          value_type: FLOAT
          units: B
          description: 'Total accounted memory'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            - tag: component
              value: memory
        - uuid: 387bbd61d3bd469baa6c560afe8a18ae
          name: 'Objects count'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.7.0]'
          key: 'squid[cacheNumObjCount]'
          value_type: FLOAT
          description: 'Number of objects stored by the cache'
          tags:
            - tag: component
              value: objects
        - uuid: 1e648a20db904e92ae4ec0c3f9037a99
          name: 'HTTP requests received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.1.0]'
          key: 'squid[cacheProtoClientHttpRequests]'
          value_type: FLOAT
          description: 'Number of HTTP requests received'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: requests
        - uuid: 31f3e3bb57d645ff8df6b9b8d1b70a49
          name: 'Byte hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.1]'
          key: 'squid[cacheRequestByteRatio.1]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: e19775b9c83648d58655a1130c5771e4
          name: 'Byte hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.5]'
          key: 'squid[cacheRequestByteRatio.5]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: ffb3fc17631f4cd6b55ed6eefd2e6cea
          name: 'Byte hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.60]'
          key: 'squid[cacheRequestByteRatio.60]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: a4ba5af69dd64fd8acf707ee1eaaeb32
          name: 'Request hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.1]'
          key: 'squid[cacheRequestHitRatio.1]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: b5ae7935e9be40e18c3020820a7865c7
          name: 'Request hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.5]'
          key: 'squid[cacheRequestHitRatio.5]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: b09f7a1d9dc340b88106016586099dba
          name: 'Request hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.60]'
          key: 'squid[cacheRequestHitRatio.60]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: 69e4fb088c6949ac94eabcb892df46ab
          name: 'Cache swap high water mark'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.3.0]'
          key: 'squid[cacheSwapHighWM]'
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap High Water Mark'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 221e583d7cf2455b9d848462de4b1e9a
          name: 'Cache swap low water mark'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.4.0]'
          key: 'squid[cacheSwapLowWM]'
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap Low Water Mark'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 215aefddd30e41aea54e30678f290215
          name: 'Cache swap directory size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.2.0]'
          key: 'squid[cacheSwapMaxSize]'
          value_type: FLOAT
          units: B
          description: 'The total of the cache_dir space allocated'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 38ad99f9b30c4d729030ceab6575f4f5
          name: 'Sys page faults per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.1.0]'
          key: 'squid[cacheSysPageFaults]'
          value_type: FLOAT
          description: 'Page faults with physical I/O'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: faults
        - uuid: 67460731d9c94166870874239c9a60da
          name: Uptime
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.1.3.0]'
          key: 'squid[cacheUptime]'
          delay: 5m
          units: s
          description: 'The Uptime of the cache in timeticks (in hundredths of a second) with preprocessing'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 89efc9400197427fa718395286dd3583
              expression: 'last(/Squid by SNMP/squid[cacheUptime])<10m'
              name: 'Squid: Squid has been restarted'
              event_name: 'Squid: Squid has been restarted (uptime < 10m)'
              priority: INFO
              description: 'Uptime is less than 10 minutes.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: d7c7f0faa1f64745be774e30e6f0b68f
          name: Version
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.3.0]'
          key: 'squid[cacheVersionId]'
          value_type: TEXT
          description: 'Cache Software Version'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: c5991152d2da4df7ae0d978233c5a859
              expression: 'last(/Squid by SNMP/squid[cacheVersionId],#1)<>last(/Squid by SNMP/squid[cacheVersionId],#2) and length(last(/Squid by SNMP/squid[cacheVersionId]))>0'
              name: 'Squid: Squid version has been changed'
              event_name: 'Squid: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Squid version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
      tags:
        - tag: class
          value: software
        - tag: target
          value: squid
      macros:
        - macro: '{$SQUID.FILE.DESC.WARN.MIN}'
          value: '100'
          description: 'The threshold for minimum number of available file descriptors'
        - macro: '{$SQUID.HTTP.PORT}'
          value: '3128'
          description: 'http_port configured in squid.conf (Default: 3128)'
        - macro: '{$SQUID.PAGE.FAULT.WARN}'
          value: '90'
          description: 'The threshold for sys page faults rate in percent of received HTTP requests'
        - macro: '{$SQUID.SNMP.COMMUNITY}'
          value: public
          description: 'SNMP community allowed by ACL in squid.conf'
        - macro: '{$SQUID.SNMP.PORT}'
          value: '3401'
          description: 'snmp_port configured in squid.conf (Default: 3401)'
      dashboards:
        - uuid: 0d026f3b6eb44b46b21e2aa9ce8a030e
          name: 'Squid: Overview'
          pages:
            - name: 'Resource usage'
              widgets:
                - type: graph
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Memory'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '5'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: File descriptor usage'
                    - type: STRING
                      name: reference
                      value: AAAAB
            - name: 'Service timing statistics'
              widgets:
                - type: graph
                  width: '72'
                  height: '10'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Service timing statistics'
                    - type: STRING
                      name: reference
                      value: AAAAC
            - name: 'Other statistics'
              widgets:
                - type: graph
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: HTTP Traffic'
                    - type: STRING
                      name: reference
                      value: AAAAD
                - type: graph
                  'y': '5'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Objects cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: graph
                  'y': '10'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Domain name (FQDN) cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAF
                - type: graph
                  'y': '15'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: DNS lookup statistics'
                    - type: STRING
                      name: reference
                      value: AAAAG
                - type: graph
                  'y': '20'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: IP address cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAH
      valuemaps:
        - uuid: 1bd791d250e441aeb1c73e499d96e98e
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
  triggers:
    - uuid: 89a1cfe0f02f4da880f197c2e5605db8
      expression: 'avg(/Squid by SNMP/squid[cacheSysPageFaults],5m)>avg(/Squid by SNMP/squid[cacheProtoClientHttpRequests],5m)/100*{$SQUID.PAGE.FAULT.WARN}'
      name: 'Squid: High sys page faults rate'
      event_name: 'Squid: High sys page faults rate (>{$SQUID.PAGE.FAULT.WARN}% of received HTTP requests)'
      priority: WARNING
      tags:
        - tag: scope
          value: performance
    - uuid: 5676f1e02dc7413fb1a34543ccaf1384
      expression: 'last(/Squid by SNMP/squid[cacheCurrentSwapSize])>last(/Squid by SNMP/squid[cacheSwapHighWM])*last(/Squid by SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than high watermark'
      event_name: 'Squid: Swap usage is more than high watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: HIGH
      tags:
        - tag: scope
          value: capacity
        - tag: scope
          value: performance
    - uuid: 2cf87472ebf74239bb782580448f696c
      expression: 'last(/Squid by SNMP/squid[cacheCurrentSwapSize])>last(/Squid by SNMP/squid[cacheSwapLowWM])*last(/Squid by SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than low watermark'
      event_name: 'Squid: Swap usage is more than low watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: WARNING
      tags:
        - tag: scope
          value: capacity
        - tag: scope
          value: performance
  graphs:
    - uuid: d8bb2c1dac8a4cb5999d29227a8510e6
      name: 'Squid: DNS lookup statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsReplies]'
    - uuid: e301cc76e0ff4e22bc66a46b19230c33
      name: 'Squid: Domain name (FQDN) cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnHits]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnMisses]'
    - uuid: 22556883f0a04b6999013d1a5ce58382
      name: 'Squid: File descriptor usage'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentFileDescrCnt]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentUnusedFDescrCnt]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentResFileDescrCnt]'
    - uuid: 647af850b9914d7b803c7f509f4c4f71
      name: 'Squid: HTTP Traffic'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpInKb]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpOutKb]'
    - uuid: c3d9ac16b3e24067b1041b93ee8aaebe
      name: 'Squid: IP address cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpHits]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpMisses]'
    - uuid: 7b9f0d0f6558432b83375e2fcd082812
      name: 'Squid: Memory'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMaxResSize]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMemMaxSize]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMemUsage]'
    - uuid: d4b916fb3ea14e55b3e9799b85d8e40b
      name: 'Squid: Objects cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheNumObjCount]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentUnlinkRequests]'
    - uuid: af823298924d47b09e17eeff093da448
      name: 'Squid: Service timing statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpAllSvcTime.5]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpAllSvcTime.60]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpMissSvcTime.5]'
        - sortorder: '3'
          color: F7941D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpMissSvcTime.60]'
        - sortorder: '4'
          color: FC6EA3
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpHitSvcTime.5]'
        - sortorder: '5'
          color: 6C59DC
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpHitSvcTime.60]'
        - sortorder: '6'
          color: C7A72D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpQuerySvcTime.5]'
        - sortorder: '7'
          color: BA2A5D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpQuerySvcTime.60]'
        - sortorder: '8'
          color: F230E0
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpReplySvcTime.5]'
        - sortorder: '9'
          color: 5CCD18
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpReplySvcTime.60]'
        - sortorder: '10'
          color: BB2A02
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsSvcTime.5]'
        - sortorder: '11'
          color: AC41A5
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsSvcTime.60]'
