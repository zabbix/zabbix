zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
  templates:
    - uuid: c5fd214cdd0d4b3b8272e73b022ba5c2
      template: 'Docker by Zabbix agent 2'
      name: 'Docker by Zabbix agent 2'
      description: |
        Get Docker engine metrics from plugin for the New Zabbix Agent (zabbix-agent2).
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/435429-discussion-thread-for-official-zabbix-template-docker
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.4-1
      groups:
        - name: Templates/Applications
      items:
        - uuid: 1d77b27beba04822a67bdedac22ec522
          name: Architecture
          type: DEPENDENT
          key: docker.architecture
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Architecture
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 32c441b73b90400fa0e6972798ae1f4c
          name: 'Cgroup driver'
          type: DEPENDENT
          key: docker.cgroup_driver
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CgroupDriver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 6edcd2fbe7c446738d323ce7f1c11810
          name: 'Get containers'
          key: docker.containers
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: 75f55b1f18c54af6ad0b3045cb230bd3
          name: 'Containers paused'
          type: DEPENDENT
          key: docker.containers.paused
          description: 'Total number of containers paused on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersPaused
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 976bf10901404fd290b6628af437e8e4
          name: 'Containers running'
          type: DEPENDENT
          key: docker.containers.running
          description: 'Total number of containers running on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersRunning
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 40179a84ffd14742b9df87f48a2eaa90
          name: 'Containers stopped'
          type: DEPENDENT
          key: docker.containers.stopped
          description: 'Total number of containers stopped on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersStopped
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: cacbbf17fd0144c79ecdcbf9e3ef9290
          name: 'Containers total'
          type: DEPENDENT
          key: docker.containers.total
          description: 'Total number of containers on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Containers
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 4d116791a88d4d4e8dd4a9013f9bc39f
          name: 'Containers size'
          type: DEPENDENT
          key: docker.containers_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Containers[*].SizeRw.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: containers
            - tag: component
              value: storage
        - uuid: fcf42585b871488f91a92d04b0cc748d
          name: 'CPU CFS Period enabled'
          type: DEPENDENT
          key: docker.cpu_cfs_period.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuCfsPeriod
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 54d3fa0099f24f75a6a414b7caf1b85a
          name: 'CPU CFS Quota enabled'
          type: DEPENDENT
          key: docker.cpu_cfs_quota.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuCfsQuota
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: ceddc2b06f4a4cb4acec3dc74c02ce3f
          name: 'CPU Set enabled'
          type: DEPENDENT
          key: docker.cpu_set.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CPUSet
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 2ad923020baf48c5a43f6c875ad45561
          name: 'CPU Shares enabled'
          type: DEPENDENT
          key: docker.cpu_shares.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CPUShares
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 4f7221691d494c60b40abb6dd5c14719
          name: 'Get data_usage'
          key: docker.data_usage
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: 0a258c42f6aa4eeeb355fec491710764
          name: 'Debug enabled'
          type: DEPENDENT
          key: docker.debug.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Debug
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: edb61f5ce3504f57bf32ddf2e50e4e3d
          name: 'Default runtime'
          type: DEPENDENT
          key: docker.default_runtime
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DefaultRuntime
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: 1ce2471ca651487288ad1aef9286da5f
          name: 'Storage driver'
          type: DEPENDENT
          key: docker.driver
          value_type: CHAR
          description: |
            Docker storage driver.
            https://docs.docker.com/storage/storagedriver/
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Driver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: storage
        - uuid: 14a7686d3bd74533aa8406297d419dfd
          name: Goroutines
          type: DEPENDENT
          key: docker.goroutines
          description: 'Number of goroutines.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NGoroutines
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 8b2be6316b8d4d019443062f0809b579
          name: 'Get images'
          key: docker.images
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: ab4a4d92e4c04ff685b687cf14414b06
          name: 'Images available'
          type: DEPENDENT
          key: docker.images.top_level
          description: 'Number of top-level images.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.length()
          master_item:
            key: docker.images
          tags:
            - tag: component
              value: images
        - uuid: d83337b0ea2c4f16be4b5b9c3a48755b
          name: 'Images total'
          type: DEPENDENT
          key: docker.images.total
          description: 'Number of images with intermediate image layers.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Images
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: images
        - uuid: bf4f531b727c47f0aa30de14d4b41b49
          name: 'Images size'
          type: DEPENDENT
          key: docker.images_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Images[*].Size.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: images
            - tag: component
              value: storage
        - uuid: 3d8265e0495d4cbe97535f281a957b3e
          name: 'Get info'
          key: docker.info
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: 3545c86b7db9494c94dcda09386ac827
          name: 'IPv4 Forwarding enabled'
          type: DEPENDENT
          key: docker.ipv4_forwarding.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.IPv4Forwarding
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: network
        - uuid: cb1e486a170b4d668a77d0918f22e51c
          name: 'Kernel memory enabled'
          type: DEPENDENT
          key: docker.kernel_mem.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelMemory
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: 77a61a63d6ed4583a0c39ce377b11d4f
          name: 'Kernel memory TCP enabled'
          type: DEPENDENT
          key: docker.kernel_mem_tcp.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelMemoryTCP
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: d645713e25c74686a47cf859725e655f
          name: 'Kernel version'
          type: DEPENDENT
          key: docker.kernel_version
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelVersion
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 2f512e64ba414e86806f19c0be803a3e
          name: 'Layers size'
          type: DEPENDENT
          key: docker.layers_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LayersSize
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: storage
        - uuid: 671cd65ddae046f5ba9b0f83241976ac
          name: 'Live restore enabled'
          type: DEPENDENT
          key: docker.live_restore.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LiveRestoreEnabled
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: be0cb2d07d12497b8b411e094fed6087
          name: 'Logging driver'
          type: DEPENDENT
          key: docker.logging_driver
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LoggingDriver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: e0da86d370a049e3a2d6a82e49ea1f37
          name: 'Memory total'
          type: DEPENDENT
          key: docker.mem.total
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemTotal
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: b08c91f28e094c4faa3e004d3fb3057d
          name: 'Memory limit enabled'
          type: DEPENDENT
          key: docker.mem_limit.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemoryLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: 812a6b9902a44dd7a803c7218555afe7
          name: Name
          type: DEPENDENT
          key: docker.name
          history: 1h
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Name
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 2c62bb4d95684e6984447027d117ff4d
              expression: 'nodata(/Docker by Zabbix agent 2/docker.name,30m)=1'
              name: 'Docker: Failed to fetch info data'
              event_name: 'Docker: Failed to fetch info data (or no data for 30m)'
              priority: WARNING
              description: 'Zabbix has not received data for items for the last 30 minutes.'
              manual_close: 'YES'
              dependencies:
                - name: 'Docker: Service is down'
                  expression: 'last(/Docker by Zabbix agent 2/docker.ping)=0'
              tags:
                - tag: scope
                  value: availability
        - uuid: 5e4999067e6948f893dc465f8e5a2b5f
          name: NCPU
          type: DEPENDENT
          key: docker.ncpu
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NCPU
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: f64919a3a5dc4f429f2992eb7ae5223c
          name: 'NEvents listener'
          type: DEPENDENT
          key: docker.nevents_listener
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NEventsListener
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: ce025599e68d447f9a1f5c076502e2f2
          name: Nfd
          type: DEPENDENT
          key: docker.nfd
          description: 'Number of used File Descriptors.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NFd
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: e164279251ce471abaae599bf1885bbb
          name: 'OomKill disabled'
          type: DEPENDENT
          key: docker.oomkill.disabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OomKillDisable
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 78a5af9aa6a741d4ac976d0949414b68
          name: 'Operating system'
          type: DEPENDENT
          key: docker.operating_system
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OperatingSystem
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 3acc93aa0fe64696a5560adcb3dd5acc
          name: 'OS type'
          type: DEPENDENT
          key: docker.os_type
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OSType
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 58ecaf4ae7f04316b6bf019cabadfd3e
          name: 'Pids limit enabled'
          type: DEPENDENT
          key: docker.pids_limit.enabled
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PidsLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 3c8f26e4b80f4356bde061ccddb95f2c
          name: Ping
          key: docker.ping
          valuemap:
            name: 'Service state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            - tag: component
              value: application
            - tag: component
              value: health
          triggers:
            - uuid: a4f00b4d25b54acfa61475c94651d8a5
              expression: 'last(/Docker by Zabbix agent 2/docker.ping)=0'
              name: 'Docker: Service is down'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: 864eae0a62374f729143d6efc4f1655a
          name: 'Docker root dir'
          type: DEPENDENT
          key: docker.root_dir
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DockerRootDir
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: a7e5441fe4d64848a7c5e374ea99ad54
          name: 'Server version'
          type: DEPENDENT
          key: docker.server_version
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ServerVersion
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: f5f4fb1337264ac2bec6b6505dfe180b
              expression: 'last(/Docker by Zabbix agent 2/docker.server_version,#1)<>last(/Docker by Zabbix agent 2/docker.server_version,#2) and length(last(/Docker by Zabbix agent 2/docker.server_version))>0'
              name: 'Docker: Version has changed'
              event_name: 'Docker: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Docker version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: fcbe64ee979a4787a4b0f06836b258bd
          name: 'Swap limit enabled'
          type: DEPENDENT
          key: docker.swap_limit.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SwapLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 6c81479dba77465ebcd335a5f3d08e19
          name: 'Volumes size'
          type: DEPENDENT
          key: docker.volumes_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Volumes[*].UsageData.Size.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: storage
      discovery_rules:
        - uuid: 6f379dce9d3440018deb2c2cbaa91c06
          name: 'Containers discovery'
          key: 'docker.containers.discovery[false]'
          delay: 15m
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.CONTAINER.MATCHES}'
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.CONTAINER.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: |
            Discovery of containers metrics.
            
            Parameter:
            true  - Returns all containers
            false - Returns only running containers
          item_prototypes:
            - uuid: 2c5d0902f43343ef85a9067cf3d59cfd
              name: 'Container {#NAME}: Created'
              type: DEPENDENT
              key: 'docker.container_info.created["{#NAME}"]'
              units: unixtime
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.Created) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 1c481ac2b05e4b53b85b7fd37a39bc4a
              name: 'Container {#NAME}: Finished at'
              type: DEPENDENT
              key: 'docker.container_info.finished["{#NAME}"]'
              value_type: FLOAT
              units: unixtime
              description: 'Time at which the container last terminated.'
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.State.FinishedAt) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: ee9da156a6134760af1762236d08e566
              name: 'Container {#NAME}: Image'
              type: DEPENDENT
              key: 'docker.container_info.image["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Names[0] == "{#NAME}")].Image.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: docker.containers
              tags:
                - tag: component
                  value: images
                - tag: container
                  value: '{#NAME}'
            - uuid: 72de0e4e056a4d3799d61cb3ac19a306
              name: 'Container {#NAME}: Restart count'
              type: DEPENDENT
              key: 'docker.container_info.restart_count["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.RestartCount
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 0b6ce9bd73244e79bc9c4e00f56c2465
              name: 'Container {#NAME}: Started at'
              type: DEPENDENT
              key: 'docker.container_info.started["{#NAME}"]'
              value_type: FLOAT
              units: unixtime
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.State.StartedAt) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: fd9d315125fb40738c00bab16c145255
              name: 'Container {#NAME}: Dead'
              type: DEPENDENT
              key: 'docker.container_info.state.dead["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Dead
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: be3eed62681045aaa667a417a7383a58
              name: 'Container {#NAME}: Error'
              type: DEPENDENT
              key: 'docker.container_info.state.error["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Error
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: ee70b91196494eccb54772b22051a456
                  expression: 'last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"],#1)<>last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"],#2) and length(last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"]))>0'
                  name: 'Docker: Container {#NAME}: An error has occurred in the container'
                  event_name: 'Docker: Container {#NAME}: Version has changed (new version: {ITEM.VALUE})'
                  priority: WARNING
                  description: 'Container {#NAME} has an error. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 65d5ac15043446658cd8e0d326b1bf04
              name: 'Container {#NAME}: Exit code'
              type: DEPENDENT
              key: 'docker.container_info.state.exitcode["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.ExitCode
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 50f86a4815d74d9ea7103cd5c7586ff1
              name: 'Container {#NAME}: Health failing streak'
              type: DEPENDENT
              key: 'docker.container_info.state.health.failing["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Health.FailingStreak
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 985b5f9d4e0249fa8688de245f63cf74
              name: 'Container {#NAME}: Health status'
              type: DEPENDENT
              key: 'docker.container_info.state.health["{#NAME}"]'
              value_type: FLOAT
              description: 'Container''s `HEALTHCHECK`.'
              valuemap:
                name: 'Docker container health state'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                      if (typeof input.State.Health !== 'object' || typeof input.State.Health === 'undefined') {
                        return 4;
                      }
                        return (['starting', 'unhealthy', 'healthy', 'none'].indexOf(input.State.Health.Status) + 1);
                - type: IN_RANGE
                  parameters:
                    - '1'
                    - '4'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '4'
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 987178603ce84f9292091c6196e89ea4
                  expression: 'count(/Docker by Zabbix agent 2/docker.container_info.state.health["{#NAME}"],2m,,2)>=2'
                  name: 'Docker: Container {#NAME}: Health state container is unhealthy'
                  opdata: '{ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Container health state is unhealthy.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 69381dd6116f4b0d9d957dd1e768748b
              name: 'Container {#NAME}: OOMKilled'
              type: DEPENDENT
              key: 'docker.container_info.state.oomkilled["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.OOMKilled
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 000375ca6899443cac7e02e1239d879e
              name: 'Container {#NAME}: Paused'
              type: DEPENDENT
              key: 'docker.container_info.state.paused["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Paused
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 15dffc2d2aeb4a15954b624c7c273155
              name: 'Container {#NAME}: Pid'
              type: DEPENDENT
              key: 'docker.container_info.state.pid["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Pid
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 38829fadf7f246c99c9776945022fac1
              name: 'Container {#NAME}: Restarting'
              type: DEPENDENT
              key: 'docker.container_info.state.restarting["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Restarting
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 6d8d5a7523f64968b72f4861e9ae867a
              name: 'Container {#NAME}: Running'
              type: DEPENDENT
              key: 'docker.container_info.state.running["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Running
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: c7f1d81836d54a528184c7d4be60b792
              name: 'Container {#NAME}: Status'
              type: DEPENDENT
              key: 'docker.container_info.state.status["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Status
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 743e2c9545de49c89472e343bf8d38da
              name: 'Container {#NAME}: Get info'
              key: 'docker.container_info["{#NAME}",full]'
              history: '0'
              value_type: CHAR
              description: 'Return low-level information about a container.'
              tags:
                - tag: component
                  value: raw
                - tag: container
                  value: '{#NAME}'
            - uuid: d54b82d76c7b44ca8995486e4bf46298
              name: 'Container {#NAME}: CPU percent usage'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_pct_usage["{#NAME}"]'
              value_type: FLOAT
              units: '%'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.percent_usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 92510799a44b4b93921d7b4d308ef10d
              name: 'Container {#NAME}: CPU kernelmode usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.kernel.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.usage_in_kernelmode
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 4c71c95c86d2433da78b0cd3ba5d56fa
              name: 'Container {#NAME}: Throttled periods'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttled_periods["{#NAME}"]'
              description: 'Number of periods when the container hits its throttling limit.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.throttled_periods
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: ff834b708f764ce6b08fcfbc1dfacb60
              name: 'Container {#NAME}: Throttled time'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttled_time["{#NAME}"]'
              value_type: FLOAT
              units: s
              description: 'Aggregate time the container was throttled for in nanoseconds.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.throttled_time
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 151f2f36bfb2429b8c8e500067489694
              name: 'Container {#NAME}: Throttling periods'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttling_periods["{#NAME}"]'
              description: 'Number of periods with throttling active.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.periods
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 2c21d9b3968c43e68231ddc5b2d05808
              name: 'Container {#NAME}: CPU total usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.total.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.total_usage
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 801467fe7cbe48b8b05c5005680b934a
              name: 'Container {#NAME}: CPU usermode usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.user.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.usage_in_usermode
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: bd57aed03daa47e68acc4dc38a1697b7
              name: 'Container {#NAME}: Memory commit bytes'
              type: DEPENDENT
              key: 'docker.container_stats.memory.commit_bytes["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.commitbytes
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 1e110d4d78e74ca8b12a1923f73543f1
              name: 'Container {#NAME}: Memory commit peak bytes'
              type: DEPENDENT
              key: 'docker.container_stats.memory.commit_peak_bytes["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.commitpeakbytes
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: b463f79d6c0644a394c3c0ba8f1d29d1
              name: 'Container {#NAME}: Memory maximum usage'
              type: DEPENDENT
              key: 'docker.container_stats.memory.max_usage["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.max_usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 763c8878d2c74d069567cbcd1d53544c
              name: 'Container {#NAME}: Memory private working set'
              type: DEPENDENT
              key: 'docker.container_stats.memory.private_working_set["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.privateworkingset
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 6f39422b278b4a4398bfbd993f247fd0
              name: 'Container {#NAME}: Memory usage'
              type: DEPENDENT
              key: 'docker.container_stats.memory.usage["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: a5999dfeccca44ca8679ef71876da773
              name: 'Container {#NAME}: Online CPUs'
              type: DEPENDENT
              key: 'docker.container_stats.online_cpus["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.online_cpus
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 17017edbd17241b180549b826b3bb467
              name: 'Container {#NAME}: Current PIDs count'
              type: DEPENDENT
              key: 'docker.container_stats.pids_stats.current["{#NAME}"]'
              description: 'Current number of PIDs the container has created.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.pids_stats.current
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 4192b5b8be2545568637b7121c1466c1
              name: 'Container {#NAME}: Get stats'
              key: 'docker.container_stats["{#NAME}"]'
              history: '0'
              value_type: CHAR
              description: 'Get container stats based on resource usage.'
              tags:
                - tag: component
                  value: raw
                - tag: container
                  value: '{#NAME}'
            - uuid: 4ab3f13ab7714367b971eada3f01c611
              name: 'Container {#NAME}: Networks bytes received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_bytes["{#NAME}"]'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_bytes.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: cf4517565e3f4fc49e7d6d411302a732
              name: 'Container {#NAME}: Networks incoming packets dropped per second'
              type: DEPENDENT
              key: 'docker.networks.rx_dropped["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_dropped.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 9d139e59dc1b46d39832ca668d5a6ce1
              name: 'Container {#NAME}: Networks errors received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_errors["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_errors.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 13fb8c2c3843481492af82c3308e1257
              name: 'Container {#NAME}: Networks packets received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_packets["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_packets.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: da4bf99b26e540fdafc0ee99d50e1c6c
              name: 'Container {#NAME}: Networks bytes sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_bytes["{#NAME}"]'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_bytes.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 1f4d7848ecfd44ae958cc1bd64d61078
              name: 'Container {#NAME}: Networks outgoing packets dropped per second'
              type: DEPENDENT
              key: 'docker.networks.tx_dropped["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_dropped.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: bc7273bd3a7d4c9d9d6d6b3a019af947
              name: 'Container {#NAME}: Networks errors sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_errors["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_errors.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 9191bd95da9a4ee9a7315d20de23c977
              name: 'Container {#NAME}: Networks packets sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_packets["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_packets.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
          trigger_prototypes:
            - uuid: db675ff608a14b12bcc02e6b500c557f
              expression: 'last(/Docker by Zabbix agent 2/docker.container_info.state.exitcode["{#NAME}"])>0 and last(/Docker by Zabbix agent 2/docker.container_info.state.running["{#NAME}"])=0'
              name: 'Docker: Container {#NAME}: Container has been stopped with error code'
              opdata: 'Exit code: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
          graph_prototypes:
            - uuid: 72e32a60dc064affb3bb6785bae50e37
              name: 'Container {#NAME}: CPU usage'
              type: STACKED
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.kernel.rate["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.user.rate["{#NAME}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.total.rate["{#NAME}"]'
            - uuid: ef48f834b7d543169b21caff1e1d2ade
              name: 'Container {#NAME}: Memory usage'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.memory.usage["{#NAME}"]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.memory.max_usage["{#NAME}"]'
            - uuid: 5cc619d6da2046928ad6d0c28a0e4186
              name: 'Container {#NAME}: Network packets'
              graph_items:
                - drawtype: BOLD_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_packets["{#NAME}"]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_packets["{#NAME}"]'
                - sortorder: '2'
                  drawtype: BOLD_LINE
                  color: 00611C
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_errors["{#NAME}"]'
                - sortorder: '3'
                  drawtype: BOLD_LINE
                  color: F7941D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_errors["{#NAME}"]'
                - sortorder: '4'
                  drawtype: BOLD_LINE
                  color: FC6EA3
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_dropped["{#NAME}"]'
                - sortorder: '5'
                  drawtype: BOLD_LINE
                  color: 6C59DC
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_dropped["{#NAME}"]'
            - uuid: 1952afdd7ab54a65b7f839fd6490f9ff
              name: 'Container {#NAME}: Network traffic'
              graph_items:
                - drawtype: BOLD_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_bytes["{#NAME}"]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_bytes["{#NAME}"]'
        - uuid: 0b31468772c942cc8a401af2d33f17d2
          name: 'Images discovery'
          key: docker.images.discovery
          delay: 15m
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.IMAGE.MATCHES}'
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.IMAGE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Discovery of images metrics.'
          item_prototypes:
            - uuid: 63b19204b1d0459b9969234a719dab93
              name: 'Image {#NAME}: Created'
              type: DEPENDENT
              key: 'docker.image.created["{#ID}"]'
              units: unixtime
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Id == "{#ID}")].Created.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: docker.images
              tags:
                - tag: component
                  value: system
                - tag: image
                  value: '{#NAME}'
            - uuid: 4eb812ba952e417185f6ac499d6cb85a
              name: 'Image {#NAME}: Size'
              type: DEPENDENT
              key: 'docker.image.size["{#ID}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Id == "{#ID}")].Size.first()'
              master_item:
                key: docker.images
              tags:
                - tag: component
                  value: storage
                - tag: image
                  value: '{#NAME}'
      tags:
        - tag: class
          value: software
        - tag: target
          value: docker
      macros:
        - macro: '{$DOCKER.LLD.FILTER.CONTAINER.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable containers.'
        - macro: '{$DOCKER.LLD.FILTER.CONTAINER.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered containers.'
        - macro: '{$DOCKER.LLD.FILTER.IMAGE.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable images.'
        - macro: '{$DOCKER.LLD.FILTER.IMAGE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered images.'
      dashboards:
        - uuid: 7eb6472d07ac4c379e6b730b59a12507
          name: 'Docker overview'
          pages:
            - widgets:
                - type: graph
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Containers'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Memory total'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: graph
                  'y': '10'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Images'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: graph
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Size'
                    - type: STRING
                      name: reference
                      value: AAAAB
                - type: graph
                  x: '36'
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Goroutines'
                    - type: STRING
                      name: reference
                      value: AAAAD
      valuemaps:
        - uuid: bec7f850ca6a477fbaa6c409d971259f
          name: 'Docker container health state'
          mappings:
            - value: '1'
              newvalue: starting
            - value: '2'
              newvalue: unhealthy
            - value: '3'
              newvalue: healthy
            - value: '4'
              newvalue: none
        - uuid: 2465e37ba23f4a7cb895835d8cf94737
          name: 'Docker date format'
          mappings:
            - value: '-1'
              newvalue: 'Error parsing date'
            - value: '-62135596800'
              newvalue: 'Null time'
        - uuid: c289195aa4dc47ab883fa95c9cb6fd07
          name: 'Docker flag'
          mappings:
            - value: '0'
              newvalue: 'False'
            - value: '1'
              newvalue: 'True'
        - uuid: 8effc3f81db14540996e2373dde6eca9
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
  graphs:
    - uuid: 5959831c9ec840f3af4ec7031f5213aa
      name: 'Docker: Containers'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.running
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.paused
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 00611C
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.stopped
        - sortorder: '3'
          drawtype: BOLD_LINE
          color: F7941D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.total
    - uuid: b9131437fcc24587b47ef6dd5d51e15b
      name: 'Docker: Goroutines'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.goroutines
    - uuid: 130ff603f0cd4ac4844817ccede8cfac
      name: 'Docker: Images'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images.top_level
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images.total
    - uuid: 5115b03abf71402db63c59b570e83dba
      name: 'Docker: Memory total'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.mem.total
    - uuid: 815866ae9f77447bbf15a1b91f7c7708
      name: 'Docker: Size'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images_size
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.layers_size
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 00611C
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers_size
        - sortorder: '3'
          drawtype: BOLD_LINE
          color: F7941D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.volumes_size
