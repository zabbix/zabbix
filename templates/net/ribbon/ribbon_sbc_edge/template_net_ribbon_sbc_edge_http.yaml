zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    - uuid: 6095f32a1e6f432a8a053e6245891632
      template: 'Ribbon SBC Edge by HTTP'
      name: 'Ribbon SBC Edge by HTTP'
      description: |
        The Ribbon Session Border Controller Edge (SBC Edge) is a security and interoperability solution for medium-sized businesses and large branch offices.
        
        This template is designed for the effortless deployment of Ribbon SBC Edge monitoring and doesn't require any external scripts.
        
        More details can be found in the official Ribbon documentation:
        - REST API Reference: https://publicdoc.rbbn.com/spaces/UXAPIDOC/pages/17400598/Configuration+Resources
        - REST API User's Guide: https://publicdoc.rbbn.com/spaces/UXAPIDOC/pages/387008766/REST+API+User+s+Guide
        
        Generated by official Zabbix template tool "Templator"
      wizard_ready: 'YES'
      readme: |
        ## Overview
        
        The Ribbon Session Border Controller Edge (SBC Edge) is a security and interoperability solution for medium-sized businesses and large branch offices.
        
        This template is designed for the effortless deployment of Ribbon SBC Edge monitoring and doesn't require any external scripts.
        
        More details can be found in the official Ribbon documentation:
            - [REST API Reference](https://publicdoc.rbbn.com/spaces/UXAPIDOC/pages/17400598/Configuration+Resources)
            - [REST API User's Guide](https://publicdoc.rbbn.com/spaces/UXAPIDOC/pages/387008766/REST+API+User+s+Guide)
        
        ## Setup
        
        1. Create a new user according to [REST API requirements](https://publicdoc.rbbn.com/spaces/UXAPIDOC/pages/387008769/REST+API+-+Requirements)
        2. Create a new host
        3. Link the template to the host created earlier
        4. Set the host wizard configuration field `Ribbon SBC URL` required for getting data.
        5. Set the host wizard configuration fields `Ribbon SBC user` and `Ribbon SBC password` with the login and password of the user created earlier.
      vendor:
        name: Zabbix
        version: 7.4-0
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: c1f97c4fd20142b2918303dc0839cfee
          name: 'ASM Operating System License Type'
          type: DEPENDENT
          key: ribbon.chassis.asm.license.type
          description: |
            The ASM Operating System version that is licensed by the factory.
            Possible values:
            - Unknown
            - Win2008R2
            - Win2012R2
            - Win2019
          valuemap:
            name: 'Ribbon: ASM Operating System License Type'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.AsmOsLicenseType
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 432c7e601ca3411ca301f69523c9e497
          name: 'Chassis board bottom temp1'
          type: DEPENDENT
          key: ribbon.chassis.board.bottom.temp1
          units: '!°C'
          description: 'Indicates the temperature on the bottom of the main board in degrees Celsius.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.rt_Chassis_BoardBottom_Temp1
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: sensor
        - uuid: e5d80421a325463bbe3e6b45263d6f29
          name: 'Chassis board top temp2'
          type: DEPENDENT
          key: ribbon.chassis.board.top.temp2
          units: '!°C'
          description: 'Indicates the temperature on the top of the main board in degrees Celsius.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.rt_Chassis_BoardTop_Temp2
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: sensor
        - uuid: 8030911f70f54e90af72087fbfad8195
          name: 'Chassis core switch temp'
          type: DEPENDENT
          key: ribbon.chassis.core.switch.temp
          units: '!°C'
          description: 'Indicates the core switch temperature in degrees Celsius.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.rt_Chassis_CoreSwitch_Temp
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: sensor
        - uuid: 838b633a55734788973aa9cf96a8db87
          name: 'Chassis Status'
          type: DEPENDENT
          key: ribbon.chassis.status
          description: |
            Indicates the hardware initialization state for this card.
            Possible values:
              - None
              - Card Idle
              - Card Detected
              - Card Activating
              - Card Activated
              - Card Remove Requested
              - Card Removing
              - Card Removed
              - Card Downloading
              - Card Failed
              - Card Disabled Long Loop
              - MAX
          valuemap:
            name: 'Ribbon: System status'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.rt_Status
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 22a66eac1fe24e3fa389035229dffd66
          name: 'Chassis type'
          type: DEPENDENT
          key: ribbon.chassis.type
          value_type: CHAR
          description: 'Indicates whether the device is an SBC1000 or an SBC2000.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.chassis.rt_Chassis_Type
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: f04175a8aea44c60a372be27b266ffc0
          name: 'CPU Load average 1m'
          type: DEPENDENT
          key: ribbon.cpu.load.avg1
          value_type: FLOAT
          description: 'Average number of processes over the last minute waiting to run because the CPU is busy.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_CPULoadAverage1m
            - type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: cpu
        - uuid: 3643fd54c5d0406792bfd0183585f2de
          name: 'CPU Load average 5m'
          type: DEPENDENT
          key: ribbon.cpu.load.avg5
          value_type: FLOAT
          description: 'Average number of processes over the last five minutes waiting to run because the CPU is busy.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_CPULoadAverage5m
            - type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: cpu
        - uuid: 44669fba4717429688730da02f80b8fd
          name: 'CPU Load average 15m'
          type: DEPENDENT
          key: ribbon.cpu.load.avg15
          value_type: FLOAT
          description: 'Average number of processes over the last fifteen minutes waiting to run because the CPU is busy.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_CPULoadAverage15m
            - type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: cpu
        - uuid: 9d29d99112ef4b89bd3d53bf2820072c
          name: 'CPU usage'
          type: DEPENDENT
          key: ribbon.cpu.usage
          value_type: FLOAT
          units: '%'
          description: 'Average CPU usage in percent.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_CPUUsage
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: cpu
          triggers:
            - uuid: 07f6e1ede4df44b88834391d527206ac
              expression: 'min(/Ribbon SBC Edge by HTTP/ribbon.cpu.usage,5m)>{$RIBBON.CPU.UTIL.CRIT}'
              name: 'Ribbon: High CPU utilization'
              event_name: 'Ribbon: High CPU utilization (over {$RIBBON.CPU.UTIL.CRIT}% for 5m)'
              opdata: 'Current utilization: {ITEM.LASTVALUE}'
              priority: AVERAGE
              description: 'CPU utilization is too high. The system might be slow to respond.'
              tags:
                - tag: scope
                  value: availability
        - uuid: e488322bded4491eb43e5f1a4e55240c
          name: 'Get disk partition'
          type: SCRIPT
          key: ribbon.disk.get
          history: '0'
          value_type: TEXT
          params: |
            var Ribbon = {
            	params: {},
            	request: new HttpRequest(),
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response;
            
            		if (typeof Ribbon.params.proxy !== 'undefined' && Ribbon.params.proxy !== '') {
            			Ribbon.request.setProxy(Ribbon.params.proxy);
            		}
            
            		Zabbix.log(4, '[ Ribbon SBC 2000 ] Sending request: ' + url);
            
            		response = Ribbon.request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC 2000  ] Received response with status code ' + Ribbon.request.getStatus() + ': ' + response);
            
            		if (Ribbon.request.getStatus() < 200 || Ribbon.request.getStatus() >= 300) {
            			throw 'Cannot connect to Ribbon SBC. Check debug log for more information.';
            		}
            
            		try {
            			response = JSON.parse(XML.toJson(response));
            		}
            		catch (error) {
            			throw 'Failed to parse response received from Ribbon SBC API. Check debug log for more information.';
            		}
            
            		return response;
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	login: function () {
            		var response = "",
            			cookies = "",
            			payload = 'Username=' + encodeURIComponent(Ribbon.params.username) + '&Password=' + encodeURIComponent(Ribbon.params.password);
            		
            		Ribbon.request.addHeader('Content-Type', 'application/x-www-form-urlencoded');
            		response = Ribbon.request.post(Ribbon.params.url + '/rest/login', payload);
            
            		var headers = Ribbon.request.getHeaders();
            		for (var key in headers) {
            			if (key.toLowerCase() == 'set-cookie') {
            				cookies = headers[key];
            			}
            		}
            
            		Ribbon.request.addHeader('Cookie', cookies);
            	},
            
            	logout: function () {
            		var response = Ribbon.request.post(Ribbon.params.url + '/rest/logout');
            
            		return JSON.parse(XML.toJson(response));
            	}
            };
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	Ribbon.login();
            	var diskpartition_list = Ribbon.getField(Ribbon.getRequest("/rest/diskpartition"), 'root.diskpartition_list.diskpartition_pk');
            	for (var key in diskpartition_list) {
            		var id = diskpartition_list[key]["@href"].split("/").slice(-1)[0];
            		result[id] = Ribbon.getField(Ribbon.getRequest("/rest/diskpartition/" + id), 'root.diskpartition');
            	}
            	Ribbon.logout();
            	
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC 2000 ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets the system disk partition.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: c16a04d4ac1041509c563c46b05d4d65
          name: 'Get fan'
          type: SCRIPT
          key: ribbon.fan.get
          history: '0'
          value_type: TEXT
          params: |
            var Ribbon = {
            	params: {},
            	request: new HttpRequest(),
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response;
            
            		if (typeof Ribbon.params.proxy !== 'undefined' && Ribbon.params.proxy !== '') {
            			Ribbon.request.setProxy(Ribbon.params.proxy);
            		}
            
            		Zabbix.log(4, '[ Ribbon SBC 2000 ] Sending request: ' + url);
            
            		response = Ribbon.request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC 2000  ] Received response with status code ' + Ribbon.request.getStatus() + ': ' + response);
            
            		if (Ribbon.request.getStatus() < 200 || Ribbon.request.getStatus() >= 300) {
            			throw 'Cannot connect to Ribbon SBC. Check debug log for more information.';
            		}
            
            		try {
            			response = JSON.parse(XML.toJson(response));
            		}
            		catch (error) {
            			throw 'Failed to parse response received from Ribbon SBC API. Check debug log for more information.';
            		}
            
            		return response;
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	login: function () {
            		var response = "",
            			cookies = "",
            			payload = 'Username=' + encodeURIComponent(Ribbon.params.username) + '&Password=' + encodeURIComponent(Ribbon.params.password);
            		
            		Ribbon.request.addHeader('Content-Type', 'application/x-www-form-urlencoded');
            		response = Ribbon.request.post(Ribbon.params.url + '/rest/login', payload);
            
            		var headers = Ribbon.request.getHeaders();
            		for (var key in headers) {
            			if (key.toLowerCase() == 'set-cookie') {
            				cookies = headers[key];
            			}
            		}
            
            		Ribbon.request.addHeader('Cookie', cookies);
            	},
            
            	logout: function () {
            		var response = Ribbon.request.post(Ribbon.params.url + '/rest/logout');
            
            		return JSON.parse(XML.toJson(response));
            	}
            };
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	Ribbon.login();
            	var fan_list = Ribbon.getField(Ribbon.getRequest("/rest/fan"), 'root.fan_list.fan_pk');
            	for (var fan in fan_list) {
            		var id = fan_list[fan]["@href"].split("/").slice(-1)[0];
            		result[id] = Ribbon.getField(Ribbon.getRequest("/rest/fan/" + id), 'root.fan');
            	}
            	Ribbon.logout();
            	
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC 2000 ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets fan data.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: 0b35ef10ea54481690fce00029a9742b
          name: 'File descriptor usage'
          type: DEPENDENT
          key: ribbon.fd.usage
          description: 'Number of file descriptors used by the system.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_FDUsage
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: storage
        - uuid: caa51fc4d639432b96b6b20304be74a2
          name: 'Memory usage'
          type: DEPENDENT
          key: ribbon.memory.usage
          units: '%'
          description: 'Average usage of system memory in percent.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_MemoryUsage
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: cd378b8df60c43d98e866f72c240b08e
              expression: 'min(/Ribbon SBC Edge by HTTP/ribbon.memory.usage,5m)>{$RIBBON.MEMORY.UTIL.CRIT}'
              name: 'Ribbon: High memory utilization'
              event_name: 'Ribbon: High memory utilization (over {$RIBBON.MEMORY.UTIL.CRIT}% for 5m)'
              opdata: 'Current utilization: {ITEM.LASTVALUE}'
              priority: AVERAGE
              description: 'Memory utilization is too high. The system might be slow to respond.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 14f5043b667145018111d537c3e3fea6
          name: 'Get interface'
          type: SCRIPT
          key: ribbon.net.if.get
          history: '0'
          value_type: TEXT
          params: |
            var Ribbon = {
            	params: {},
            	request: new HttpRequest(),
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response;
            
            		if (typeof Ribbon.params.proxy !== 'undefined' && Ribbon.params.proxy !== '') {
            			Ribbon.request.setProxy(Ribbon.params.proxy);
            		}
            
            		Zabbix.log(4, '[ Ribbon SBC 2000 ] Sending request: ' + url);
            
            		response = Ribbon.request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC 2000  ] Received response with status code ' + Ribbon.request.getStatus() + ': ' + response);
            
            		if (Ribbon.request.getStatus() < 200 || Ribbon.request.getStatus() >= 300) {
            			throw 'Cannot connect to Ribbon SBC. Check debug log for more information.';
            		}
            
            		try {
            			response = JSON.parse(XML.toJson(response));
            		}
            		catch (error) {
            			throw 'Failed to parse response received from Ribbon SBC API. Check debug log for more information.';
            		}
            
            		return response;
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	login: function () {
            		var response = "",
            			cookies = "",
            			payload = 'Username=' + encodeURIComponent(Ribbon.params.username) + '&Password=' + encodeURIComponent(Ribbon.params.password);
            		
            		Ribbon.request.addHeader('Content-Type', 'application/x-www-form-urlencoded');
            		response = Ribbon.request.post(Ribbon.params.url + '/rest/login', payload);
            
            		var headers = Ribbon.request.getHeaders();
            		for (var key in headers) {
            			if (key.toLowerCase() == 'set-cookie') {
            				cookies = headers[key];
            			}
            		}
            
            		Ribbon.request.addHeader('Cookie', cookies);
            	},
            
            	logout: function () {
            		var response = Ribbon.request.post(Ribbon.params.url + '/rest/logout');
            
            		return JSON.parse(XML.toJson(response));
            	}
            };
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	Ribbon.login();
            	var eth_list = Ribbon.getField(Ribbon.getRequest("/rest/ethernetport"), 'root.ethernetport_list.ethernetport_pk');
            	for (var eth in eth_list) {
            		var id = eth_list[eth]["@href"].split("/").slice(-1)[0];
            		result[id] = Ribbon.getField(Ribbon.getRequest("/rest/ethernetport/" + id), 'root.ethernetport');
            	}
            	Ribbon.logout();
            	
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC 2000 ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets the system ethernet port statistics.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: 4f060e13a75c44a1b468ab5546bf58e2
          name: 'Number of call attempts'
          type: DEPENDENT
          key: ribbon.number.call.attempts
          description: 'Total number of call attempts system-wide since the system came up.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.systemcallstats.rt_NumCallAttempts
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: application
        - uuid: a865d9559e7947efb3a6055fb6433d85
          name: 'Number of call currently up'
          type: DEPENDENT
          key: ribbon.number.call.currently
          description: 'Number of currently connected calls system-wide.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.systemcallstats.rt_NumCallCurrentlyUp
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: application
        - uuid: 86db48bf6e4f44428910f46a4c67c029
          name: 'Number of call failed'
          type: DEPENDENT
          key: ribbon.number.call.failed
          description: 'Total number of failed calls system-wide since the system came up.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.systemcallstats.rt_NumCallFailed
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: application
        - uuid: 5e70a41d4f5a4f1a8ac4c753220554a8
          name: 'Number of call succeeded'
          type: DEPENDENT
          key: ribbon.number.call.succeeded
          description: 'Total number of successful calls system-wide since the system came up.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.systemcallstats.rt_NumCallSucceeded
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: application
        - uuid: 23900dbafdfc4c5ca70cfaef5432a5e6
          name: 'Get power supply'
          type: SCRIPT
          key: ribbon.psu.get
          history: '0'
          value_type: TEXT
          params: |
            var Ribbon = {
            	params: {},
            	request: new HttpRequest(),
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response;
            
            		if (typeof Ribbon.params.proxy !== 'undefined' && Ribbon.params.proxy !== '') {
            			Ribbon.request.setProxy(Ribbon.params.proxy);
            		}
            
            		Zabbix.log(4, '[ Ribbon SBC 2000 ] Sending request: ' + url);
            
            		response = Ribbon.request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC 2000  ] Received response with status code ' + Ribbon.request.getStatus() + ': ' + response);
            
            		if (Ribbon.request.getStatus() < 200 || Ribbon.request.getStatus() >= 300) {
            			throw 'Cannot connect to Ribbon SBC. Check debug log for more information.';
            		}
            
            		try {
            			response = JSON.parse(XML.toJson(response));
            		}
            		catch (error) {
            			throw 'Failed to parse response received from Ribbon SBC API. Check debug log for more information.';
            		}
            
            		return response;
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	login: function () {
            		var response = "",
            			cookies = "",
            			payload = 'Username=' + encodeURIComponent(Ribbon.params.username) + '&Password=' + encodeURIComponent(Ribbon.params.password);
            		
            		Ribbon.request.addHeader('Content-Type', 'application/x-www-form-urlencoded');
            		response = Ribbon.request.post(Ribbon.params.url + '/rest/login', payload);
            
            		var headers = Ribbon.request.getHeaders();
            		for (var key in headers) {
            			if (key.toLowerCase() == 'set-cookie') {
            				cookies = headers[key];
            			}
            		}
            
            		Ribbon.request.addHeader('Cookie', cookies);
            	},
            
            	logout: function () {
            		var response = Ribbon.request.post(Ribbon.params.url + '/rest/logout');
            
            		return JSON.parse(XML.toJson(response));
            	}
            };
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	Ribbon.login();
            	var powersupply_list = Ribbon.getField(Ribbon.getRequest("/rest/powersupply"), 'root.powersupply_list.powersupply_pk');
            	for (var key in powersupply_list) {
            		var id = powersupply_list[key]["@href"].split("/").slice(-1)[0];
            		result[id] = Ribbon.getField(Ribbon.getRequest("/rest/powersupply/" + id), 'root.powersupply');
            	}
            	Ribbon.logout();
            	
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC 2000 ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets PSU data.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: 84eaf3b4cac446e19f22e05610fcf6ad
          name: 'Node name'
          type: DEPENDENT
          key: ribbon.system.node.name
          value_type: CHAR
          description: 'Sets the DNS host name for the system.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.NodeName
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 3266a81e84e64d91b4f08eeab1b53287
          name: 'Serial number'
          type: DEPENDENT
          key: ribbon.system.serial.number
          value_type: CHAR
          description: 'Sets the serial number of the system.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.SerialNumber
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 652980a128b546b983c3f044efe89068
          name: 'Software base build number'
          type: DEPENDENT
          key: ribbon.system.software.base.build
          value_type: CHAR
          description: 'The exact build: machine, time, and date. It should be reported whenever reporting any bug or crash related to the current software.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.rt_Software_Base_BuildNumber
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 039e1092659940e7bc6470f45c661162
          name: 'Software base version'
          type: DEPENDENT
          key: ribbon.system.software.base.version
          value_type: CHAR
          description: 'Base software version.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.rt_Software_Base_Version
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
        - uuid: 764f62d23312409ba5f924ff4e2f1338
          name: 'Get system stats'
          type: SCRIPT
          key: ribbon.system.stats.get
          history: '0'
          value_type: TEXT
          params: |
            var Ribbon = {
            	params: {},
            	request: new HttpRequest(),
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response;
            
            		if (typeof Ribbon.params.proxy !== 'undefined' && Ribbon.params.proxy !== '') {
            			Ribbon.request.setProxy(Ribbon.params.proxy);
            		}
            
            		Zabbix.log(4, '[ Ribbon SBC 2000 ] Sending request: ' + url);
            
            		response = Ribbon.request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC 2000  ] Received response with status code ' + Ribbon.request.getStatus() + ': ' + response);
            
            		if (Ribbon.request.getStatus() < 200 || Ribbon.request.getStatus() >= 300) {
            			throw 'Cannot connect to Ribbon SBC. Check debug log for more information.';
            		}
            
            		try {
            			response = JSON.parse(XML.toJson(response));
            		}
            		catch (error) {
            			throw 'Failed to parse response received from Ribbon SBC API. Check debug log for more information.';
            		}
            
            		return response;
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	login: function () {
            		var response = "",
            			cookies = "",
            			payload = 'Username=' + encodeURIComponent(Ribbon.params.username) + '&Password=' + encodeURIComponent(Ribbon.params.password);
            		
            		Ribbon.request.addHeader('Content-Type', 'application/x-www-form-urlencoded');
            		response = Ribbon.request.post(Ribbon.params.url + '/rest/login', payload);
            
            		var headers = Ribbon.request.getHeaders();
            		for (var key in headers) {
            			if (key.toLowerCase() == 'set-cookie') {
            				cookies = headers[key];
            			}
            		}
            
            		Ribbon.request.addHeader('Cookie', cookies);
            	},
            
            	logout: function () {
            		var response = Ribbon.request.post(Ribbon.params.url + '/rest/logout');
            
            		return JSON.parse(XML.toJson(response));
            	}
            };
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	Ribbon.login();
            	result['system'] = Ribbon.getField(Ribbon.getRequest("/rest/system"), 'root.system');
            	result['systemcallstats'] = Ribbon.getField(Ribbon.getRequest("/rest/systemcallstats"), 'root.systemcallstats');
            	result['historicalstatistics'] = Ribbon.getField(Ribbon.getRequest("/rest/system/historicalstatistics/1"), 'root.historicalstatistics');
            	result['chassis'] = Ribbon.getField(Ribbon.getRequest("/rest/chassis"), 'root.chassis');
            	Ribbon.logout();
            	
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC 2000 ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets the system statistics.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: b64aa9a227264033ad34a9f928dcf7de
          name: Status
          type: DEPENDENT
          key: ribbon.system.status
          trends: '0'
          description: |
            Indicates the hardware initialization state for this card.
            Possible values:
            - None
            - Card Idle
            - Card Detected
            - Card Activating
            - Card Activated
            - Card Remove Requested
            - Card Removing
            - Card Removed
            - Card Downloading
            - Card Failed
            - Card Disabled Long Loop
            - MAX
          valuemap:
            name: 'Ribbon: System status'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.Status
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 01f76a527a4743618027c9dc972ce132
              expression: 'last(/Ribbon SBC Edge by HTTP/ribbon.system.status)=9'
              name: 'Ribbon: System status - Card Failed'
              priority: AVERAGE
              description: 'The current system status - Card Failed.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 48de69c997174406a13920203a70acab
          name: 'Memory total'
          type: DEPENDENT
          key: ribbon.system.total.memory
          units: B
          description: 'Indicates the amount of RAM available in the system.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.system.TotalSystemMemory
            - type: MULTIPLIER
              parameters:
                - '1048576'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: memory
        - uuid: 1f7989838b6242979e24046ece70b2e7
          name: 'Temporary partition usage'
          type: DEPENDENT
          key: ribbon.tmp.part.usage
          value_type: FLOAT
          units: '%'
          description: 'Percentage of the temporary partition used.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.historicalstatistics.rt_TmpPartUsage
          master_item:
            key: ribbon.system.stats.get
          tags:
            - tag: component
              value: memory
      discovery_rules:
        - uuid: f7409cc2f49945c79e659caa7e86f53f
          name: 'Disk partition discovery'
          type: DEPENDENT
          key: ribbon.disk.discovery
          filter:
            evaltype: AND
            conditions:
              - macro: '{#DISK.NAME}'
                value: '{$RIBBON.DISK.DISCOVERY.NAME.MATCHES}'
              - macro: '{#DISK.NAME}'
                value: '{$RIBBON.DISK.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#DISK.TYPE}'
                value: '{$RIBBON.DISK.DISCOVERY.TYPE.MATCHES}'
              - macro: '{#DISK.TYPE}'
                value: '{$RIBBON.DISK.DISCOVERY.TYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Used for discovering system disk partition.'
          item_prototypes:
            - uuid: f8236f0b24304091b72aad4a44ec86ef
              name: 'Disk [{#DISK.NAME}]: Available'
              type: DEPENDENT
              key: 'ribbon.disk.size.available[{#DISK.ID}]'
              units: B
              description: 'Amount of memory in bytes, available for use in the file system.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#DISK.ID}.rt_MemoryAvailable'
              master_item:
                key: ribbon.disk.get
              tags:
                - tag: component
                  value: capacity
                - tag: disk
                  value: '{#DISK.NAME}'
            - uuid: b7e0cc62963f4b9cab987b1bbd91e521
              name: 'Disk [{#DISK.NAME}]: Size'
              type: DEPENDENT
              key: 'ribbon.disk.size.max[{#DISK.ID}]'
              units: B
              description: 'Specifies the maximum amount of memory, in bytes available in this partition.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#DISK.ID}.rt_MaximumSize'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.disk.get
              tags:
                - tag: component
                  value: capacity
                - tag: disk
                  value: '{#DISK.NAME}'
            - uuid: e866506e32c44931ac3a3eb280b2a372
              name: 'Disk [{#DISK.NAME}]: Used'
              type: DEPENDENT
              key: 'ribbon.disk.size.used[{#DISK.ID}]'
              units: B
              description: 'Amount of memory in bytes, used by the existing files in the file system.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#DISK.ID}.rt_MemoryUsed'
              master_item:
                key: ribbon.disk.get
              tags:
                - tag: component
                  value: capacity
                - tag: disk
                  value: '{#DISK.NAME}'
            - uuid: 0b75d8331cc5411f830d8f2303be8eda
              name: 'Disk [{#DISK.NAME}]: Type'
              type: DEPENDENT
              key: 'ribbon.disk.type[{#DISK.ID}]'
              description: |
                Identifies the user-friendly physical device holding the partition.
                Possible values:
                - Configuration
                - Logs
                - Temp
                - Core File
                - ASM Module
                - Software Update
                - Internal Logs
                - System
                - Others
                - Packet Capture Logs
              valuemap:
                name: 'Ribbon: Disk type'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#DISK.ID}.rt_PartitionType'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.disk.get
              tags:
                - tag: component
                  value: capacity
                - tag: disk
                  value: '{#DISK.NAME}'
            - uuid: ba402d0de10d49ba9cf9dbd3c5e42497
              name: 'Disk [{#DISK.NAME}]: Utilization'
              type: DEPENDENT
              key: 'ribbon.disk.usage.percent[{#DISK.ID}]'
              units: '!%'
              description: 'Amount of memory used by this partition, expressed as a percentage.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#DISK.ID}.rt_CurrentUsage'
              master_item:
                key: ribbon.disk.get
              tags:
                - tag: component
                  value: capacity
                - tag: disk
                  value: '{#DISK.NAME}'
              trigger_prototypes:
                - uuid: 1ef41f56bb1e42bf83fc14a98c60bdc3
                  expression: 'min(/Ribbon SBC Edge by HTTP/ribbon.disk.usage.percent[{#DISK.ID}],5m)>{$RIBBON.DISK.USED.MAX:"{#DISK.NAME}"}'
                  name: 'Ribbon: Disk [{#DISK.NAME}]: Disk space usage is high'
                  event_name: 'Ribbon: Disk [{#DISK.NAME}]: Disk space usage is high (more {$RIBBON.DISK.USED.MAX:"{#DISK.NAME}"}% for 5m)'
                  opdata: 'Current usage: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'Disk space usage is larger than the threshold.'
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: ribbon.disk.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value);
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#DISK.ID}": json_data[entity]["@id"],
                  		"{#DISK.NAME}": json_data[entity].rt_PartitionName,
                  		"{#DISK.TYPE}": json_data[entity].rt_PartitionType
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 18f07f6f15be4778977006db87fad929
          name: 'Fan discovery'
          type: DEPENDENT
          key: ribbon.fan.discovery
          description: 'Used for discovering fans.'
          item_prototypes:
            - uuid: 85033b1d2e6449a494580d60a7a34d80
              name: 'Fan [{#FAN.ID}]: Speed'
              type: DEPENDENT
              key: 'ribbon.fan.speed[{#FAN.ID}]'
              units: '!RPM'
              description: 'Indicates the speed of the fan in RPM.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#FAN.ID}.Fan_Speed'
              master_item:
                key: ribbon.fan.get
              tags:
                - tag: component
                  value: sensor
          master_item:
            key: ribbon.fan.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value);
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#FAN.ID}": json_data[entity]["@id"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 3647c72235f7420a9937749a04eb1ed4
          name: 'Network interface discovery'
          type: DEPENDENT
          key: ribbon.net.if.discovery
          filter:
            evaltype: AND
            conditions:
              - macro: '{#INTERFACE.NAME}'
                value: '{$RIBBON.INTERFACE.DISCOVERY.NAME.MATCHES}'
              - macro: '{#INTERFACE.NAME}'
                value: '{$RIBBON.INTERFACE.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#INTERFACE.TYPE}'
                value: '{$RIBBON.INTERFACE.DISCOVERY.TYPE.MATCHES}'
              - macro: '{#INTERFACE.TYPE}'
                value: '{$RIBBON.INTERFACE.DISCOVERY.TYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Used for discovering system interfaces.'
          item_prototypes:
            - uuid: 2c3fd61a0881477d9cf1f12bcff5e499
              name: 'Interface [{#INTERFACE.NAME}]: Config interface state'
              type: DEPENDENT
              key: 'ribbon.net.if.config.state[{#INTERFACE.ID}]'
              description: |
                Specifies the Administrative State of the resource.
                Possible values:
                - Disabled
                - Enabled
              valuemap:
                name: 'Ribbon: Config interface state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.ConfigIEState'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: 7d6db1ff5b2144cda406798bfaa5a4f6
              name: 'Interface [{#INTERFACE.NAME}]: Bits received'
              type: DEPENDENT
              key: 'ribbon.net.if.in.octets[{#INTERFACE.ID}]'
              units: bps
              description: 'Displays the number of received octets on this port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.rt_ifInOctets'
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '8'
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: c47ba8091f6e47758d5c67b3e7af9687
              name: 'Interface [{#INTERFACE.NAME}]: Networking mode'
              type: DEPENDENT
              key: 'ribbon.net.if.networking.mode[{#INTERFACE.ID}]'
              description: |
                Specifies if the port is in switched mode or routed mode.
                Possible values:
                - Switch
                - Route
              valuemap:
                name: 'Ribbon: Networking mode'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.ifNetworkingMode'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: e9d6248bc3e84fc4973c35ce89dc775c
              name: 'Interface [{#INTERFACE.NAME}]: Operational status'
              type: DEPENDENT
              key: 'ribbon.net.if.operator.state[{#INTERFACE.ID}]'
              description: |
                The operational status of the interface.
                Possible values:
                - Up
                - Down
              valuemap:
                name: 'Ribbon: Operational status'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.rt_ifOperatorStatus'
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: ed237fe950c049859f62be677e38c645
              name: 'Interface [{#INTERFACE.NAME}]: Bits sent'
              type: DEPENDENT
              key: 'ribbon.net.if.out.octets[{#INTERFACE.ID}]'
              units: bps
              description: 'Displays the number of transmitted octets on this port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.rt_ifOutOctets'
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '8'
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: 537994b412f646298847c9f1556ccfcc
              name: 'Interface [{#INTERFACE.NAME}]: Speed'
              type: DEPENDENT
              key: 'ribbon.net.if.speed[{#INTERFACE.ID}]'
              description: |
                An estimate of the interface's current bandwidth in bits per second.
                Possible values:
                - 10 Mbps
                - 100 Mbps
                - 1000 Mbps
                - Auto
              valuemap:
                name: 'Ribbon: Interface speed'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.rt_ifSpeed'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
            - uuid: 6f16fc284492411a945786a25ea88a8f
              name: 'Interface [{#INTERFACE.NAME}]: Interface type'
              type: DEPENDENT
              key: 'ribbon.net.if.type[{#INTERFACE.ID}]'
              description: |
                Specifies the interface type.
                Possible values:
                - Ethernet
                - VLAN
                - QINQ
                - BONDED
                - BRIDGE
              valuemap:
                name: 'Ribbon: Interface Type'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#INTERFACE.ID}.ifType'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.net.if.get
              tags:
                - tag: component
                  value: network
                - tag: interface
                  value: '{#INTERFACE.NAME}'
          trigger_prototypes:
            - uuid: 131026a699674931b135604f1dea4b66
              expression: 'last(/Ribbon SBC Edge by HTTP/ribbon.net.if.operator.state[{#INTERFACE.ID}])=1 and last(/Ribbon SBC Edge by HTTP/ribbon.net.if.config.state[{#INTERFACE.ID}])=1'
              name: 'Ribbon: Interface [{#INTERFACE.NAME}]: Operational status is DOWN'
              opdata: 'Current status: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              description: 'The operational status of the interface is down.'
              tags:
                - tag: scope
                  value: availability
          master_item:
            key: ribbon.net.if.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value);
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#INTERFACE.ID}": json_data[entity]["@id"],
                  		"{#INTERFACE.NAME}": json_data[entity].ifName,
                  		"{#INTERFACE.TYPE}": json_data[entity].ifType
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 3e140fc4939e4d69b1eddbc34f67d33c
          name: 'Power supply discovery'
          type: DEPENDENT
          key: ribbon.psu.discovery
          description: 'Used for discovering the power supply.'
          item_prototypes:
            - uuid: 9deb137ec4884586afea405ed144b00a
              name: 'PSU [{#PSU.ID}]: AC input good'
              type: DEPENDENT
              key: 'ribbon.psu.ac.input.good[{#PSU.ID}]'
              description: |
                Indicates whether the AC power input for this power supply is in a good state.
                Possible values:
                - False
                - True
              valuemap:
                name: 'Ribbon: Bool'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.ACInputGood'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 88ca7c8494824e24871f9b63d5ab663c
              name: 'PSU [{#PSU.ID}]: Current in'
              type: DEPENDENT
              key: 'ribbon.psu.current.in[{#PSU.ID}]'
              value_type: FLOAT
              units: A
              description: 'Input current of this power supply in amperes.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.CurrentIn'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 763bfd2a314543e8b33962f3e6fa4d54
              name: 'PSU [{#PSU.ID}]: Current out'
              type: DEPENDENT
              key: 'ribbon.psu.current.out[{#PSU.ID}]'
              value_type: FLOAT
              units: A
              description: 'Output current of this power supply in amperes.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.CurrentOut'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 0269a8584a8a470ca10cdce57be13f0d
              name: 'PSU [{#PSU.ID}]: Fan1 speed'
              type: DEPENDENT
              key: 'ribbon.psu.fan1.speed[{#PSU.ID}]'
              units: '!RPM'
              description: 'The speed of the first fan on this power supply in RPM.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.Fan1_Speed'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 3b496cc4557743908d6da52171c4c5b6
              name: 'PSU [{#PSU.ID}]: Fan2 speed'
              type: DEPENDENT
              key: 'ribbon.psu.fan2.speed[{#PSU.ID}]'
              units: '!RPM'
              description: 'The speed of the second fan on this power supply in RPM.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.Fan2_Speed'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: abb2d6a045674ddcbfe8befb489ea8cc
              name: 'PSU [{#PSU.ID}]: Power in'
              type: DEPENDENT
              key: 'ribbon.psu.power.in[{#PSU.ID}]'
              units: W
              description: 'Input power of this power supply in watts.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.PowerIn'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 7a0631c2afc44200bc466b07dd2e2861
              name: 'PSU [{#PSU.ID}]: Power out'
              type: DEPENDENT
              key: 'ribbon.psu.power.out[{#PSU.ID}]'
              units: W
              description: 'Output power of this power supply in watts.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.PowerOut'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: 2dcb0fac8c294186ad3f1003c6b4f552
              name: 'PSU [{#PSU.ID}]: Temperature'
              type: DEPENDENT
              key: 'ribbon.psu.temp[{#PSU.ID}]'
              value_type: FLOAT
              units: °C
              description: 'Temperature of this power supply in degrees Celsius.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.Temp'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: d91ff2d143b9418b91933ab52c6361eb
              name: 'PSU [{#PSU.ID}]: Voltage in'
              type: DEPENDENT
              key: 'ribbon.psu.voltage.in[{#PSU.ID}]'
              units: V
              description: 'Input voltage of this power supply.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.VoltageIn'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
            - uuid: f6591d2a5a7f445d9ea20d52355640fd
              name: 'PSU [{#PSU.ID}]: Voltage out'
              type: DEPENDENT
              key: 'ribbon.psu.voltage.out[{#PSU.ID}]'
              value_type: FLOAT
              units: V
              description: 'Output voltage of this power supply.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.{#PSU.ID}.VoltageOut'
              master_item:
                key: ribbon.psu.get
              tags:
                - tag: component
                  value: power
          master_item:
            key: ribbon.psu.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value);
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#PSU.ID}": json_data[entity]["@id"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
      tags:
        - tag: class
          value: software
        - tag: subclass
          value: communication
        - tag: target
          value: ribbon
        - tag: target
          value: ribbon-sbc-edge
      macros:
        - macro: '{$RIBBON.CPU.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of CPU usage in percent.'
          config:
            type: TEXT
            priority: '5'
            section_name: Thresholds
            label: 'Warning CPU usage threshold'
            description: 'In the range from 0 to 100 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
        - macro: '{$RIBBON.DISK.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of the disk name to be allowed in discovery.'
          config:
            type: TEXT
            priority: '13'
            section_name: Filters
            label: 'Include disk name filter'
            description: 'Regex string to include disk by name.'
        - macro: '{$RIBBON.DISK.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of the disk name to be ignored in discovery.'
          config:
            type: TEXT
            priority: '14'
            section_name: Filters
            label: 'Exclude disk name filter'
            description: 'Regex string to exclude disk by name.'
        - macro: '{$RIBBON.DISK.DISCOVERY.TYPE.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of the disk type to be allowed in discovery.'
          config:
            type: TEXT
            priority: '11'
            section_name: Filters
            label: 'Include disk type filter'
            description: 'Regex string to include disk by type.'
        - macro: '{$RIBBON.DISK.DISCOVERY.TYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of the disk type to be ignored in discovery.'
          config:
            type: TEXT
            priority: '12'
            section_name: Filters
            label: 'Exclude disk type filter'
            description: 'Regex string to exclude disk by type.'
        - macro: '{$RIBBON.DISK.USED.MAX}'
          value: '90'
          description: 'The threshold of the disk usage in percent.'
          config:
            type: TEXT
            priority: '15'
            section_name: Thresholds
            label: 'Warning disk usage threshold'
            description: 'In the range from 0 to 100 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
        - macro: '{$RIBBON.INTERFACE.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of the interface name to be allowed in discovery.'
          config:
            type: TEXT
            priority: '9'
            section_name: Filters
            label: 'Include interface name filter'
            description: 'Regex string to include interface by name.'
        - macro: '{$RIBBON.INTERFACE.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of the interface name to be ignored in discovery.'
          config:
            type: TEXT
            priority: '10'
            section_name: Filters
            label: 'Exclude interface name filter'
            description: 'Regex string to exclude interface by name.'
        - macro: '{$RIBBON.INTERFACE.DISCOVERY.TYPE.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of the interface type to be allowed in discovery.'
          config:
            type: TEXT
            priority: '7'
            section_name: Filters
            label: 'Include interface type filter'
            description: 'Regex string to include interface by type.'
        - macro: '{$RIBBON.INTERFACE.DISCOVERY.TYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of the interface type to be ignored in discovery.'
          config:
            type: TEXT
            priority: '8'
            section_name: Filters
            label: 'Exclude interface type filter'
            description: 'Regex string to exclude interface by type.'
        - macro: '{$RIBBON.MEMORY.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of memory usage in percent.'
          config:
            type: TEXT
            priority: '6'
            section_name: Thresholds
            label: 'Warning memory usage threshold'
            description: 'In the range from 0 to 100 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
        - macro: '{$RIBBON.PASSWORD}'
          type: SECRET_TEXT
          description: 'Ribbon SBC user password.'
          config:
            type: TEXT
            priority: '2'
            label: 'Ribbon SBC password'
            description: 'Set the Ribbon SBC password here.'
        - macro: '{$RIBBON.PROXY}'
          description: 'Sets the HTTP proxy value. If this macro is empty, then no proxy is used.'
          config:
            type: TEXT
            priority: '4'
            label: 'Proxy address'
            description: 'Set the proxy IP here.'
        - macro: '{$RIBBON.URL}'
          description: 'Ribbon SBC API IP.'
          config:
            type: TEXT
            priority: '3'
            label: 'Ribbon SBC URL'
            description: 'Set the Ribbon SBC URL here.'
        - macro: '{$RIBBON.USERNAME}'
          description: 'Ribbon SBC username.'
          config:
            type: TEXT
            priority: '1'
            label: 'Ribbon SBC user'
            description: 'Set the Ribbon SBC user here.'
      dashboards:
        - uuid: 2d0d73cf6b2e4779a20cbcceede080ad
          name: 'Ribbon: Overview'
          pages:
            - name: 'Ribbon: Overview'
              widgets:
                - type: gauge
                  name: 'CPU utilization'
                  width: '18'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: description
                      value: 'CPU utilization'
                    - type: INTEGER
                      name: desc_size
                      value: '10'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.cpu.usage
                    - type: INTEGER
                      name: scale_size
                      value: '10'
                    - type: STRING
                      name: thresholds.0.color
                      value: 3BC97D
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FFD54F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                    - type: INTEGER
                      name: th_show_arc
                      value: '1'
                    - type: INTEGER
                      name: th_show_labels
                      value: '1'
                    - type: STRING
                      name: units
                      value: '%'
                - type: svggraph
                  name: 'Resource usage'
                  'y': '4'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: 0D47A1
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.0.data_set_label
                      value: 'CPU usage'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.cpu.usage
                    - type: INTEGER
                      name: ds.1.axisy
                      value: '1'
                    - type: STRING
                      name: ds.1.color.0
                      value: FF465C
                    - type: INTEGER
                      name: ds.1.dataset_type
                      value: '0'
                    - type: INTEGER
                      name: ds.1.fill
                      value: '5'
                    - type: ITEM
                      name: ds.1.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.memory.usage
                    - type: STRING
                      name: lefty_max
                      value: '100'
                    - type: STRING
                      name: lefty_min
                      value: '0'
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '2'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAC
                    - type: INTEGER
                      name: righty
                      value: '1'
                    - type: STRING
                      name: righty_max
                      value: '100'
                    - type: STRING
                      name: righty_min
                      value: '0'
                - type: item
                  name: 'Chassis Status'
                  'y': '10'
                  width: '36'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.chassis.status
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: gauge
                  name: 'Memory utilization'
                  x: '18'
                  width: '18'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Memory utilization'
                    - type: INTEGER
                      name: desc_size
                      value: '10'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.memory.usage
                    - type: INTEGER
                      name: scale_size
                      value: '10'
                    - type: STRING
                      name: thresholds.0.color
                      value: 3BC97D
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FFD54F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                    - type: INTEGER
                      name: th_show_arc
                      value: '1'
                    - type: INTEGER
                      name: th_show_labels
                      value: '1'
                    - type: STRING
                      name: units
                      value: '%'
                - type: item
                  name: 'Node name'
                  x: '36'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.system.node.name
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: item
                  name: 'Software base build number'
                  x: '36'
                  'y': '2'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.system.software.base.build
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: svggraph
                  name: Calls
                  x: '36'
                  'y': '4'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: FDD835
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.0.data_set_label
                      value: 'Number of call attempts'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.number.call.attempts
                    - type: STRING
                      name: ds.1.color.0
                      value: 03A9F4
                    - type: INTEGER
                      name: ds.1.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.1.data_set_label
                      value: 'Number of call currently up'
                    - type: INTEGER
                      name: ds.1.fill
                      value: '5'
                    - type: ITEM
                      name: ds.1.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.number.call.currently
                    - type: STRING
                      name: ds.2.color.0
                      value: F4511E
                    - type: INTEGER
                      name: ds.2.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.2.data_set_label
                      value: 'Number of call failed'
                    - type: INTEGER
                      name: ds.2.fill
                      value: '5'
                    - type: ITEM
                      name: ds.2.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.number.call.failed
                    - type: STRING
                      name: ds.3.color.0
                      value: 66BB6A
                    - type: INTEGER
                      name: ds.3.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.3.data_set_label
                      value: 'Number of call succeeded'
                    - type: INTEGER
                      name: ds.3.fill
                      value: '5'
                    - type: ITEM
                      name: ds.3.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.number.call.succeeded
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '4'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAD
                - type: item
                  name: 'ASM Operating System License Type'
                  x: '36'
                  'y': '10'
                  width: '36'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.chassis.asm.license.type
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: item
                  name: 'Serial number'
                  x: '54'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.system.serial.number
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: item
                  name: 'Software base version'
                  x: '54'
                  'y': '2'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_size
                      value: '20'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.system.software.base.version
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
            - name: 'Ribbon: Resources'
              widgets:
                - type: svggraph
                  name: 'Chassis temperature'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: 4CAF50
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.0.data_set_label
                      value: 'Chassis board bottom'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.chassis.board.bottom.temp1
                    - type: STRING
                      name: ds.1.color.0
                      value: 1976D2
                    - type: INTEGER
                      name: ds.1.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.1.data_set_label
                      value: 'Chassis board top'
                    - type: INTEGER
                      name: ds.1.fill
                      value: '5'
                    - type: ITEM
                      name: ds.1.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.chassis.board.top.temp2
                    - type: STRING
                      name: ds.2.color.0
                      value: F44336
                    - type: INTEGER
                      name: ds.2.dataset_type
                      value: '0'
                    - type: STRING
                      name: ds.2.data_set_label
                      value: 'Chassis core switch'
                    - type: INTEGER
                      name: ds.2.fill
                      value: '5'
                    - type: ITEM
                      name: ds.2.itemids.0
                      value:
                        host: 'Ribbon SBC Edge by HTTP'
                        key: ribbon.chassis.core.switch.temp
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '3'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: svggraph
                  name: 'Interface bits received'
                  'y': '4'
                  width: '36'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'Interface*Bits received'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAG
                - type: svggraph
                  name: 'Interface bits sent'
                  'y': '8'
                  width: '36'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'Interface*Bits sent'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAI
                - type: honeycomb
                  name: 'Disk usage percent'
                  x: '36'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Disk*Utilization'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Disk\s\[(.*)\]","\1")}'
                    - type: STRING
                      name: reference
                      value: AAAAF
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_units_show
                      value: '0'
                    - type: STRING
                      name: thresholds.0.color
                      value: 3BC97D
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FCCB1D
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: E65660
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                - type: honeycomb
                  name: 'Fan speed'
                  x: '36'
                  'y': '4'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Fan*Speed'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Fan\s\[(.*)\]","Fan: \1")}'
                    - type: STRING
                      name: reference
                      value: AAAAH
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_units_show
                      value: '0'
                - type: honeycomb
                  name: 'Interface Operational status'
                  x: '36'
                  'y': '8'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Interface*Operational status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Interface\s\[(.*)\]","If: \1")}'
                    - type: STRING
                      name: reference
                      value: AAAAJ
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_units_show
                      value: '0'
                    - type: STRING
                      name: thresholds.0.color
                      value: E65660
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.1.color
                      value: 3BC97D
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '0'
            - name: 'Ribbon: PSU'
              widgets:
                - type: svggraph
                  name: 'PSU power in'
                  width: '36'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Power in'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAK
                - type: svggraph
                  name: 'PSU Voltage in'
                  'y': '4'
                  width: '24'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Voltage in'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAM
                - type: svggraph
                  name: 'PSU Current in'
                  'y': '8'
                  width: '24'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Current in'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAP
                - type: svggraph
                  name: 'PSU Voltage out'
                  x: '24'
                  'y': '4'
                  width: '24'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Voltage out'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAN
                - type: svggraph
                  name: 'PSU Current out'
                  x: '24'
                  'y': '8'
                  width: '24'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Current out'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAQ
                - type: svggraph
                  name: 'PSU power out'
                  x: '36'
                  width: '36'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Power out'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAL
                - type: honeycomb
                  name: 'Fan speed'
                  x: '48'
                  'y': '4'
                  width: '24'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'PSU*Fan*speed'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("PSU\s\[(.*)\].*Fan(\d)","PSU: \1 Fan: \2")}'
                    - type: STRING
                      name: reference
                      value: AAAAO
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_units_show
                      value: '0'
                - type: svggraph
                  name: 'PSU Temperature'
                  x: '48'
                  'y': '8'
                  width: '24'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'PSU*Temperature'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAR
      valuemaps:
        - uuid: 3d340848400b4dc59da9d48bd3609bae
          name: 'Ribbon: ASM Operating System License Type'
          mappings:
            - value: '0'
              newvalue: Unknown
            - value: '1'
              newvalue: Win2008R2
            - value: '2'
              newvalue: Win2012R2
            - value: '3'
              newvalue: Win2019
        - uuid: b8451f08019b4b04b176acfb836de8ce
          name: 'Ribbon: Bool'
          mappings:
            - value: '0'
              newvalue: 'False'
            - value: '1'
              newvalue: 'True'
        - uuid: 38b59bdd6f4b4390ae853247ed21897d
          name: 'Ribbon: Config interface state'
          mappings:
            - value: '0'
              newvalue: Disabled
            - value: '1'
              newvalue: Enabled
        - uuid: 1030653f7dad40efb62e6af9d8c75b41
          name: 'Ribbon: Disk type'
          mappings:
            - value: '0'
              newvalue: Configuration
            - value: '1'
              newvalue: Logs
            - value: '2'
              newvalue: Temp
            - value: '3'
              newvalue: 'Core File'
            - value: '4'
              newvalue: 'ASM Module'
            - value: '5'
              newvalue: 'Software Update'
            - value: '6'
              newvalue: 'Internal Logs'
            - value: '7'
              newvalue: System
            - value: '8'
              newvalue: Others
            - value: '9'
              newvalue: 'Packet Capture Logs'
        - uuid: f783799e74a9482db3868b8e4713101a
          name: 'Ribbon: Interface speed'
          mappings:
            - value: '0'
              newvalue: '10 Mbps'
            - value: '1'
              newvalue: '100 Mbps'
            - value: '2'
              newvalue: '1000 Mbps'
            - value: '3'
              newvalue: Auto
        - uuid: c713bf35021b4acc87c18bf7555d4016
          name: 'Ribbon: Interface Type'
          mappings:
            - value: '0'
              newvalue: Ethernet
            - value: '1'
              newvalue: VLAN
            - value: '2'
              newvalue: QINQ
            - value: '3'
              newvalue: BONDED
            - value: '4'
              newvalue: BRIDGE
        - uuid: 2e08efb9e354424499526bbff51a61e3
          name: 'Ribbon: Networking mode'
          mappings:
            - value: '0'
              newvalue: Switch
            - value: '1'
              newvalue: Route
        - uuid: f16e30cc4010463ebd7daeadca0962ce
          name: 'Ribbon: Operational status'
          mappings:
            - value: '0'
              newvalue: Up
            - value: '1'
              newvalue: Down
        - uuid: bd7bb2d61072409ca8fa5273dc7caa7f
          name: 'Ribbon: System status'
          mappings:
            - value: '0'
              newvalue: None
            - value: '1'
              newvalue: 'Card Idle'
            - value: '2'
              newvalue: 'Card Detected'
            - value: '3'
              newvalue: 'Card Activating'
            - value: '4'
              newvalue: 'Card Activated'
            - value: '5'
              newvalue: 'Card Remove Requested'
            - value: '6'
              newvalue: 'Card Removing'
            - value: '7'
              newvalue: 'Card Removed'
            - value: '8'
              newvalue: 'Card Downloading'
            - value: '9'
              newvalue: 'Card Failed'
            - value: '10'
              newvalue: 'Card Disabled Long Loop'
            - value: '11'
              newvalue: MAX
