zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  host_groups:
    - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Applications
  templates:
    - uuid: 682ac14a5d294f4790ac8411ab6c33bf
      template: 'Ribbon SBC SWe CE by HTTP'
      name: 'Ribbon SBC SWe CE by HTTP'
      description: |
        Ribbon’s SBC Software Edition (SBC SWe), offers identical feature software to its award-winning SBC 5400 and SBC 7000 appliances – only without an appliance. This means enterprises have the flexibility to deploy in their SBCs multiple environments - their own data center, on their own private cloud, or utilize a public cloud.
        
        This template is designed for the effortless deployment of Ribbon SBC SWe core monitoring and doesn't require any external scripts.
        This template can be used in discovery as well as manually linked to a host. To use this template as manually linked to a host, attach it to the host and set manually the value of '{$RIBBON.CE.NAME}' macro.
        
        More details can be found in the official documentation:
          - REST API Reference: https://publicdoc.rbbn.com/spaces/SBXCONFAPIDOC/pages/360972436/RESTCONF+API+Reference+Guide
          - REST API User's Guide: https://publicdoc.rbbn.com/spaces/SBXCONFAPIDOC/pages/444760643/RESTCONF+API+User+Guide
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-0
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 53fe44969b1f46c0a5e42e781faa755c
          name: 'Application uptime'
          type: DEPENDENT
          key: ribbon.server.application.uptime
          delay: '0'
          units: uptime
          description: 'Indicates the application uptime on the server in days/hours/minutes/sec.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].applicationUpTime'
            - type: JAVASCRIPT
              parameters:
                - |
                  const data = value;
                  var days = 0, hours = 0, minutes = 0, seconds = 0;
                  
                  const daysMatch = data.match(/(\d+)\s+Days?/i);
                  if (daysMatch) {
                  	days = parseInt(daysMatch[1], 10);
                  	data = data.replace(daysMatch[0], "").trim();
                  }
                  
                  const timeMatch = data.match(/(\d+):(\d+):(\d+)/);
                  if (!timeMatch) {
                  	throw "Unknown uptime format";
                  }
                  
                  hours = parseInt(timeMatch[1], 10);
                  minutes = parseInt(timeMatch[2], 10);
                  seconds = parseInt(timeMatch[3], 10);
                  
                  return days * 86400 + hours * 3600 + minutes * 60 + seconds;
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 3bca39ea0896453481f881b98d792ca0
              expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.server.application.uptime)<10m'
              name: 'Ribbon: Application has been restarted'
              event_name: 'Ribbon: Application has been restarted (uptime < 10m)'
              opdata: 'Current uptime: {ITEM.LASTVALUE}'
              priority: INFO
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: d4e375f01fe24ee0aeeb6befc8485fc7
          name: 'Application version'
          type: DEPENDENT
          key: ribbon.server.application.version
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Indicates the application version currently running on server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].applicationVersion'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: application
        - uuid: 8d0ee4b3eb0046baaa87d3658b2bdecd
          name: 'CPU utilization'
          type: DEPENDENT
          key: ribbon.server.cpu.util
          delay: '0'
          value_type: FLOAT
          units: '!%'
          description: 'The average % of cpu utilization for this interval.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.cpuUtilCurrentStatistics
            - type: JAVASCRIPT
              parameters:
                - |
                  const data = JSON.parse(value);
                  
                  var sum = 0;
                  var count = 0;
                  
                  for (var key in data) {
                  	if (data.hasOwnProperty(key)) {
                  		sum += data[key].average;
                  		count++;
                  	}
                  }
                  
                  if (count == 0) {
                  	return 0;
                  }
                  
                  return sum / count;
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: cpu
          triggers:
            - uuid: afaba0a2b0264838a790b6c98ec1b28e
              expression: 'min(/Ribbon SBC SWe CE by HTTP/ribbon.server.cpu.util,5m) > {$RIBBON.CPU.UTIL.CRIT}'
              name: 'Ribbon: High cpu utilization'
              event_name: 'Ribbon: High cpu utilization (>{$RIBBON.CPU.UTIL.CRIT}% for 5m)'
              opdata: 'Current utilization: {ITEM.LASTVALUE}'
              priority: AVERAGE
              description: 'CPU utilization is too high. The system might be slow to respond.'
              tags:
                - tag: scope
                  value: performance
        - uuid: f5edd11ffb28493cad8010c009ce873c
          name: 'Get data'
          type: SCRIPT
          key: ribbon.server.data.get
          history: '0'
          value_type: TEXT
          trends: '0'
          params: |
            
            var Ribbon = {
            	params: {},
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response, request = new HttpRequest();
            
            		if (typeof Ribbon.params.http_proxy !== 'undefined' && Ribbon.params.http_proxy !== '') {
            			request.setProxy(Ribbon.params.http_proxy);
            		};
            
            		request.addHeader('Content-Type: application/yang-data+json');
            		request.addHeader('Authorization: Basic ' + btoa(Ribbon.params.username + ':' + Ribbon.params.password));
            
            		Zabbix.log(4, '[ Ribbon SBC SWe core ] Sending request: ' + url);
            
            		response = request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC SWe core ] Received response with status code ' + request.getStatus() + ': ' + response);
            
            		if (request.getStatus() !== 200 || response === null) {
            			throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
            		}
            		try {
            			return JSON.parse(response);
            		}
            		catch (error) {
            			throw 'Failed to parse response received from API. Check debug log for more information.';
            		}
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	filterByServerName: function (data, param_name, key_field) {
            		var result = {};
            
            		for (var key in data) {
            			if (typeof data[key] === 'object' && data[key] !== null && data[key][param_name] !== 'undefined') {
            				if (data[key][param_name] == Ribbon.params.server_name) {
            					result[data[key][key_field]] = data[key];
            				};
            			}
            		};
            
            		return result;
            	},
            
            	getMetricsData: function (endpoints) {
            		var data = {};
            
            		Object.keys(endpoints).forEach(function (key) {
            			data[key] = Ribbon.getField(Ribbon.getRequest(endpoints[key]['url']), endpoints[key]['path']);
            		});
            
            		return data;
            	}
            };
            
            
            
            try {
            	var result = {};
            
            	Ribbon.setParams(JSON.parse(value));
            
            	var endpoints = {
            		'serverStatus': {
            			'url': '/restconf/data/sonusSystem:system/serverStatus=' + Ribbon.params.server_name,
            			'path': 'sonusSystem:serverStatus'},
            		'memoryUtilCurrentStatistics': {
            			'url': '/restconf/data/sonusSystem:system/memoryUtilCurrentStatistics=' + Ribbon.params.server_name,
            			'path': 'sonusSystem:memoryUtilCurrentStatistics'},
            		'cpuUtilCurrentStatistics': {
            			'url': '/restconf/data/sonusSystem:system/cpuUtilCurrentStatistics',
            			'path': 'sonusSystem:cpuUtilCurrentStatistics'},
            		'hardDiskUsage': {
            			'url': '/restconf/data/sonusSystem:system/hardDiskUsage',
            			'path': 'sonusSystem:hardDiskUsage'},
            		'ethernetPort': {
            			'url': '/restconf/data/sonusSystem:system/sonusOrcaSystem:ethernetPort',
            			'path': 'sonusOrcaSystem:ethernetPort'},
            	};
            
            	result = Ribbon.getMetricsData(endpoints);
            
            	var ethernet_fields = [
            		'packetPortStatus',
            		'mgmtPortStatus',
            		'portRedundancyGroupStatus',
            		'portMonitorStatus'
            	]
            	
            	for (var key in ethernet_fields) {
            		var item = ethernet_fields[key];
            		if (typeof result[item] === 'object' || typeof result[item] !== null) {
            			result[item] = Ribbon.filterByServerName(result['ethernetPort'][item], 'ceName', 'portName');
            		};
            	};
            
            	result['cpuUtilCurrentStatistics'] = Ribbon.filterByServerName(result['cpuUtilCurrentStatistics'], 'ceName', 'cpu');
            	result['hardDiskUsage'] = Ribbon.filterByServerName(result['hardDiskUsage'], 'serverName', 'partition');
            	delete result['ethernetPort'];
            
            	return JSON.stringify(result);
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC SWe core ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets the server information.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: server_name
              value: '{$RIBBON.CE.NAME}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: 92ceb828307d4c7998ecf2840eee9fb4
          name: 'Server hardware sub type'
          type: DEPENDENT
          key: ribbon.server.hw.sub.type
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Identifies the type of server module the indexed slot has been configured to accept. Server modules other than this type are rejected by the System Manager.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].hwSubType'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: system
        - uuid: 7688b74edba64cc6a85a153fd9aad473
          name: 'Server hardware type'
          type: DEPENDENT
          key: ribbon.server.hw.type
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Identifies the type of server module the indexed slot has been configured to accept. Server modules other than this type are rejected by the System Manager.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].hwType'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: system
        - uuid: 04ed02cc396c4cad82712d9aab24a6fc
          name: 'Memory utilization'
          type: DEPENDENT
          key: ribbon.server.memory.util
          delay: '0'
          units: '!%'
          description: 'The average memory % utilization for this interval.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.memoryUtilCurrentStatistics[0].average'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: 60da0d3d45a3463aace6239ccf0ed3bf
              expression: 'min(/Ribbon SBC SWe CE by HTTP/ribbon.server.memory.util,5m) > {$RIBBON.MEMORY.UTIL.CRIT}'
              name: 'Ribbon: High memory utilization'
              event_name: 'Ribbon: High memory utilization (>{$RIBBON.MEMORY.UTIL.CRIT}% for 5m)'
              opdata: 'Current utilization: {ITEM.LASTVALUE}'
              priority: AVERAGE
              description: 'The system is running out of free memory.'
              tags:
                - tag: scope
                  value: performance
        - uuid: 232bfd9f0553416da0569cd1978fc7a2
          name: 'Server name'
          type: DEPENDENT
          key: ribbon.server.name
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Identifies the server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].name'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: system
        - uuid: ae5da694c3c24639aa0605fe93e5efdf
          name: 'Platform version'
          type: DEPENDENT
          key: ribbon.server.platform.version
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Indicates the platform version currently running on server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].platformVersion'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: application
        - uuid: fb6cde6215d1496c94bd9be990527529
          name: Role
          type: DEPENDENT
          key: ribbon.server.role
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Indicates the redundancy role of the server (for management entities).'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].mgmtRedundancyRole'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 943cab49e4bc4f4e96f82e8264fa49ac
              expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.server.role)<>last(/Ribbon SBC SWe CE by HTTP/ribbon.server.role,#2)'
              name: 'Ribbon: Role has been changed'
              event_name: 'Ribbon: Role has been changed'
              opdata: 'Current role: {ITEM.LASTVALUE}'
              priority: INFO
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 31ee06ce57e8451fa5c98f7185ee6b3d
          name: 'Serial number'
          type: DEPENDENT
          key: ribbon.server.serial.number
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Identifies the serial number of the server module. This is the serial number assigned to the server module at manufacture.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].serialNum'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: application
        - uuid: 6279c6ef1262473494342fde1c10e444
          name: 'Swap utilization'
          type: DEPENDENT
          key: ribbon.server.swap.util
          delay: '0'
          units: '!%'
          description: 'The average % of swap utilization for this interval.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.memoryUtilCurrentStatistics[0].averageSwap'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: 637a10aaa46e454abf78a8841efb75cf
              expression: 'min(/Ribbon SBC SWe CE by HTTP/ribbon.server.swap.util,5m) > {$RIBBON.SWAP.UTIL.CRIT}'
              name: 'Ribbon: High swap utilization'
              event_name: 'Ribbon: High swap utilization (>{$RIBBON.SWAP.UTIL.CRIT}% for 5m)'
              opdata: 'Current utilization: {ITEM.LASTVALUE}'
              priority: AVERAGE
              description: 'The system is running out of free memory.'
              tags:
                - tag: scope
                  value: performance
        - uuid: 2a2a30ae5d744bf19d2b2104062b8fe6
          name: 'Sync status'
          type: DEPENDENT
          key: ribbon.server.sync.status
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Indicates the inter-CE data synchronization state.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].syncStatus'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 58c3e53e7b3c4f61ab33c8230681589c
              expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.server.sync.status)<>"syncCompleted"'
              name: 'Ribbon: Sync status is not "Completed"'
              opdata: 'Current status: {ITEM.LASTVALUE}'
              priority: WARNING
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: e714e798cf4e4301b55525ba50f2e363
          name: Uptime
          type: DEPENDENT
          key: ribbon.server.uptime
          delay: '0'
          units: uptime
          description: 'Indicates the server module uptime in days/hours/minutes/sec.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.serverStatus[0].upTime'
            - type: JAVASCRIPT
              parameters:
                - |
                  const data = value;
                  var days = 0, hours = 0, minutes = 0, seconds = 0;
                  
                  const daysMatch = data.match(/(\d+)\s+Days?/i);
                  if (daysMatch) {
                  	days = parseInt(daysMatch[1], 10);
                  	data = data.replace(daysMatch[0], "").trim();
                  }
                  
                  const timeMatch = data.match(/(\d+):(\d+):(\d+)/);
                  if (!timeMatch) {
                  	throw "Unknown uptime format";
                  }
                  
                  hours = parseInt(timeMatch[1], 10);
                  minutes = parseInt(timeMatch[2], 10);
                  seconds = parseInt(timeMatch[3], 10);
                  
                  return days * 86400 + hours * 3600 + minutes * 60 + seconds;
          master_item:
            key: ribbon.server.data.get
          tags:
            - tag: component
              value: system
      discovery_rules:
        - uuid: d886ff2a43f34450bc88de7d4956a226
          name: 'CPU discovery'
          type: DEPENDENT
          key: ribbon.cpu.discovery
          delay: '0'
          description: 'Used for discovering of cpu.'
          item_prototypes:
            - uuid: 539d896b890e40fc80140e485c66c9e7
              name: 'CPU [{#CPU.NUM}]: Utilization'
              type: DEPENDENT
              key: 'ribbon.sync.cpu.util[{#CPU.NUM}]'
              delay: '0'
              units: '!%'
              description: 'The average cpu % utilization for this interval.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.cpuUtilCurrentStatistics.["{#CPU.NUM}"].average'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: cpu
                - tag: cpu
                  value: '{#CPU.NUM}'
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)["cpuUtilCurrentStatistics"];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#CPU.NUM}": json_data[entity]["cpu"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 7237f40c48c34b7f99d9e4af7e59f06c
          name: 'FS discovery'
          type: DEPENDENT
          key: ribbon.fs.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#FS}'
                value: '{$RIBBON.FS.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#FS}'
                value: '{$RIBBON.FS.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of disk.'
          item_prototypes:
            - uuid: 63e10a5cfd714ef4889a19b9bd009160
              name: 'FS [{#FS}]: Free'
              type: DEPENDENT
              key: 'ribbon.fs.free[{#FS}]'
              delay: '0'
              units: B
              description: 'Indicates free hard disk space.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.hardDiskUsage.["{#FS}"].freeDiskSpace'
                - type: TRIM
                  parameters:
                    - KBytes
                - type: MULTIPLIER
                  parameters:
                    - '1024'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: storage
                - tag: fs
                  value: '{#FS}'
            - uuid: ae352dc364764946ba31c76e76ebb659
              name: 'FS [{#FS}]: Role'
              type: DEPENDENT
              key: 'ribbon.fs.role[{#FS}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Role of the server for the indicated partition.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.hardDiskUsage.["{#FS}"].role'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: storage
                - tag: fs
                  value: '{#FS}'
            - uuid: 3b2f0c9499e9457a9198fa04c757c8ba
              name: 'FS [{#FS}]: Sync status'
              type: DEPENDENT
              key: 'ribbon.fs.sync.status[{#FS}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Partition''s synchronization status with peer server.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.hardDiskUsage.["{#FS}"].syncStatus'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: storage
                - tag: fs
                  value: '{#FS}'
            - uuid: 3b67f185d6e446868178259a0d5a5168
              name: 'FS [{#FS}]: Total size'
              type: DEPENDENT
              key: 'ribbon.fs.total[{#FS}]'
              delay: '0'
              units: B
              description: 'Capacity of the disk.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.hardDiskUsage.["{#FS}"].totalDiskSpace'
                - type: TRIM
                  parameters:
                    - KBytes
                - type: MULTIPLIER
                  parameters:
                    - '1024'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: storage
                - tag: fs
                  value: '{#FS}'
            - uuid: 0ed4aa224e4b4182ac0c5383b7d583d9
              name: 'FS [{#FS}]: Utilization'
              type: DEPENDENT
              key: 'ribbon.fs.util[{#FS}]'
              delay: '0'
              units: '!%'
              description: 'Indicates used hard disk.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.hardDiskUsage.["{#FS}"].usedDiskSpace'
                - type: TRIM
                  parameters:
                    - '%'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: storage
                - tag: fs
                  value: '{#FS}'
              trigger_prototypes:
                - uuid: ac708d850c12469da39cd8765d1277de
                  expression: 'min(/Ribbon SBC SWe CE by HTTP/ribbon.fs.util[{#FS}],5m) > {$RIBBON.DISK.UTIL.CRIT}'
                  name: 'Ribbon: FS [{#FS}]: High disk space utilization'
                  event_name: 'Ribbon: FS [{#FS}]: High disk space utilization (>{$RIBBON.DISK.UTIL.CRIT}% for 5m)'
                  opdata: 'Current utilization: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The disk used space is more than threshold.'
                  tags:
                    - tag: scope
                      value: capacity
          graph_prototypes:
            - uuid: 796eb031342a4fd88fb1a5d08d9018ec
              name: 'FS [{#FS}]: Utilization'
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 81C784
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.fs.util[{#FS}]'
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)["hardDiskUsage"];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#FS}": json_data[entity]["partition"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 76524552160645cc83eb8d238d2dbb7b
          name: 'Management port discovery'
          type: DEPENDENT
          key: ribbon.mgmt.port.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#PORT}'
                value: '{$RIBBON.MANAGEMENT.PORT.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#PORT}'
                value: '{$RIBBON.MANAGEMENT.PORT.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of management port.'
          item_prototypes:
            - uuid: a46e3f7fb43b499189cdac13701c6203
              name: 'Management port [{#PORT}]: Duplex mode'
              type: DEPENDENT
              key: 'ribbon.mgmt.port.duplex.mode[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The negotiated interface duplex mode.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.mgmtPortStatus.["{#PORT}"].duplexMode'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: mgmt-port
                - tag: component
                  value: network
                - tag: mgmt-port
                  value: '{#PORT}'
            - uuid: e8859ed1e9a04b46b7a646d0a9111366
              name: 'Management port [{#PORT}]: Bits received'
              type: DEPENDENT
              key: 'ribbon.mgmt.port.in[{#PORT}]'
              delay: '0'
              units: bps
              description: 'Actual Rx bandwidth in use on this port, bytes/sec.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.mgmtPortStatus.["{#PORT}"].rxActualBandwidth'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: mgmt-port
                - tag: component
                  value: network
                - tag: mgmt-port
                  value: '{#PORT}'
            - uuid: aab28dc7b149479ca4061527a3ae580a
              name: 'Management port [{#PORT}]: Link state'
              type: DEPENDENT
              key: 'ribbon.mgmt.port.link.state[{#PORT}]'
              delay: '0'
              description: |
                The state of the interface.
                Possible values:
                0 - null
                1 - admnDisabled
                2 - admnEnabledPortDown
                3 - admnEnabledPortUp
                4 - admnDisabledNoLicense
                5 - admnEnabledPortDownInvalidSfpWrongSpeed
                6 - admnEnabledPortDownInvalidSfpNonSonus
              valuemap:
                name: 'Ribbon: Port link state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.mgmtPortStatus.["{#PORT}"].linkState'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                        'null',
                        'admnDisabled',
                        'admnEnabledPortDown',
                        'admnEnabledPortUp',
                        'admnDisabledNoLicense',
                        'admnEnabledPortDownInvalidSfpWrongSpeed',
                        'admnEnabledPortDownInvalidSfpNonSonus'
                      ].indexOf(value);
                      
                      return idx !== -1 ? idx : 7;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: mgmt-port
                - tag: component
                  value: network
                - tag: mgmt-port
                  value: '{#PORT}'
              trigger_prototypes:
                - uuid: 6722ff0530a2403baf02a64ce197e86d
                  expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.mgmt.port.link.state[{#PORT}])=2 or last(/Ribbon SBC SWe CE by HTTP/ribbon.mgmt.port.link.state[{#PORT}])=5 or last(/Ribbon SBC SWe CE by HTTP/ribbon.mgmt.port.link.state[{#PORT}])=6'
                  name: 'Ribbon: Management port [{#PORT}]: Link state is down'
                  opdata: 'Current state: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The management port link state is down.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: f20e8343c3234ae8b0a5334e3b19329f
              name: 'Management port [{#PORT}]: Bits sent'
              type: DEPENDENT
              key: 'ribbon.mgmt.port.out[{#PORT}]'
              delay: '0'
              units: bps
              description: 'Actual Tx bandwidth in use on this port, bytes/sec.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.mgmtPortStatus.["{#PORT}"].txActualBandwidth'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: mgmt-port
                - tag: component
                  value: network
                - tag: mgmt-port
                  value: '{#PORT}'
            - uuid: d530914bee3645e8b26a85703a78c22d
              name: 'Management port [{#PORT}]: Negotiated speed'
              type: DEPENDENT
              key: 'ribbon.mgmt.port.speed[{#PORT}]'
              delay: '0'
              description: |
                The negotiated interface speed. When statistics are generated for EMS, negotiatedSpeed will be displayed as integer value. 
                Possible values:
                0 - speed10Mbps
                1 - speed100Mbps
                2 - speed1000Mbps
                3 - speed10000Mbps
                4 - unknown
              valuemap:
                name: 'Ribbon: Port negotiated speed'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.mgmtPortStatus.["{#PORT}"].negotiatedSpeed'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                        'speed10Mbps',
                        'speed100Mbps',
                        'speed1000Mbps',
                        'speed10000Mbps',
                        'unknown'
                      ].indexOf(value);
                      
                      return idx !== -1 ? idx : 4;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: mgmt-port
                - tag: component
                  value: network
                - tag: mgmt-port
                  value: '{#PORT}'
          graph_prototypes:
            - uuid: c5e51691c6664520812ab3019ed51a68
              name: 'Management port [{#PORT}]: Usage'
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 81C784
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.mgmt.port.in[{#PORT}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: FFD54F
                  yaxisside: RIGHT
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.mgmt.port.out[{#PORT}]'
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)['mgmtPortStatus'];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#PORT}": json_data[entity]["portName"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 17140ceb74cb41179e4162a3d630b877
          name: 'Port monitor discovery'
          type: DEPENDENT
          key: ribbon.monitor.port.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#PORT}'
                value: '{$RIBBON.MONITOR.PORT.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#PORT}'
                value: '{$RIBBON.MONITOR.PORT.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of port monitor.'
          item_prototypes:
            - uuid: a58d013e850f43b6b3b17f996028ce2b
              name: 'Port monitor [{#PORT}]: Failures'
              type: DEPENDENT
              key: 'ribbon.monitor.port.failures[{#PORT}]'
              delay: '0'
              description: 'The current number failures of this port monitor.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].failures'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: cfdab9b29ee14646adeeff87544bfa3d
              name: 'Port monitor [{#PORT}]: Fault state'
              type: DEPENDENT
              key: 'ribbon.monitor.port.fault.state[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The fault state of the physical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].faultState'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: d5b86019dfa34f4083b172396e422d56
              name: 'Port monitor [{#PORT}]: Group name'
              type: DEPENDENT
              key: 'ribbon.monitor.port.group.name[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The name of this port group.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].prgName'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: 0dcb5ae132b746ff9a4aeb65db577841
              name: 'Port monitor [{#PORT}]: Link failures'
              type: DEPENDENT
              key: 'ribbon.monitor.port.link.failures[{#PORT}]'
              delay: '0'
              description: 'The current number of link failures of this port monitor.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].linkFailures'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: e184efcae96748678a67135000dd51e1
              name: 'Port monitor [{#PORT}]: Name'
              type: DEPENDENT
              key: 'ribbon.monitor.port.name[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The name of this port monitor.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].pmName'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: 77f9fab4056546aa912ec7fadd80cb5e
              name: 'Port monitor [{#PORT}]: Physical name'
              type: DEPENDENT
              key: 'ribbon.monitor.port.physical.name[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The name of physical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].portName'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: 556ac689e8294d449a1694f131654406
              name: 'Port monitor [{#PORT}]: Role'
              type: DEPENDENT
              key: 'ribbon.monitor.port.role[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The role of the physical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].role'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
            - uuid: 803fc65d7a134ef1ba577eec3f6a4373
              name: 'Port monitor [{#PORT}]: State'
              type: DEPENDENT
              key: 'ribbon.monitor.port.state[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The link state of the physical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portMonitorStatus.["{#PORT}"].state'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-monitor
                - tag: port-monitor
                  value: '{#PORT}'
              trigger_prototypes:
                - uuid: 155d1f5ee1af400e8ba07cc03eb49e4a
                  expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.monitor.port.state[{#PORT}])<>"up"'
                  name: 'Ribbon: Port monitor [{#PORT}]: State is not "up"'
                  opdata: 'Current state: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The port monitor state is not up.'
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)['portMonitorStatus'];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#PORT}": json_data[entity]["pmName"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 541e87264085447da3c82118f81a257a
          name: 'Packet port discovery'
          type: DEPENDENT
          key: ribbon.packet.port.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#PORT}'
                value: '{$RIBBON.PACKET.PORT.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#PORT}'
                value: '{$RIBBON.PACKET.PORT.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of packet port.'
          item_prototypes:
            - uuid: 8ccfc427d4d64aef886cb1e05c30ce8c
              name: 'Packet port [{#PORT}]: Bits received'
              type: DEPENDENT
              key: 'ribbon.packet.port.in[{#PORT}]'
              delay: '0'
              units: bps
              description: 'Actual Rx bandwidth in use on this port, bytes/sec.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.packetPortStatus.["{#PORT}"].rxActualBandwidth'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: packet-port
                - tag: packet-port
                  value: '{#PORT}'
            - uuid: 71872e6ceec74c1e8b88882a16ff5501
              name: 'Packet port [{#PORT}]: Link state'
              type: DEPENDENT
              key: 'ribbon.packet.port.link.state[{#PORT}]'
              delay: '0'
              description: |
                The state of the interface. When statistics are generated for EMS, linkState will be displayed as integer value. 
                Possible values:
                0 - null
                1 - admnDisabled
                2 - admnEnabledPortDown
                3 - admnEnabledPortUp
                4 - admnDisabledNoLicense
                5 - admnEnabledPortDownInvalidSfpWrongSpeed
                6 - admnEnabledPortDownInvalidSfpNonSonus
              valuemap:
                name: 'Ribbon: Port link state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.packetPortStatus.["{#PORT}"].linkState'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                        'null',
                        'admnDisabled',
                        'admnEnabledPortDown',
                        'admnEnabledPortUp',
                        'admnDisabledNoLicense',
                        'admnEnabledPortDownInvalidSfpWrongSpeed',
                        'admnEnabledPortDownInvalidSfpNonSonus'
                      ].indexOf(value);
                      
                      return idx !== -1 ? idx : 7;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: packet-port
                - tag: packet-port
                  value: '{#PORT}'
              trigger_prototypes:
                - uuid: c43c708c4709464ca16b5e8840e0ebab
                  expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.packet.port.link.state[{#PORT}])=2 or last(/Ribbon SBC SWe CE by HTTP/ribbon.packet.port.link.state[{#PORT}])=5 or last(/Ribbon SBC SWe CE by HTTP/ribbon.packet.port.link.state[{#PORT}])=6'
                  name: 'Ribbon: Packet port [{#PORT}]: Link state is down'
                  opdata: 'Current state: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The packet port link state is down.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 9b01ae59d2c94386ba69bdcb42aa959e
              name: 'Packet port [{#PORT}]: Bits sent'
              type: DEPENDENT
              key: 'ribbon.packet.port.out[{#PORT}]'
              delay: '0'
              units: bps
              description: 'Actual Tx bandwidth in use on this port, bytes/sec.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.packetPortStatus.["{#PORT}"].txActualBandwidth'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: packet-port
                - tag: packet-port
                  value: '{#PORT}'
            - uuid: b5e0ec12b3d24e53a416efcd00f5820f
              name: 'Packet port [{#PORT}]: Negotiated speed'
              type: DEPENDENT
              key: 'ribbon.packet.port.speed[{#PORT}]'
              delay: '0'
              description: |
                The interface speed. Packet port speed is not negotiable. When statistics are generated for EMS, negotiatedSpeed will be displayed as integer value. 
                Possible values:
                0 - speed10Mbps
                1 - speed100Mbps
                2 - speed1000Mbps
                3 - speed10000Mbps
                4 - unknown
              valuemap:
                name: 'Ribbon: Port negotiated speed'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.packetPortStatus.["{#PORT}"].negotiatedSpeed'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                        'speed10Mbps',
                        'speed100Mbps',
                        'speed1000Mbps',
                        'speed10000Mbps',
                        'unknown'
                      ].indexOf(value);
                      
                      return idx !== -1 ? idx : 4;
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: packet-port
                - tag: packet-port
                  value: '{#PORT}'
            - uuid: 058cbca2f7264418a627a373b9388ccf
              name: 'Packet port [{#PORT}]: Utilization'
              type: DEPENDENT
              key: 'ribbon.packet.port.util[{#PORT}]'
              delay: '0'
              units: '!%'
              description: 'Percentage of maximum bandwidth allocated on this port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.packetPortStatus.["{#PORT}"].bandwidthUsage'
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: packet-port
                - tag: packet-port
                  value: '{#PORT}'
              trigger_prototypes:
                - uuid: 75a8459f83074875bf9221ed1f1b2d31
                  expression: 'min(/Ribbon SBC SWe CE by HTTP/ribbon.packet.port.util[{#PORT}],5m) > {$RIBBON.PORT.UTIL.CRIT}'
                  name: 'Ribbon: Packet port [{#PORT}]: High port utilization'
                  event_name: 'Ribbon: Packet port [{#PORT}]: High port utilization (>{$RIBBON.PORT.UTIL.CRIT}% for 5m)'
                  opdata: 'Current utilization: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The packet port usage is more than threshold.'
                  tags:
                    - tag: scope
                      value: capacity
          graph_prototypes:
            - uuid: 7dea3cb8675a4f0b9afe14c80d2aa7b7
              name: 'Packet port [{#PORT}]: usage'
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 81C784
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.packet.port.in[{#PORT}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: FFD54F
                  yaxisside: RIGHT
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.packet.port.out[{#PORT}]'
            - uuid: 0e0e6ad3b7f34a4fbab81f268c24c54f
              name: 'Packet port [{#PORT}]: Utilization'
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 81C784
                  item:
                    host: 'Ribbon SBC SWe CE by HTTP'
                    key: 'ribbon.packet.port.util[{#PORT}]'
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)['packetPortStatus'];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#PORT}": json_data[entity]["portName"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 5ab71e8e5c62406d8bdba0aa378884fd
          name: 'Port redundancy group discovery'
          type: DEPENDENT
          key: ribbon.redundancy.port.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#PORT}'
                value: '{$RIBBON.REDUNDANCY.PORT.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#PORT}'
                value: '{$RIBBON.REDUNDANCY.PORT.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of port redundancy group.'
          item_prototypes:
            - uuid: 2977345b2dea4b7e9ab7a3ad6a8dfcfa
              name: 'Port redundancy group [{#PORT}]: Failure count'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.failure.count[{#PORT}]'
              delay: '0'
              description: 'The current number of port monitors within this port redundancy group that have declared themselves failed.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].failureCount'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
            - uuid: 584cd50cb78e4e8095b6bc9ddf0a2261
              name: 'Port redundancy group [{#PORT}]: Group name'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.group.name[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The name of this port redundancy group.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].prgName'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
            - uuid: f270fe8558044b56aa9720519163d3cb
              name: 'Port redundancy group [{#PORT}]: Redundancy mode'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.mode[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The VM redundancy mode of the CE.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].vmRedundancyMode'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
            - uuid: 83c514742beb4fe3a49ab1f6f743d267
              name: 'Port redundancy group [{#PORT}]: Port name'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.name[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The name of physical/logical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].portName'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
            - uuid: d99e6938b3a04771b68d14f7e976bfbb
              name: 'Port redundancy group [{#PORT}]: State'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.state[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'The state of the logical port.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].state'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
              trigger_prototypes:
                - uuid: 2c00a80067284cb8a961e566248e5e81
                  expression: 'last(/Ribbon SBC SWe CE by HTTP/ribbon.redundancy.port.state[{#PORT}])<>"up"'
                  name: 'Ribbon: Port redundancy group [{#PORT}]: State is not "up"'
                  opdata: 'Current state: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The port redundancy group state is not up.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: d64a16c2a12f4819a2fc66ff6cbe24f6
              name: 'Port redundancy group [{#PORT}]: Type'
              type: DEPENDENT
              key: 'ribbon.redundancy.port.type[{#PORT}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Interface Type of this port redundancy group.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.portRedundancyGroupStatus.["{#PORT}"].interfaceType'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.server.data.get
              tags:
                - tag: component
                  value: network
                - tag: component
                  value: port-redundancy-group
                - tag: port-redundancy-group
                  value: '{#PORT}'
          master_item:
            key: ribbon.server.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)['portRedundancyGroupStatus'];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#PORT}": json_data[entity]["portName"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
      tags:
        - tag: class
          value: software
        - tag: subclass
          value: communication
        - tag: target
          value: ribbon
        - tag: target
          value: ribbon-swe-ce
      macros:
        - macro: '{$RIBBON.CE.NAME}'
          description: 'Ribbon SBC CE name.'
        - macro: '{$RIBBON.CPU.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the CPU usage in percent.'
        - macro: '{$RIBBON.DISK.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the disk usage in percent.'
        - macro: '{$RIBBON.FS.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of file system name to be allowed in discovery.'
        - macro: '{$RIBBON.FS.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of file system name to be ignored in discovery.'
        - macro: '{$RIBBON.MANAGEMENT.PORT.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of management port name to be allowed in discovery.'
        - macro: '{$RIBBON.MANAGEMENT.PORT.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of management port name to be ignored in discovery.'
        - macro: '{$RIBBON.MEMORY.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the memory usage in percent.'
        - macro: '{$RIBBON.MONITOR.PORT.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of monitor port name to be allowed in discovery.'
        - macro: '{$RIBBON.MONITOR.PORT.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of monitor port name to be ignored in discovery.'
        - macro: '{$RIBBON.PACKET.PORT.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of packet port name to be allowed in discovery.'
        - macro: '{$RIBBON.PACKET.PORT.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of packet port name to be ignored in discovery.'
        - macro: '{$RIBBON.PASSWORD}'
          type: SECRET_TEXT
          description: 'Ribbon SBC user password.'
        - macro: '{$RIBBON.PORT.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the packet port usage in percent.'
        - macro: '{$RIBBON.PROXY}'
          description: 'Sets the HTTP proxy value. If this macro is empty, then no proxy is used.'
        - macro: '{$RIBBON.REDUNDANCY.PORT.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of port redundancy group name to be allowed in discovery.'
        - macro: '{$RIBBON.REDUNDANCY.PORT.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of port redundancy group name to be ignored in discovery.'
        - macro: '{$RIBBON.SWAP.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the swap usage in percent.'
        - macro: '{$RIBBON.URL}'
          description: 'Ribbon SBC API IP.'
        - macro: '{$RIBBON.USERNAME}'
          description: 'Ribbon SBC username.'
      dashboards:
        - uuid: 35c2fd2886fe4c2889d2cc25ff577d45
          name: 'Ribbon SWe CE overview'
          pages:
            - name: 'Ribbon: Overview'
              widgets:
                - type: gauge
                  name: 'CPU utilization'
                  width: '18'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: description
                      value: 'CPU utilization'
                    - type: INTEGER
                      name: desc_size
                      value: '10'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.cpu.util
                    - type: INTEGER
                      name: scale_size
                      value: '10'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FFD54F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                    - type: INTEGER
                      name: th_show_arc
                      value: '1'
                    - type: INTEGER
                      name: th_show_labels
                      value: '1'
                    - type: STRING
                      name: units
                      value: '%'
                - type: honeycomb
                  name: 'Filesystem util'
                  'y': '4'
                  width: '36'
                  height: '8'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 81D4FA
                    - type: STRING
                      name: items.0
                      value: 'FS*Utilization'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("FS.\[(.*)\]", \1)}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAD
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: 8BC34A
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '80'
                    - type: STRING
                      name: thresholds.3.color
                      value: E65660
                    - type: STRING
                      name: thresholds.3.threshold
                      value: '90'
                - type: gauge
                  name: 'Memory utilization'
                  x: '18'
                  width: '18'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Memory utilization'
                    - type: INTEGER
                      name: desc_size
                      value: '10'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.memory.util
                    - type: INTEGER
                      name: scale_size
                      value: '10'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FFD54F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                    - type: INTEGER
                      name: th_show_arc
                      value: '1'
                    - type: INTEGER
                      name: th_show_labels
                      value: '1'
                    - type: STRING
                      name: units
                      value: '%'
                - type: gauge
                  name: 'Swap utilization'
                  x: '36'
                  width: '18'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Swap utilization'
                    - type: INTEGER
                      name: desc_size
                      value: '10'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.swap.util
                    - type: INTEGER
                      name: scale_size
                      value: '10'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FFD54F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '70'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '90'
                    - type: INTEGER
                      name: th_show_arc
                      value: '1'
                    - type: INTEGER
                      name: th_show_labels
                      value: '1'
                    - type: STRING
                      name: units
                      value: '%'
                - type: item
                  name: 'Server name'
                  x: '36'
                  'y': '4'
                  width: '36'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.name
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Serial number'
                  x: '36'
                  'y': '6'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.serial.number
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Platform version'
                  x: '36'
                  'y': '8'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.platform.version
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Application version'
                  x: '36'
                  'y': '10'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.application.version
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: Role
                  x: '54'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.role
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Application uptime'
                  x: '54'
                  'y': '2'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.application.uptime
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Server hardware type'
                  x: '54'
                  'y': '6'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.hw.type
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Server hardware sub type'
                  x: '54'
                  'y': '8'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.hw.sub.type
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Sync status'
                  x: '54'
                  'y': '10'
                  width: '18'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe CE by HTTP'
                        key: ribbon.server.sync.status
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                    - type: INTEGER
                      name: value_size
                      value: '35'
            - name: 'Ribbon: Ports'
              widgets:
                - type: honeycomb
                  name: 'Packet port link state'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 81D4FA
                    - type: STRING
                      name: items.0
                      value: 'Packet port*Link state'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Packet port.\[(.*)\]", \1)}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAABA
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                - type: honeycomb
                  name: 'Management port link state'
                  'y': '6'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 81D4FA
                    - type: STRING
                      name: items.0
                      value: 'Management port*Link state'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Management port.\[(.*)\]", \1)}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAABC
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                - type: svggraph
                  name: 'Packet port utilization'
                  x: '36'
                  width: '36'
                  height: '6'
                  fields:
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: STRING
                      name: ds.0.items.0
                      value: 'Packet port*Utilization'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '3'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAABB
                - type: honeycomb
                  name: 'Port redundancy group state'
                  x: '36'
                  'y': '6'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 81D4FA
                    - type: STRING
                      name: items.0
                      value: 'Port redundancy group*State'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("Port redundancy group.\[(.*)\]", \1)}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAABD
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
      valuemaps:
        - uuid: 6925e3c1ff3c43409e744cd05b6a813c
          name: 'Ribbon: Port link state'
          mappings:
            - value: '0'
              newvalue: 'null'
            - value: '1'
              newvalue: admnDisabled
            - value: '2'
              newvalue: admnEnabledPortDown
            - value: '3'
              newvalue: admnEnabledPortUp
            - value: '4'
              newvalue: admnDisabledNoLicense
            - value: '5'
              newvalue: admnEnabledPortDownInvalidSfpWrongSpeed
            - value: '6'
              newvalue: admnEnabledPortDownInvalidSfpNonSonus
            - value: '7'
              newvalue: unknown
        - uuid: 8ea3cb267eb645168aee7d6706a65007
          name: 'Ribbon: Port negotiated speed'
          mappings:
            - value: '0'
              newvalue: speed10Mbps
            - value: '1'
              newvalue: speed100Mbps
            - value: '2'
              newvalue: speed1000Mbps
            - value: '3'
              newvalue: speed10000Mbps
            - value: '4'
              newvalue: unknown
    - uuid: b917e122785c4bd4bd004e69badc93de
      template: 'Ribbon SBC SWe core by HTTP'
      name: 'Ribbon SBC SWe core by HTTP'
      description: |
        Ribbon’s SBC Software Edition (SBC SWe), offers identical feature software to its award-winning SBC 5400 and SBC 7000 appliances – only without an appliance. This means enterprises have the flexibility to deploy in their SBCs multiple environments - their own data center, on their own private cloud, or utilize a public cloud.
        
        This template is designed for the effortless deployment of Ribbon SBC SWe core monitoring and doesn't require any external scripts.
        
        More details can be found in the official documentation:
          - REST API Reference: https://publicdoc.rbbn.com/spaces/SBXCONFAPIDOC/pages/360972436/RESTCONF+API+Reference+Guide
          - REST API User's Guide: https://publicdoc.rbbn.com/spaces/SBXCONFAPIDOC/pages/444760643/RESTCONF+API+User+Guide
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-0
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: f1058597a3b6411f93893076e454bda6
          name: 'Call status: Active'
          type: DEPENDENT
          key: ribbon.system.call.active
          delay: '0'
          description: 'Current number of active managed calls on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].activeCalls'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 5ed0bad322164073aaf5db9b1791a3d8
          name: 'Call status: Attempts'
          type: DEPENDENT
          key: ribbon.system.call.attempts
          delay: '0'
          description: 'Number of call attempts on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].callAttempts'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 6e5ec53168d14b3d951e48f7c0e28c2c
          name: 'Call status: Completions'
          type: DEPENDENT
          key: ribbon.system.call.completions
          delay: '0'
          description: 'Total number of completed call attempts on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].callCompletions'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: e3855ac0b82b4af6990b704eff03afbd
          name: 'Call statistics: Concurrent calls'
          type: DEPENDENT
          key: ribbon.system.call.concurrent
          delay: '0'
          description: 'The current high water mark of total number of active calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].callCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: d1ff4e8e50fc44ebb52414e2c872c4ec
          name: 'Call statistics: Encrypt calls'
          type: DEPENDENT
          key: ribbon.system.call.encrypt
          delay: '0'
          description: 'The current high water mark of total number of encrypt calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].callCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: a6b366b5cdad4e41bdd4aacdfbf006c9
          name: 'Call statistics: NICE recorded calls'
          type: DEPENDENT
          key: ribbon.system.call.nice.rec
          delay: '0'
          description: 'The current high water mark of total number of nice recording calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].niceRecCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: c32af5bd2a62410eb15963aa81bbd0a9
          name: 'Call rate congestion level'
          type: DEPENDENT
          key: ribbon.system.call.rate.level
          delay: '0'
          description: 'The current Call rate congestion level.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.CongestionStatus[0].systemCongestionCallRateLevel'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 9e1836504f604cc2a96ae8354d245376
          name: 'Call statistics: SIP recorded calls'
          type: DEPENDENT
          key: ribbon.system.call.sip.rec
          delay: '0'
          description: 'The current high water mark of total number of sip recording calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].sipRecCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 52684c20d4134677b946d2c901e0e1fd
          name: 'Call statistics: SRTP calls'
          type: DEPENDENT
          key: ribbon.system.call.srtp
          delay: '0'
          description: 'The current high water mark of total number of active srtp calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].srtpCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: a6909ad4316642b6ba038de1dd678f56
          name: 'Call status: Stable'
          type: DEPENDENT
          key: ribbon.system.call.stable
          delay: '0'
          description: 'Current number of stable managed calls on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].stableCalls'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 2be5c70ea19744159c89e3bec6975f37
          name: 'Call status: Total'
          type: DEPENDENT
          key: ribbon.system.call.total
          delay: '0'
          description: 'Total number of calls on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].totalCalls'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 1645dc510644472180fbd4bd49765cb7
          name: 'Call statistics: Transcoded calls'
          type: DEPENDENT
          key: ribbon.system.call.transcode.rec
          delay: '0'
          description: 'The current high water mark of total number of transcoded sessions.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].transcodeCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 9ff0738420f94ef19f633f2216813c77
          name: 'Call status: Updates'
          type: DEPENDENT
          key: ribbon.system.call.updates
          delay: '0'
          description: 'Number of call updates (modifications) on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].callUpdates'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: a639e7401f4e440ebc48495d1ed276b7
          name: 'Call statistics: Video calls'
          type: DEPENDENT
          key: ribbon.system.call.video
          delay: '0'
          description: 'The current high water mark of total number of active enhanced video calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].enhancedVideoCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 55cd46b62b16462d97200cac6dee8e3d
          name: 'System congestion level'
          type: DEPENDENT
          key: ribbon.system.congestion.level
          delay: '0'
          description: 'The current System congestion level.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.CongestionStatus[0].systemCongestionMCLevel'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 4e84c38990724c91848046cfafd877a3
          name: 'CPU congestion level'
          type: DEPENDENT
          key: ribbon.system.cpu.level
          delay: '0'
          description: 'The current CPU congestion level.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.CongestionStatus[0].systemCongestionCPULevel'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 210a0b4b387d4b32a4c6eac6ae014201
          name: 'Get data'
          type: SCRIPT
          key: ribbon.system.data.get
          history: '0'
          value_type: TEXT
          trends: '0'
          params: |
            
            var Ribbon = {
            	params: {},
            
            	setParams: function (params) {
            		['url', 'username', 'password'].forEach(function (field) {
            			if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            				throw 'Required param is not set: ' + field + '.';
            			}
            		});
            		
            		Ribbon.params = params;
            
            		if (typeof Ribbon.params.url === 'string') {
            			if (Ribbon.params.url.endsWith('/')) {
            				Ribbon.params.url = Ribbon.params.url.slice(0,-1);
            			}
            		}
            
            	},
            
            	getRequest: function (url) {
            		var response, request = new HttpRequest();
            
            		if (typeof Ribbon.params.http_proxy !== 'undefined' && Ribbon.params.http_proxy !== '') {
            			request.setProxy(Ribbon.params.http_proxy);
            		};
            
            		request.addHeader('Content-Type: application/yang-data+json');
            		request.addHeader('Authorization: Basic ' + btoa(Ribbon.params.username + ':' + Ribbon.params.password));
            
            		Zabbix.log(4, '[ Ribbon SBC SWe core ] Sending request: ' + url);
            
            		response = request.get(Ribbon.params.url + url);
            
            		Zabbix.log(4, '[ Ribbon SBC SWe core ] Received response with status code ' + request.getStatus() + ': ' + response);
            
            		if (request.getStatus() !== 200 || response === null) {
            			throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
            		}
            		try {
            			return JSON.parse(response);
            		}
            		catch (error) {
            			throw 'Failed to parse response received from API. Check debug log for more information.';
            		}
            	},
            
            	getField: function (data, path) {
            		const steps = path.split('.');
            
            		for (var i = 0; i < steps.length; i++) {
            			var step = steps[i];
            			if (typeof data !== 'object' || typeof data[step] === 'undefined') {
            				throw 'Required field was not found: ' + path;
            			}
            			data = data[step];
            		}
            
            		return data;
            	},
            
            	filterByServerName: function (data, param_name, key_field) {
            		var result = {};
            
            		for (var key in data) {
            			if (typeof data[key] === 'object' && data[key] !== null && data[key][param_name] !== 'undefined') {
            				if (data[key][param_name] == Ribbon.params.server_name) {
            					result[data[key][key_field]] = data[key];
            				};
            			}
            		};
            
            		return result;
            	},
            
            	getMetricsData: function (endpoints) {
            		var data = {};
            
            		Object.keys(endpoints).forEach(function (key) {
            			data[key] = Ribbon.getField(Ribbon.getRequest(endpoints[key]['url']), endpoints[key]['path']);
            		});
            
            		return data;
            	}
            };
            
            
            
            try {
            	Ribbon.setParams(JSON.parse(value));
            
            	endpoints = {
            		'serverAdmin': {'url': '/restconf/data/sonusSystem:system/serverAdmin', 'path': 'sonusSystem:serverAdmin'},
            		'admin': {'url': '/restconf/data/sonusSystem:system/admin', 'path': 'sonusSystem:admin'},
            		'syncStatus': {'url': '/restconf/data/sonusSystem:system/syncStatus', 'path': 'sonusSystem:syncStatus'},
            		'CongestionStatistics': {
            			'url': '/restconf/data/sonusSystem:system/sonusOrcaSystem:systemCongestionCurrentStatistics',
            			'path': 'sonusOrcaSystem:systemCongestionCurrentStatistics'},
            		'CongestionStatus': {'url': '/restconf/data/sonusSystem:system/sonusOrcaSystem:systemCongestionStatus', 'path': 'sonusOrcaSystem:systemCongestionStatus'},
            		'callCountStatus': {'url': '/restconf/data/sonusGlobal:global/sonusActiveCall:callCountStatus', 'path': 'sonusActiveCall:callCountStatus'},
            		'callCountCurrentStatistics': {'url': '/restconf/data/sonusGlobal:global/callCountCurrentStatistics', 'path': 'sonusGlobal:callCountCurrentStatistics'}
            	};
            
            	
            	return JSON.stringify(Ribbon.getMetricsData(endpoints));
            
            }
            catch (error) {
            	Zabbix.log(3, '[ Ribbon SBC SWe core ] ERROR: ' + error);
            	error_msg = 'Failed to get data from API:' + error;
            
            	return JSON.stringify({ 'error':  error_msg });
            }
          description: 'Gets the system information.'
          timeout: '30'
          parameters:
            - name: password
              value: '{$RIBBON.PASSWORD}'
            - name: proxy
              value: '{$RIBBON.PROXY}'
            - name: url
              value: '{$RIBBON.URL}'
            - name: username
              value: '{$RIBBON.USERNAME}'
          tags:
            - tag: component
              value: raw
        - uuid: ea77f9d8f1ba4a9fbe40549ce0d17091
          name: 'DSP congestion level'
          type: DEPENDENT
          key: ribbon.system.dsp.rate.level
          delay: '0'
          description: 'The current DSP congestion level.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.CongestionStatus[0].systemCongestionDSPLevel'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 93d7698912ce4805aa9dafe927699233
          name: 'Call status: Emergency establishing'
          type: DEPENDENT
          key: ribbon.system.emergency.call.establishing
          delay: '0'
          description: 'Number of establishing emergency calls (i.e. not yet stable).'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].totalCallsEmergEstablishing'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: eb174749ba8e4f74abdd4fb60627f761
          name: 'Call status: Emergency stable'
          type: DEPENDENT
          key: ribbon.system.emergency.call.stable
          delay: '0'
          description: 'Number of stable emergency calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].totalCallsEmergStable'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 0209ccef35384da29d1bb002788a3fa8
          name: 'Management mode'
          type: DEPENDENT
          key: ribbon.system.haMode
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: |
            Management mode of the system. Possible value:
              - haMode1to1
              - haModeNto1
          valuemap:
            name: 'Ribbon: System HA status'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.admin[0].haMode'
            - type: JAVASCRIPT
              parameters:
                - |
                  const idx = [
                  	'haMode1to1',
                  	'haModeNto1',
                  	'unknown'
                  ].indexOf(value);
                  
                  return idx !== -1 ? idx : 2;
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: fafaaff0021e4ae8bfd53d55a0e83bc2
          name: 'Call statistics: HPC queue abandons'
          type: DEPENDENT
          key: ribbon.system.hpc.queue.abandons
          delay: '0'
          description: 'The current number of HPC calls that were placed in HPC Call Queuing queues, but were subsequently abandoned before they could be completed.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].hpcQueueAbandons'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 220d681a8be3491aa96c0d4bcb90c101
          name: 'Call statistics: HPC queue attempts'
          type: DEPENDENT
          key: ribbon.system.hpc.queue.attempts
          delay: '0'
          description: 'The current number of HPC calls that were successfully placed on HPC Call Queuing queues.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].hpcQueueAttempts'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: e1ef92e48d6a4f048624f9ad26f06fa8
          name: 'Call statistics: HPC queue overflows'
          type: DEPENDENT
          key: ribbon.system.hpc.queue.overflows
          delay: '0'
          description: 'The current number of HPC calls for which HPC call queuing attempts were unsuccessful because queues were full.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].hpcQueueOverflows'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 4f2b31343898463d847d3ddefcadb3ee
          name: 'Call statistics: HPC queue timeouts'
          type: DEPENDENT
          key: ribbon.system.hpc.queue.timeouts
          delay: '0'
          description: 'The current number of HPC calls removed from HPC Call Queuing queues due to expiration of the queue timeout timer.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].hpcQueueTimeouts'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: a5cf7bc5ff094df69ecae1c97c627171
          name: 'IRTT congestion level'
          type: DEPENDENT
          key: ribbon.system.irtt.rate.level
          delay: '0'
          description: 'The current IRTT congestion level.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.CongestionStatus[0].systemCongestionIRTTLevel'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: f91884e60fcb407c9163678620f3f8aa
          name: 'System name'
          type: DEPENDENT
          key: ribbon.system.name
          delay: '0'
          value_type: CHAR
          trends: '0'
          description: 'Name of the system.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.admin[0].actualSystemName'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 7172b4e5f9da4e5ebd8afe5e553457f5
          name: 'Call status: Signalling active'
          type: DEPENDENT
          key: ribbon.system.non.call.active
          delay: '0'
          description: 'Current number of active non-call associated signalling channels in the server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].activeCallsNonUser'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 7e8c3eaf11124075aa9ecfdf08c4a2cd
          name: 'Call status: Signalling stable'
          type: DEPENDENT
          key: ribbon.system.non.call.stable
          delay: '0'
          description: 'Current number of stable non-call associated signalling channels in the server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].stableCallsNonUser'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: cb23fde59fb34988aba1132eaace6df6
          name: 'Call status: Signalling total'
          type: DEPENDENT
          key: ribbon.system.non.call.total
          delay: '0'
          description: 'Total number of non-user calls on this server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountStatus[0].totalCallsNonUser'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: acb2541b36294604b5c6bb260cccdd09
          name: 'Call statistics: MRF sessions'
          type: DEPENDENT
          key: ribbon.system.session.mrf
          delay: '0'
          description: 'The current high water mark of total number of mrf calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].mrfSessionsCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 5856ac0adb1d4d7fb2aee5c3f41af29a
          name: 'Call statistics: SLB sessions'
          type: DEPENDENT
          key: ribbon.system.session.slb
          delay: '0'
          description: 'The current high water mark of total number of SLB calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].slbSessionsCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: d546591b91314e35b4823af140a25c52
          name: 'Call statistics: SOSBC sessions'
          type: DEPENDENT
          key: ribbon.system.session.sosbc
          delay: '0'
          description: 'The current high water mark of total number of SOSBC calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].sosbcSessionsCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
        - uuid: 3f72e3c4ad8c44398a70975456b27b25
          name: 'Call statistics: WebSocket sessions'
          type: DEPENDENT
          key: ribbon.system.session.websocket
          delay: '0'
          description: 'The current high water mark of total number of web socket calls.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.callCountCurrentStatistics[0].webSocketSessionsCount'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: ribbon.system.data.get
          tags:
            - tag: component
              value: system
      discovery_rules:
        - uuid: 1feaa9fc301f4bc7be3b18c73ba0562e
          name: 'Call engine discovery'
          type: DEPENDENT
          key: ribbon.ce.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#CE.HW.TYPE}'
                value: '{$RIBBON.CE.DISCOVERY.HW.TYPE.MATCHES}'
                formulaid: A
              - macro: '{#CE.HW.TYPE}'
                value: '{$RIBBON.CE.DISCOVERY.HW.TYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#CE.NAME}'
                value: '{$RIBBON.CE.DISCOVERY.NAME.MATCHES}'
                formulaid: C
              - macro: '{#CE.NAME}'
                value: '{$RIBBON.CE.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              - macro: '{#CE.ROLE}'
                value: '{$RIBBON.CE.DISCOVERY.ROLE.MATCHES}'
                formulaid: E
              - macro: '{#CE.ROLE}'
                value: '{$RIBBON.CE.DISCOVERY.ROLE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: F
          description: 'Used for discovering of call engine.'
          item_prototypes:
            - uuid: 6dc847b33a0744da9f9830b1b4359f96
              name: 'Call engine [{#CE.NAME}]: HW sub-type'
              type: DEPENDENT
              key: 'ribbon.ce.hw.sub.type[{#CE.NAME}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'HW sub-type of the server.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.serverAdmin.[?(@.name == "{#CE.NAME}")].hwSubType.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.system.data.get
              tags:
                - tag: call-engine-name
                  value: '{#CE.NAME}'
                - tag: component
                  value: call-engine
            - uuid: f324e184bb244bd3b03065401d851efb
              name: 'Call engine [{#CE.NAME}]: HW type'
              type: DEPENDENT
              key: 'ribbon.ce.hwType[{#CE.NAME}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'HW type of the server.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.serverAdmin.[?(@.name == "{#CE.NAME}")].hwType.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.system.data.get
              tags:
                - tag: call-engine-name
                  value: '{#CE.NAME}'
                - tag: component
                  value: call-engine
            - uuid: d239b5defa964c719a93814a94d7f1b2
              name: 'Call engine [{#CE.NAME}]: Name'
              type: DEPENDENT
              key: 'ribbon.ce.name[{#CE.NAME}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Instance/Ce Name given by user as userdata.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.serverAdmin.[?(@.name == "{#CE.NAME}")].actualCeName.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.system.data.get
              tags:
                - tag: call-engine-name
                  value: '{#CE.NAME}'
                - tag: component
                  value: call-engine
            - uuid: 10c202d6dd844e1aa3fbe8433d3fee2d
              name: 'Call engine [{#CE.NAME}]: Role'
              type: DEPENDENT
              key: 'ribbon.ce.role[{#CE.NAME}]'
              delay: '0'
              description: 'When set to primary, role designates a server for internal processing.'
              valuemap:
                name: 'Ribbon: Call engine role'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.serverAdmin.[?(@.name == "{#CE.NAME}")].role.first()'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                      	'primary',
                      	'secondary'
                      ].indexOf(value);
                      
                      return idx !== -1 ? idx : 2;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.system.data.get
              tags:
                - tag: call-engine-name
                  value: '{#CE.NAME}'
                - tag: component
                  value: call-engine
          host_prototypes:
            - uuid: df47e752f85d4c22a519b4f9e6e04ab9
              host: '{#CE.NAME}'
              name: '{#CE.NAME}'
              group_links:
                - group:
                    name: Applications
              templates:
                - name: 'Ribbon SBC SWe CE by HTTP'
              macros:
                - macro: '{$RIBBON.CE.NAME}'
                  value: '{#CE.NAME}'
                  description: 'Name of call engine.'
          master_item:
            key: ribbon.system.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)["serverAdmin"];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#CE.NAME}": json_data[entity]["name"],
                  		"{#CE.ROLE}": json_data[entity]["role"],
                  		"{#CE.HW.TYPE}": json_data[entity]["hwType"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: f10278da819b4ba5b76f505e4289f63a
          name: 'Sync module discovery'
          type: DEPENDENT
          key: ribbon.sync.module.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#SYNC.MODULE}'
                value: '{$RIBBON.SYNC.MODULE.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#SYNC.MODULE}'
                value: '{$RIBBON.SYNC.MODULE.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Used for discovering of sync module.'
          item_prototypes:
            - uuid: 9478b97203694c498e8a88b2d2cd7c35
              name: 'Module [{#SYNC.MODULE}]: Sync status'
              type: DEPENDENT
              key: 'ribbon.sync.module.status[{#SYNC.MODULE}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Indicates the inter-CE data synchronization state.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.syncStatus.[?(@.syncModule == "{#SYNC.MODULE}")].status.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: ribbon.system.data.get
              tags:
                - tag: component
                  value: sync-module
                - tag: module
                  value: '{#SYNC.MODULE}'
              trigger_prototypes:
                - uuid: 851d014e5d454d29a38ec4754ce1d6ac
                  expression: 'last(/Ribbon SBC SWe core by HTTP/ribbon.sync.module.status[{#SYNC.MODULE}])<>"syncCompleted"'
                  name: 'Ribbon: Module [{#SYNC.MODULE}]: Sync status is not "Completed"'
                  opdata: 'Current status: {ITEM.LASTVALUE}'
                  priority: AVERAGE
                  description: 'The module sync status is not "Completed".'
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: ribbon.system.data.get
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const json_data = JSON.parse(value)['syncStatus'];
                  var output_data = [];
                  
                  for (var entity in json_data) {
                  	output_data.push({
                  		"{#SYNC.MODULE}": json_data[entity]["syncModule"]
                  	});
                  };
                  
                  return JSON.stringify(output_data);
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
      tags:
        - tag: class
          value: software
        - tag: subclass
          value: communication
        - tag: target
          value: ribbon
        - tag: target
          value: ribbon-swe-core
      macros:
        - macro: '{$RIBBON.CE.DISCOVERY.HW.TYPE.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of call engine hardware type to be allowed in discovery.'
        - macro: '{$RIBBON.CE.DISCOVERY.HW.TYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of call engine hardware type to be ignored in discovery.'
        - macro: '{$RIBBON.CE.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of call engine name to be allowed in discovery.'
        - macro: '{$RIBBON.CE.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of call engine name to be ignored in discovery.'
        - macro: '{$RIBBON.CE.DISCOVERY.ROLE.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of call engine role to be allowed in discovery.'
        - macro: '{$RIBBON.CE.DISCOVERY.ROLE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of call engine role to be ignored in discovery.'
        - macro: '{$RIBBON.CPU.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the CPU usage in percent.'
        - macro: '{$RIBBON.MEMORY.UTIL.CRIT}'
          value: '90'
          description: 'The threshold of the memory usage in percent.'
        - macro: '{$RIBBON.PASSWORD}'
          type: SECRET_TEXT
          description: 'Ribbon SBC user password.'
        - macro: '{$RIBBON.PROXY}'
          description: 'Sets the HTTP proxy value. If this macro is empty, then no proxy is used.'
        - macro: '{$RIBBON.SYNC.MODULE.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of sync module name to be allowed in discovery.'
        - macro: '{$RIBBON.SYNC.MODULE.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of sync module name to be ignored in discovery.'
        - macro: '{$RIBBON.URL}'
          description: 'Ribbon SBC API IP.'
        - macro: '{$RIBBON.USERNAME}'
          description: 'Ribbon SBC username.'
      dashboards:
        - uuid: 02584a811ff84a01ab69ac2640d8ea1d
          name: 'Ribbon SWe core overview'
          pages:
            - name: 'Ribbon: Overview'
              widgets:
                - type: item
                  name: 'System name'
                  width: '36'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.name
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: svggraph
                  name: 'Call statistic'
                  'y': '2'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: FFD54F
                    - type: STRING
                      name: ds.0.color.1
                      value: 0EC9AC
                    - type: STRING
                      name: ds.0.color.2
                      value: 524BBC
                    - type: STRING
                      name: ds.0.color.3
                      value: ED1248
                    - type: STRING
                      name: ds.0.color.4
                      value: D1E754
                    - type: STRING
                      name: ds.0.color.5
                      value: 2AB5FF
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.concurrent
                    - type: ITEM
                      name: ds.0.itemids.1
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.encrypt
                    - type: ITEM
                      name: ds.0.itemids.2
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.nice.rec
                    - type: ITEM
                      name: ds.0.itemids.3
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.sip.rec
                    - type: ITEM
                      name: ds.0.itemids.4
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.srtp
                    - type: ITEM
                      name: ds.0.itemids.5
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.video
                    - type: INTEGER
                      name: ds.0.missingdatafunc
                      value: '3'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '6'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: svggraph
                  name: 'HPC queue'
                  'y': '8'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: FFD54F
                    - type: STRING
                      name: ds.0.color.1
                      value: 0EC9AC
                    - type: STRING
                      name: ds.0.color.2
                      value: 524BBC
                    - type: STRING
                      name: ds.0.color.3
                      value: ED1248
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.hpc.queue.abandons
                    - type: ITEM
                      name: ds.0.itemids.1
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.hpc.queue.attempts
                    - type: ITEM
                      name: ds.0.itemids.2
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.hpc.queue.overflows
                    - type: ITEM
                      name: ds.0.itemids.3
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.hpc.queue.timeouts
                    - type: INTEGER
                      name: ds.0.missingdatafunc
                      value: '3'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '4'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: item
                  name: 'Management mode'
                  x: '36'
                  width: '36'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.haMode
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                    - type: INTEGER
                      name: value_bold
                      value: '0'
                - type: honeycomb
                  name: 'Congestion level'
                  x: '36'
                  'y': '2'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 81D4FA
                    - type: STRING
                      name: items.0
                      value: 'Call rate congestion level'
                    - type: STRING
                      name: items.1
                      value: 'CPU congestion level'
                    - type: STRING
                      name: items.2
                      value: 'DSP congestion level'
                    - type: STRING
                      name: items.3
                      value: 'IRTT congestion level'
                    - type: STRING
                      name: items.4
                      value: 'System congestion level'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*)congestion level", \1)}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAB
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: STRING
                      name: thresholds.0.color
                      value: 81C784
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: CDDC39
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '2'
                    - type: STRING
                      name: thresholds.3.color
                      value: E65660
                    - type: STRING
                      name: thresholds.3.threshold
                      value: '3'
                - type: svggraph
                  name: 'Call status'
                  x: '36'
                  'y': '8'
                  width: '36'
                  height: '6'
                  fields:
                    - type: STRING
                      name: ds.0.color.0
                      value: FFD54F
                    - type: STRING
                      name: ds.0.color.1
                      value: 0EC9AC
                    - type: STRING
                      name: ds.0.color.2
                      value: 524BBC
                    - type: STRING
                      name: ds.0.color.3
                      value: ED1248
                    - type: STRING
                      name: ds.0.color.4
                      value: D1E754
                    - type: STRING
                      name: ds.0.color.5
                      value: 2AB5FF
                    - type: INTEGER
                      name: ds.0.dataset_type
                      value: '0'
                    - type: INTEGER
                      name: ds.0.fill
                      value: '5'
                    - type: ITEM
                      name: ds.0.itemids.0
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.active
                    - type: ITEM
                      name: ds.0.itemids.1
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.attempts
                    - type: ITEM
                      name: ds.0.itemids.2
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.stable
                    - type: ITEM
                      name: ds.0.itemids.3
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.completions
                    - type: ITEM
                      name: ds.0.itemids.4
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.total
                    - type: ITEM
                      name: ds.0.itemids.5
                      value:
                        host: 'Ribbon SBC SWe core by HTTP'
                        key: ribbon.system.call.updates
                    - type: INTEGER
                      name: ds.0.missingdatafunc
                      value: '3'
                    - type: INTEGER
                      name: ds.0.width
                      value: '3'
                    - type: INTEGER
                      name: legend_columns
                      value: '1'
                    - type: INTEGER
                      name: legend_lines
                      value: '6'
                    - type: INTEGER
                      name: legend_statistic
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAD
      valuemaps:
        - uuid: 4d1dd88f5c48462fa55ba7bd73476cb7
          name: 'Ribbon: Call engine role'
          mappings:
            - value: '0'
              newvalue: primary
            - value: '1'
              newvalue: secondary
            - value: '2'
              newvalue: unknown
        - uuid: bed1403dbaf0419987856c5c33a061b6
          name: 'Ribbon: System HA status'
          mappings:
            - value: '0'
              newvalue: haMode1to1
            - value: '1'
              newvalue: haModeNto1
            - value: '2'
              newvalue: unknown
  graphs:
    - uuid: 476512eb28de43c6bcc2bfdfc2240904
      name: 'Call statistics'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.video
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.srtp
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.encrypt
        - sortorder: '3'
          drawtype: GRADIENT_LINE
          color: F7941D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.concurrent
    - uuid: db7a698f6488496f8a1bbdb00545141e
      name: 'Call status'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.total
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.updates
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.stable
        - sortorder: '3'
          drawtype: GRADIENT_LINE
          color: F7941D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.active
        - sortorder: '4'
          drawtype: GRADIENT_LINE
          color: FC6EA3
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.completions
        - sortorder: '5'
          drawtype: GRADIENT_LINE
          color: 6C59DC
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.call.attempts
    - uuid: cf37627bd3854f14a6ae5b633a012c9b
      name: 'CPU utilization'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 81C784
          item:
            host: 'Ribbon SBC SWe CE by HTTP'
            key: ribbon.server.cpu.util
    - uuid: 9f0b5130421143f592f9d068d4e1c5f3
      name: 'Emergency call status'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.emergency.call.stable
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.emergency.call.establishing
    - uuid: 1041f98ee1cf44d29fa37b7b716c6a53
      name: 'HPC queue'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.hpc.queue.timeouts
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.hpc.queue.abandons
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.hpc.queue.overflows
        - sortorder: '3'
          drawtype: GRADIENT_LINE
          color: F7941D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.hpc.queue.attempts
    - uuid: 29612db53a7944aaa2e9e8d42679b513
      name: 'Memory utilization'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 81C784
          item:
            host: 'Ribbon SBC SWe CE by HTTP'
            key: ribbon.server.memory.util
    - uuid: 33b98206ab36464eb434307807227c9c
      name: 'Signalling call status'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.non.call.total
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.non.call.stable
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Ribbon SBC SWe core by HTTP'
            key: ribbon.system.non.call.active
    - uuid: 0f6c5e0d65b7466cb9c65944dea13836
      name: 'Swap utilization'
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 81C784
          item:
            host: 'Ribbon SBC SWe CE by HTTP'
            key: ribbon.server.swap.util
