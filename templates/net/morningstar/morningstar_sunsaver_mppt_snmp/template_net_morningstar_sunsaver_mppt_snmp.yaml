zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    - uuid: f1336fd88ab0415a9c02892a71e50032
      template: 'Morningstar SunSaver MPPT by SNMP'
      name: 'Morningstar SunSaver MPPT by SNMP'
      description: |
        MIBs used:
        SUNSAVER-MPPT
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.4-1
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 9836b1fc81b84a44b2a708291bd5bf1a
          name: 'Array: Sweep Pmax'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.57.0]'
          key: 'array.sweep_pmax[arrayMaxPowerSweep.0]'
          value_type: FLOAT
          units: W
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Open Circuit Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0.0, 80.0]
            Modbus address:0x002A
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01509857178'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: array
        - uuid: 0842746ca41c44128a575113307259e2
          name: 'Array: Sweep Vmp'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.56.0]'
          key: 'array.sweep_vmp[arrayVmp.0]'
          value_type: FLOAT
          units: V
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Max. Power Point Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0.0, 5000.0]
            Modbus address:0x0028
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: array
        - uuid: 0e3371208513416ab1b9afdf2c3b2c08
          name: 'Array: Sweep Voc'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.58.0]'
          key: 'array.sweep_voc[arrayVoc.0]'
          value_type: FLOAT
          units: V
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Open Circuit Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0.0, 80.0]
            Modbus address:0x002A
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: array
        - uuid: da1f347b28dd4fbeb123f228adefb0ed
          name: 'Array: Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.31.0]'
          key: 'array.voltage[arrayVoltage.0]'
          value_type: FLOAT
          units: V
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0, 80]
            Modbus address:0x0009
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: array
        - uuid: f8803a1390b745f08673d4ea998548a9
          name: 'Battery: Battery Voltage discovery'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.30.0]'
          key: 'battery.voltage.discovery[batteryVoltage.0]'
          delay: 15m
          history: '0'
          value_type: FLOAT
          units: V
          description: 'MIB: SUNSAVER-MPPT'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
          tags:
            - tag: component
              value: battery
            - tag: component
              value: discovery
            - tag: component
              value: raw
        - uuid: a36313ef0933403788a42de8a62b4838
          name: 'Battery: Charge Current'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.33.0]'
          key: 'charge.current[chargeCurrent.0]'
          value_type: FLOAT
          units: A
          description: |
            MIB: SUNSAVER-MPPT
            Description:Target Regulation Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0.0, 80.0]
            Modbus address:0x0014
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.002415771484'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: battery
        - uuid: 4da765c8e26540c190ea07be08b87abc
          name: 'Battery: Charge State'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.39.0]'
          key: 'charge.state[chargeState.0]'
          value_type: FLOAT
          description: |
            MIB: SUNSAVER-MPPT
            Description:Control State
            Modbus address:0x0011
            
            0: Start
            1: NightCheck
            2: Disconnect
            3: Night
            4: Fault
            5: BulkMppt
            6: Pwm
            7: Float
            8: Equalize
          valuemap:
            name: 'SunSaver MPPT charge state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: component
              value: battery
          triggers:
            - uuid: 0362139c66f4464db8c022b9ffce5502
              expression: 'last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.CRIT}'
              name: 'Morningstar SunSaver MPPT: Battery: Device charge in critical state'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: d5439cee53b148ecb4186286c4e93ada
              expression: 'last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.WARN}'
              name: 'Morningstar SunSaver MPPT: Battery: Device charge in warning state'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Morningstar SunSaver MPPT: Battery: Device charge in critical state'
                  expression: 'last(/Morningstar SunSaver MPPT by SNMP/charge.state[chargeState.0])={$CHARGE.STATE.CRIT}'
              tags:
                - tag: scope
                  value: notice
        - uuid: 149545b9154044e3af27b4e9ad809c0e
          name: 'Counter: Charge Amp-hours'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.43.0]'
          key: 'counter.charge_amp_hours[ahChargeResettable.0]'
          value_type: FLOAT
          units: Ah
          description: |
            MIB: SUNSAVER-MPPT
            Description:Ah Charge(Resettable)
            Scaling Factor:0.1
            Units:Ah
            Range:[0.0, 4294967294]
            Modbus addresses:H=0x0015 L=0x0016
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            - tag: component
              value: counter
        - uuid: f6d0f89c747b4418ad34c32b5ac9a5b9
          name: 'Counter: Charge KW-hours'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.45.0]'
          key: 'counter.charge_kw_hours[kwhCharge.0]'
          units: '!kWh'
          description: 'MIB: SUNSAVER-MPPT'
          tags:
            - tag: component
              value: counter
        - uuid: 28e679eace174d289ca5ccf90f3b9150
          name: 'Counter: Load Amp-hours'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.49.0]'
          key: 'counter.load_amp_hours[ahLoadResettable.0]'
          value_type: FLOAT
          units: Ah
          description: |
            MIB: SUNSAVER-MPPT
            Description:Ah Load(Resettable)
            Scaling Factor:0.1
            Units:Ah
            Range:[0.0, 4294967294]
            Modbus addresses:H=0x001D L=0x001E
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            - tag: component
              value: counter
        - uuid: 6491ee507d9a4c099852d33e57df48a9
          name: 'Load: Current'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.34.0]'
          key: 'load.current[loadCurrent.0]'
          value_type: FLOAT
          units: A
          description: |
            MIB: SUNSAVER-MPPT
            Description:Load Current
            Scaling Factor:0.002415771484375
            Units:A
            Range:[0, 60]
            Modbus address:0x000C
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.002415771484'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: load
        - uuid: c5dfef2deee445ec88e2d63dbfbbaf68
          name: 'Load: State'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.46.0]'
          key: 'load.state[loadState.0]'
          value_type: FLOAT
          description: |
            MIB: SUNSAVER-MPPT
            Description:Load State
            Modbus address:0x001A
            
            0: Start
            1: Normal
            2: LvdWarning
            3: Lvd
            4: Fault
            5: Disconnect
            6: NormalOff
            7: Override
            8: NotUsed
          valuemap:
            name: 'SunSaver MPPT load state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: component
              value: load
          triggers:
            - uuid: bbd3a89b012a40daa646ec7113d43e43
              expression: 'last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"lvd"} or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"fault"}'
              name: 'Morningstar SunSaver MPPT: Load: Device load in critical state'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 8f6967c1b577431c995a3c13f8cdb1c1
              expression: 'last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:"lvdWarning"}  or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:"override"}'
              name: 'Morningstar SunSaver MPPT: Load: Device load in warning state'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Morningstar SunSaver MPPT: Load: Device load in critical state'
                  expression: 'last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"lvd"} or last(/Morningstar SunSaver MPPT by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"fault"}'
              tags:
                - tag: scope
                  value: notice
        - uuid: a9ca69fcedbb4524a8eb4b92b975008e
          name: 'Load: Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.32.0]'
          key: 'load.voltage[loadVoltage.0]'
          value_type: FLOAT
          units: V
          description: |
            MIB: SUNSAVER-MPPT
            Description:Load Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0, 80]
            Modbus address:0x000A
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: load
        - uuid: 91f2c1893b594e808032eb0140247d7a
          name: 'Status: Alarms'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.52.0]'
          key: 'status.alarms[alarms.0]'
          history: 1h
          value_type: TEXT
          description: |
            MIB: SUNSAVER-MPPT
            Description:Alarms
            Modbus addresses:H=0x0023 L=0x0024
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
            - type: JAVASCRIPT
              parameters:
                - |
                  var FIELDS = [
                  	'rtsOpen',
                  	'rtsShorted',
                  	'rtsDisconnected',
                  	'heatsinkTempSensorOpen',
                  	'heatsinkTempSensorShorted',
                  	'sspptHot',
                  	'currentLimit',
                  	'currentOffset',
                  	'undefined',
                  	'undefined1',
                  	'uncalibrated',
                  	'rtsMiswire',
                  	'undefined12',
                  	'undefined123',
                  	'systemMiswire',
                  	'mosfetSOpen',
                  	'p12VoltageReferenceOff',
                  	'highVaCurrentLimit',
                  ];
                  
                  var flags = parseInt(value.replace(/\x20/g, ''), 16),
                  	result = [];
                  
                  for (var i = 0, f = 1 << 31 >>> 0, l = FIELDS.length; i < l; i++, f >>>= 1) {
                  	if (flags & f) {
                  		result.push(FIELDS[i]);
                  	}
                  }
                  
                  return result.length ? result.join('\n') : 'No alarms';
          tags:
            - tag: component
              value: status
          triggers:
            - uuid: 86220f6cc9164490b6d80be4a249e749
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","currentLimit")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "currentLimit" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 69016ea6a1204435b3ddb8de6b8944dc
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","currentOffset")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "currentOffset" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 2c02465ea74e4c63ab783d235c8f1a30
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","heatsinkTempSensorOpen")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "heatsinkTempSensorOpen" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 1aa289c68f0b4b44a043281e6df9e462
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","heatsinkTempSensorShorted")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "heatsinkTempSensorShorted" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 6d0ce7d6e2cc407ba0f4d989bdd9a141
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","highVaCurrentLimit")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "highVaCurrentLimit" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 718a3426363040e1ab82864635444056
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","mosfetSOpen")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "mosfetSOpen" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 4eb4df0b4cf04a198190312cdb33538f
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","p12VoltageReferenceOff")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "p12VoltageReferenceOff" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: e2ac890bb16d4e0798b0410f33c8a860
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","rtsDisconnected")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "rtsDisconnected" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 3b02b27bd4674ae3b820730cee8e611a
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","rtsMiswire")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "rtsMiswire" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: d253c037d5974ee38e888162687b96ef
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","rtsShorted")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "rtsShorted" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 1bea0c0e01314dbaa1cfdfa5a0625755
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","sspptHot")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "sspptHot" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: d28d0e51500a45859ccb6969d9b5493f
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","systemMiswire")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "systemMiswire" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
            - uuid: 427f75a98d4440a38e40522bccec03bb
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.alarms[alarms.0],#3,"like","uncalibrated")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "uncalibrated" alarm flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              tags:
                - tag: scope
                  value: notice
        - uuid: f44756455697466cb905aa6ae4d0220d
          name: 'Status: Array Faults'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.40.0]'
          key: 'status.array_faults[arrayFaults.0]'
          history: 1h
          value_type: TEXT
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Faults
            Modbus address:0x0012
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
            - type: JAVASCRIPT
              parameters:
                - |
                  var FIELDS = [
                  	'overcurrent',
                  	'mosfetSShorted',
                  	'softwareFault',
                  	'batteryHvd',
                  	'arrayHvd',
                  	'customSettingsEdit',
                  	'rtsShorted',
                  	'rtsNoLongerValid',
                  	'localTempSensorDamaged',
                  ];
                  
                  var flags = parseInt(value.replace(/\x20/g, ''), 16),
                  	result = [];
                  
                  for (var i = 0, f = 1 << 31 >>> 0, l = FIELDS.length; i < l; i++, f >>>= 1) {
                  	if (flags & f) {
                  		result.push(FIELDS[i]);
                  	}
                  }
                  
                  return result.length ? result.join('\n') : 'No faults';
          tags:
            - tag: component
              value: status
          triggers:
            - uuid: 2d8b0bdeb95c49d68771af384d985311
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","arrayHvd")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "arrayHvd" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 2e07c5d51691462ca0961d77ea974bd5
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","batteryHvd")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "batteryHvd" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 65d2cd1ff93f45db9d7f572ee0a8f568
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","customSettingsEdit")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "customSettingsEdit" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: fe217d10399044d7b1008f0010691e1e
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","localTempSensorDamaged")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "localTempSensorDamaged" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: fa62f9e4f0f84e278938ba18785a1b5f
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","mosfetSShorted")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "mosfetSShorted" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 6f450621a12e46369745b2a0fed018ac
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","overcurrent")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "overcurrent" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 7ea38daa41a94ab3a9c1efc34276b17b
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","rtsNoLongerValid")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "rtsNoLongerValid" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 91edc885c3f140cc85bb6085f06e6820
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","rtsShorted")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "rtsShorted" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: cae74543a0da478d80b9302a2431fe4b
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.array_faults[arrayFaults.0],#3,"like","softwareFault")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "softwareFault" array faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
        - uuid: 76a660b88bb74e90971bdaec703d3c17
          name: 'Status: Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.25.1.1.0]'
          key: status.hw.uptime
          units: uptime
          description: 'The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.'
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: status
        - uuid: 24762b0c264745548150a4bd5913156f
          name: 'Status: Load Faults'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.47.0]'
          key: 'status.load_faults[loadFaults.0]'
          history: 1h
          value_type: TEXT
          description: |
            MIB: SUNSAVER-MPPT
            Description:Array Faults
            Modbus address:0x0012
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
            - type: JAVASCRIPT
              parameters:
                - |
                  var FIELDS = [
                  	'externalShortCircuit',
                  	'overcurrent',
                  	'mosfetShorted',
                  	'software',
                  	'loadHvd',
                  	'highTempDisconnect',
                  	'customSettingsEdit',
                  	'unknownLoadFault'
                  ];
                  
                  var flags = parseInt(value.replace(/\x20/g, ''), 16),
                  	result = [];
                  
                  for (var i = 0, f = 1 << 31 >>> 0, l = FIELDS.length; i < l; i++, f >>>= 1) {
                  	if (flags & f) {
                  		result.push(FIELDS[i]);
                  	}
                  }
                  
                  return result.length ? result.join('\n') : 'No faults';
          tags:
            - tag: component
              value: status
          triggers:
            - uuid: d086fbb093344723a4bb5fe928e984ff
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","customSettingsEdit")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "customSettingsEdit" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 5743ed062a954330928092fb8574002a
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","externalShortCircuit")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "externalShortCircuit" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 354a1512bca5468585a489dd14fc793d
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","highTempDisconnect")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "highTempDisconnect" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 3640e470580846ac9e1651cba186d0a3
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","loadHvd")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "loadHvd" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: d3911d64792e4b88b31cb51a405a1a2e
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","mosfetShorted")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "mosfetShorted" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: d1bfa4177c0844ec9fc2bc7270c09338
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","overcurrent")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "overcurrent" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: baaba919b58546f08cdcd1e2791feb27
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","software")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "software" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 41e47074c983421a83b1e500d4591188
              expression: 'count(/Morningstar SunSaver MPPT by SNMP/status.load_faults[loadFaults.0],#3,"like","unknownLoadFault")=2'
              name: 'Morningstar SunSaver MPPT: Status: Device has "unknownLoadFault" load faults flag'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
        - uuid: 63512390f2a04885bf8d0e19653a72b1
          name: 'Status: Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: status.net.uptime
          units: uptime
          description: 'The time (in hundredths of a second) since the network management portion of the system was last re-initialized.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: status
          triggers:
            - uuid: 72e6e08faed647a98a027bd25b6a7106
              expression: 'nodata(/Morningstar SunSaver MPPT by SNMP/status.net.uptime,5m)=1'
              name: 'Morningstar SunSaver MPPT: Status: Failed to fetch data'
              event_name: 'Morningstar SunSaver MPPT: Status: Failed to fetch data (or no data for 5m)'
              priority: WARNING
              description: 'Zabbix has not received data for items for the last 5 minutes.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: 52afa576b83b49e69ec8d379fbc42965
          name: 'Battery: Target Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.42.0]'
          key: 'target.voltage[targetVoltage.0]'
          value_type: FLOAT
          units: V
          description: |
            MIB: SUNSAVER-MPPT
            Description:Target Regulation Voltage
            Scaling Factor:0.0030517578125
            Units:V
            Range:[0.0, 80.0]
            Modbus address:0x0014
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.003051757813'
            - type: REGEX
              parameters:
                - '^(\d+)(\.\d{1,2})?'
                - \1\2
          tags:
            - tag: component
              value: battery
        - uuid: 430cf6fcb9b74943a8ca7f1d9d06fa56
          name: 'Temperature: Ambient'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.37.0]'
          key: 'temp.ambient[ambientTemperature.0]'
          value_type: FLOAT
          units: C
          description: |
            MIB: SUNSAVER-MPPT
            Description:Ambient Temperature
            Scaling Factor:1.0
            Units:deg C
            Range:[-128, 127]
            Modbus address:0x000F
          tags:
            - tag: component
              value: temperature
        - uuid: 157faa85ae244950b4a114b95bad6d50
          name: 'Temperature: Battery'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.36.0]'
          key: 'temp.battery[batteryTemperature.0]'
          value_type: FLOAT
          units: C
          description: |
            MIB: SUNSAVER-MPPT
            Description:Heatsink Temperature
            Scaling Factor:1.0
            Units:deg C
            Range:[-128, 127]
            Modbus address:0x000D
          tags:
            - tag: component
              value: temperature
          triggers:
            - uuid: cc121c44be05440a82d3344c530456e5
              expression: 'min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)>{$BATTERY.TEMP.MAX.CRIT}'
              name: 'Morningstar SunSaver MPPT: Temperature: Critically high battery temperature'
              event_name: 'Morningstar SunSaver MPPT: Temperature: Critically high battery temperature (over {$BATTERY.TEMP.MAX.CRIT}C for 5m)'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 9e0d552b93ae402d98c327420c99d160
              expression: 'max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)<{$BATTERY.TEMP.MIN.CRIT}'
              name: 'Morningstar SunSaver MPPT: Temperature: Critically low battery temperature'
              event_name: 'Morningstar SunSaver MPPT: Temperature: Critically low battery temperature (below {$BATTERY.TEMP.MIN.WARN}C for 5m)'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
            - uuid: 95b600e280b94949b41422eb60def010
              expression: 'min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)>{$BATTERY.TEMP.MAX.WARN}'
              name: 'Morningstar SunSaver MPPT: Temperature: High battery temperature'
              event_name: 'Morningstar SunSaver MPPT: Temperature: High battery temperature (over {$BATTERY.TEMP.MAX.WARN}C for 5m)'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Morningstar SunSaver MPPT: Temperature: Critically high battery temperature'
                  expression: 'min(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)>{$BATTERY.TEMP.MAX.CRIT}'
              tags:
                - tag: scope
                  value: notice
            - uuid: e351922a0a8c4c53972d9477d47af528
              expression: 'max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)<{$BATTERY.TEMP.MIN.WARN}'
              name: 'Morningstar SunSaver MPPT: Temperature: Low battery temperature'
              event_name: 'Morningstar SunSaver MPPT: Temperature: Low battery temperature (below {$BATTERY.TEMP.MIN.WARN}C for 5m)'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Morningstar SunSaver MPPT: Temperature: Critically low battery temperature'
                  expression: 'max(/Morningstar SunSaver MPPT by SNMP/temp.battery[batteryTemperature.0],5m)<{$BATTERY.TEMP.MIN.CRIT}'
              tags:
                - tag: scope
                  value: notice
        - uuid: 5f238fe557a7412cad5f3864e407284e
          name: 'Temperature: Heatsink'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.33333.3.35.0]'
          key: 'temp.heatsink[heatsinkTemperature.0]'
          value_type: FLOAT
          units: C
          description: |
            MIB: SUNSAVER-MPPT
            Description:Battery Temperature
            Scaling Factor:1.0
            Units:deg C
            Range:[-128, 127]
            Modbus address:0x000E
          tags:
            - tag: component
              value: temperature
      discovery_rules:
        - uuid: 81b324d81e6549d59cbf14163181fb48
          name: 'Battery voltage discovery'
          type: DEPENDENT
          key: battery.voltage.discovery
          description: 'Discovery for battery voltage triggers'
          item_prototypes:
            - uuid: 903b96b7eb37482da469fc802d3da1b0
              name: 'Battery: Voltage{#SINGLETON}'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.33333.3.30.0]'
              key: 'battery.voltage[batteryVoltage.0{#SINGLETON}]'
              value_type: FLOAT
              units: V
              description: |
                MIB: SUNSAVER-MPPT
                Description:Control State
                Modbus address:0x0011
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.003051757813'
                - type: REGEX
                  parameters:
                    - '^(\d+)(\.\d{1,2})?'
                    - \1\2
              tags:
                - tag: component
                  value: battery
              trigger_prototypes:
                - uuid: bf4ad2cee8cf41baafa3d81df5fbe4d3
                  expression: 'min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)>{#VOLTAGE.MAX.CRIT}'
                  name: 'Morningstar SunSaver MPPT: Battery: Critically high battery voltage'
                  event_name: 'Morningstar SunSaver MPPT: Battery: Critically high battery voltage (over {#VOLTAGE.MAX.CRIT}V for 5m)'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: capacity
                - uuid: 2aedfef9b8764881a4768e6b32793820
                  expression: 'max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)<{#VOLTAGE.MIN.CRIT}'
                  name: 'Morningstar SunSaver MPPT: Battery: Critically low battery voltage'
                  event_name: 'Morningstar SunSaver MPPT: Battery: Critically low battery voltage (below {#VOLTAGE.MIN.CRIT}V for 5m)'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: capacity
                - uuid: bec4c7a6a1ab44a4adc8e4286b9a41d9
                  expression: 'min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)>{#VOLTAGE.MAX.WARN}'
                  name: 'Morningstar SunSaver MPPT: Battery: High battery voltage'
                  event_name: 'Morningstar SunSaver MPPT: Battery: High battery voltage (over {#VOLTAGE.MAX.WARN}V for 5m)'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  dependencies:
                    - name: 'Morningstar SunSaver MPPT: Battery: Critically high battery voltage'
                      expression: 'min(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)>{#VOLTAGE.MAX.CRIT}'
                  tags:
                    - tag: scope
                      value: capacity
                - uuid: c06425d8a0a24b5f80fd0591be61b3f0
                  expression: 'max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)<{#VOLTAGE.MIN.WARN}'
                  name: 'Morningstar SunSaver MPPT: Battery: Low battery voltage'
                  event_name: 'Morningstar SunSaver MPPT: Battery: Low battery voltage (below {#VOLTAGE.MIN.WARN}V for 5m)'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  dependencies:
                    - name: 'Morningstar SunSaver MPPT: Battery: Critically low battery voltage'
                      expression: 'max(/Morningstar SunSaver MPPT by SNMP/battery.voltage[batteryVoltage.0{#SINGLETON}],5m)<{#VOLTAGE.MIN.CRIT}'
                  tags:
                    - tag: scope
                      value: capacity
          graph_prototypes:
            - uuid: b3520796c85a45df954633bc5f87d80b
              name: 'Voltage: Battery/Load{#SINGLETON}'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Morningstar SunSaver MPPT by SNMP'
                    key: 'battery.voltage[batteryVoltage.0{#SINGLETON}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: F63100
                  item:
                    host: 'Morningstar SunSaver MPPT by SNMP'
                    key: 'load.voltage[loadVoltage.0]'
          master_item:
            key: 'battery.voltage.discovery[batteryVoltage.0]'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  var v_range = [
                  	[[0, 18], [12, 15, 11.5, 15.5]],
                  	[[18, 36], [24, 30, 23, 31]],
                  	[[36, 99], [48, 60, 46, 62]],
                  ],
                  	result = [];
                  
                  for (var idx in v_range) {
                  	if (v_range[idx][0][0] < value && value <= v_range[idx][0][1]) {
                  		result = [{
                  			'{#VOLTAGE.MIN.WARN}': parseInt({$VOLTAGE.MIN.WARN}) || v_range[idx][1][0],
                  			'{#VOLTAGE.MAX.WARN}': parseInt({$VOLTAGE.MAX.WARN}) || v_range[idx][1][1],
                  			'{#VOLTAGE.MIN.CRIT}': parseInt({$VOLTAGE.MIN.CRIT}) || v_range[idx][1][2],
                  			'{#VOLTAGE.MAX.CRIT}': parseInt({$VOLTAGE.MAX.CRIT}) || v_range[idx][1][3],
                  			'{#SINGLETON}': ''
                  		}];
                  		break;
                  	}
                  }
                  
                  return JSON.stringify(result);
      tags:
        - tag: class
          value: power
        - tag: target
          value: morningstar
      macros:
        - macro: '{$BATTERY.TEMP.MAX.CRIT}'
          value: '60'
          description: 'Battery high temperature critical value'
        - macro: '{$BATTERY.TEMP.MAX.WARN}'
          value: '45'
          description: 'Battery high temperature warning value'
        - macro: '{$BATTERY.TEMP.MIN.CRIT}'
          value: '-20'
          description: 'Battery low temperature critical value'
        - macro: '{$BATTERY.TEMP.MIN.WARN}'
          value: '0'
          description: 'Battery low temperature warning value'
        - macro: '{$CHARGE.STATE.CRIT}'
          value: '4'
          description: fault
        - macro: '{$CHARGE.STATE.WARN}'
          value: '2'
          description: disconnect
        - macro: '{$LOAD.STATE.CRIT:"fault"}'
          value: '4'
          description: fault
        - macro: '{$LOAD.STATE.CRIT:"lvd"}'
          value: '3'
          description: lvd
        - macro: '{$LOAD.STATE.WARN:"disconnect"}'
          value: '5'
          description: disconnect
        - macro: '{$LOAD.STATE.WARN:"lvdWarning"}'
          value: '2'
          description: lvdWarning
        - macro: '{$LOAD.STATE.WARN:"override"}'
          value: '7'
          description: override
        - macro: '{$VOLTAGE.MAX.CRIT}'
        - macro: '{$VOLTAGE.MAX.WARN}'
        - macro: '{$VOLTAGE.MIN.CRIT}'
        - macro: '{$VOLTAGE.MIN.WARN}'
      dashboards:
        - uuid: 154e1f8f24fc4a3080e003a5bdd81ff8
          name: 'Morningstar SunSaver MPPT: Overview'
          pages:
            - widgets:
                - type: graph
                  width: '72'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Morningstar SunSaver MPPT by SNMP'
                        name: 'Array: Voltage'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '4'
                  width: '72'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Morningstar SunSaver MPPT by SNMP'
                        name: 'Current: Charge/Load'
                    - type: STRING
                      name: reference
                      value: AAAAB
                - type: graph
                  'y': '8'
                  width: '72'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Morningstar SunSaver MPPT by SNMP'
                        name: 'Temperature: Ambient/Battery/Heatsink'
                    - type: STRING
                      name: reference
                      value: AAAAC
      valuemaps:
        - uuid: b51b9440e801481fbb76f28b4a5431d1
          name: 'SunSaver MPPT charge state'
          mappings:
            - value: '0'
              newvalue: Start
            - value: '1'
              newvalue: NightCheck
            - value: '2'
              newvalue: Disconnect
            - value: '3'
              newvalue: Night
            - value: '4'
              newvalue: Fault
            - value: '5'
              newvalue: BulkMppt
            - value: '6'
              newvalue: Pwm
            - value: '7'
              newvalue: Float
            - value: '8'
              newvalue: Equalize
        - uuid: f21076ed51104b84ba4d78dd74bd1a5b
          name: 'SunSaver MPPT load state'
          mappings:
            - value: '0'
              newvalue: Start
            - value: '1'
              newvalue: Normal
            - value: '2'
              newvalue: LvdWarning
            - value: '3'
              newvalue: Lvd
            - value: '4'
              newvalue: Fault
            - value: '5'
              newvalue: Disconnect
            - value: '6'
              newvalue: NormalOff
            - value: '7'
              newvalue: Override
            - value: '8'
              newvalue: NotUsed
  triggers:
    - uuid: fd5dcb256d4547da9c432c1b9c01b0ae
      expression: '(last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)>0 and last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)<10m) or (last(/Morningstar SunSaver MPPT by SNMP/status.hw.uptime)=0 and last(/Morningstar SunSaver MPPT by SNMP/status.net.uptime)<10m)'
      name: 'Morningstar SunSaver MPPT: Status: Device has been restarted'
      event_name: 'Morningstar SunSaver MPPT: Status: Device has been restarted (uptime < 10m)'
      priority: INFO
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      tags:
        - tag: scope
          value: notice
  graphs:
    - uuid: 6090c266226d431193b00fb3db49ae07
      name: 'Array: Voltage'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'array.sweep_vmp[arrayVmp.0]'
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'array.sweep_voc[arrayVoc.0]'
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'array.voltage[arrayVoltage.0]'
    - uuid: ad5b73c7352747a6930c9d8647f70bf1
      name: 'Current: Charge/Load'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'charge.current[chargeCurrent.0]'
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'load.current[loadCurrent.0]'
    - uuid: 7b96265600a748728d881f5dfee485d2
      name: 'Temperature: Ambient/Battery/Heatsink'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'temp.ambient[ambientTemperature.0]'
        - sortorder: '1'
          drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'temp.battery[batteryTemperature.0]'
        - sortorder: '2'
          drawtype: GRADIENT_LINE
          color: 00611C
          item:
            host: 'Morningstar SunSaver MPPT by SNMP'
            key: 'temp.heatsink[heatsinkTemperature.0]'
