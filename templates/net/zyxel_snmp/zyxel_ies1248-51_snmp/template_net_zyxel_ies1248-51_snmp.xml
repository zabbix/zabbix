<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
   <version>5.0</version>
   <date>2021-05-10T18:31:47Z</date>
   <groups>
      <group>
         <name>Templates/Network devices</name>
      </group>
   </groups>
   <templates>
      <template>
         <template>Template ZYXEL IES1248-51 SNMP</template>
         <name>Template ZYXEL IES1248-51 SNMP</name>
         <description>ZYXEL IES1248-51&#13;
&#13;
MIBs used:&#13;
RFC1213-MIB&#13;
ADSL-LINE-MIB&#13;
ZYXEL-IESCOMMON-MIB&#13;
IF-MIB&#13;
&#13;
Known Issues:&#13;
&#13;
  Description: Incorrect handling of SNMP bulk requests. Disable the use of bulk requests in the SNMP interface settings.&#13;
  Version: all versions firmware&#13;
  Device: ZYXEL IES1248-51&#13;
&#13;
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/422668-discussion-thread-for-official-zabbix-templates-for-zyxel&#13;
&#13;
Template tooling version used: 0.38</description>
         <groups>
            <group>
               <name>Templates/Network devices</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>Fans</name>
            </application>
            <application>
               <name>Inventory</name>
            </application>
            <application>
               <name>Network interfaces</name>
            </application>
            <application>
               <name>Power supply</name>
            </application>
            <application>
               <name>Status</name>
            </application>
            <application>
               <name>Temperature</name>
            </application>
         </applications>
         <items>
            <item>
               <name>ZYXEL IES1248-51: SNMP agent availability</name>
               <type>INTERNAL</type>
               <key>zabbix[host,snmp,available]</key>
               <history>7d</history>
               <status>ENABLED</status>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <valuemap>
                  <name>SNMP available</name>
               </valuemap>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{max({$SNMP.TIMEOUT})}=0</expression>
                     <name>ZYXEL IES1248-51: No SNMP data collection</name>
                     <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                     <priority>WARNING</priority>
                     <description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Contact</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.4.0</snmp_oid>
               <key>zyxel.ies1248.contact</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
The textual identification of the contact person&#13;
for this managed node, together with information&#13;
on how to contact this person.</description>
               <inventory_link>CONTACT</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL IES1248-51: ZyNOS F/W Version</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.1.3.1.4.0.0</snmp_oid>
               <key>zyxel.ies1248.fwversion</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: ZYXEL-IESCOMMON-MIB</description>
               <inventory_link>SOFTWARE_FULL</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                     <name>ZYXEL IES1248-51: Firmware has changed</name>
                     <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                     <priority>INFO</priority>
                     <description>Firmware version has changed. Ack to close</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Location</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.6.0</snmp_oid>
               <key>zyxel.ies1248.location</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
The physical location of this node (e.g.,&#13;
`telephone closet, 3rd floor').</description>
               <inventory_link>LOCATION</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL IES1248-51: MAC address</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.2.2.1.6.1</snmp_oid>
               <key>zyxel.ies1248.mac</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: IF-MIB&#13;
The interface's address at the protocol layer&#13;
immediately `below' the network layer in the&#13;
protocol stack.  For interfaces which do not have&#13;
such an address (e.g., a serial line), this object&#13;
should contain an octet string of zero length.</description>
               <inventory_link>MACADDRESS_A</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Hardware model name</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.1.0</snmp_oid>
               <key>zyxel.ies1248.model</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
A textual description of the entity.  This value&#13;
should include the full name and version&#13;
identification of the system's hardware type,&#13;
software operating-system, and networking&#13;
software.  It is mandatory that this only contain&#13;
printable ASCII characters.</description>
               <inventory_link>MODEL</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{last()}&lt;&gt;"IES1248-51"</expression>
                     <name>ZYXEL IES1248-51: Template does not match hardware</name>
                     <priority>INFO</priority>
                     <description>This template is for Zyxel IES1248-51, but connected to {ITEM.VALUE}</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Host name</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.5.0</snmp_oid>
               <key>zyxel.ies1248.name</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
An administratively-assigned name for this&#13;
managed node.  By convention, this is the node's&#13;
fully-qualified domain name.</description>
               <inventory_link>NAME</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Hardware serial number</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.1.2.1.3.0</snmp_oid>
               <key>zyxel.ies1248.serialnumber</key>
               <delay>1h</delay>
               <history>2w</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: ZYXEL-IESCOMMON-MIB&#13;
Serial number</description>
               <inventory_link>SERIALNO_A</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                     <name>ZYXEL IES1248-51: Device has been replaced (new serial number received)</name>
                     <priority>INFO</priority>
                     <description>Device serial number has changed. Ack to close</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Alarm status</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.1.3.1.8.0.0</snmp_oid>
               <key>zyxel.ies1248.slot.alarm</key>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: ZYXEL-IESCOMMON-MIB&#13;
This variable indicates the alarm status of the module.&#13;
It is a bit map represented a sum, therefore, it can represent&#13;
multiple defects simultaneously. The moduleNoDefect should be set&#13;
if and only if no other flag is set.&#13;
The various bit positions are:&#13;
1   moduleNoDefect&#13;
2   moduleOverHeat&#13;
3   moduleFanRpmLow&#13;
4   moduleVoltageLow&#13;
5   moduleThermalSensorFailure&#13;
6   modulePullOut&#13;
7   powerDC48VAFailure&#13;
8   powerDC48VBFailure&#13;
9   extAlarmInputTrigger&#13;
10   moduleDown&#13;
11   mscSwitchOverOK&#13;
12   networkTopologyChange&#13;
13   macSpoof&#13;
14   cpuHigh&#13;
15   memoryUsageHigh&#13;
16   packetBufferUsageHigh&#13;
17   loopguardOccurence</description>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var valueArray = [
    'moduleNoDefect',
    'moduleOverHeat',
    'moduleFanRpmLow',
    'moduleVoltageLow',
    'moduleThermalSensorFailure',
    'modulePullOut',
    'powerDC48VAFailure',
    'powerDC48VBFailure',
    'extAlarmInputTrigger',
    'moduleDown',
    'mscSwitchOverOK',
    'networkTopologyChange',
    'macSpoof',
    'cpuHigh',
    'memoryUsageHigh',
    'packetBufferUsageHigh',
    'loopguardOccurence'
];
var base2 = parseInt(value).toString(2);
var outArray = [];
for (var i = 0; i &lt; base2.length; ++i) {
    if (base2[base2.length - 1 - i] === '1') outArray.push(valueArray[i]);
}
return outArray.join();
</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{str("moduleNoDefect")}=0</expression>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX} alarm</name>
                     <priority>AVERAGE</priority>
                     <description>The slot reported an error.</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL IES1248-51: Uptime</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid>
               <key>zyxel.ies1248.uptime</key>
               <delay>30s</delay>
               <history>2w</history>
               <trends>0d</trends>
               <status>ENABLED</status>
               <units>uptime</units>
               <description>MIB: RFC1213-MIB&#13;
The time (in hundredths of a second) since the&#13;
network management portion of the system was last&#13;
re-initialized.</description>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>0.01</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{last()}&lt;10m</expression>
                     <name>ZYXEL IES1248-51: has been restarted (uptime &lt; 10m)</name>
                     <priority>INFO</priority>
                     <description>Uptime is less than 10 minutes</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
         </items>
         <discovery_rules>
            <discovery_rule>
               <name>Fan discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.FANRPM.THRESH.LOW},.1.3.6.1.4.1.890.1.5.13.1.2.1.1.5]</snmp_oid>
               <key>zyxel.ies1248.fan.discovery</key>
               <delay>1h</delay>
               <description>An entry in fanRpmTable.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Fan #{#SNMPINDEX}</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.2.1.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.fan[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>!rpm</units>
                     <description>MIB: ZYXEL-IESCOMMON-MIB&#13;
Current speed in Revolutions Per Minute (RPM) on the fan.</description>
                     <applications>
                        <application>
                           <name>Fans</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&lt;{#ZYXEL.FANRPM.THRESH.LOW}</expression>
                           <name>ZYXEL IES1248-51: FAN{#SNMPINDEX} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the fan unit</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL IES1248-51: Fan #{#SNMPINDEX}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.fan[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
            </discovery_rule>
            <discovery_rule>
               <name>ADSL interface discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.IF.NAME},.1.3.6.1.2.1.2.2.1.2,{#ZYXEL.IF.LINKSTATUS},.1.3.6.1.2.1.2.2.1.8]</snmp_oid>
               <key>zyxel.ies1248.net.adsl.discovery</key>
               <delay>1h</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKSTATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKSTATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.NAME}</macro>
                        <value>adsl</value>
                        <formulaid>C</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Administrative status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.adminstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The desired state of the interface.  The&#13;
testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL IES1248-51 port admin status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUC attenuation</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.2.1.5.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atuc.atn[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Measured difference in the total power transmitted by&#13;
the peer ATU and the total power received by this ATU. &#13;
The Info Atuc fields show data acquired from the ATUC (ADSL Termination Unit – Central), in this case ZYXEL IES1248-51, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{min(5m)}&gt;{$ZYXEL.ADSL.ATN.MAX}</expression>
                           <name>ZYXEL IES1248-51: High the DSL line attenuation in Port {#SNMPINDEX} (&gt;{$ZYXEL.ADSL.ATN.MAX}dB for 5m)</name>
                           <priority>WARNING</priority>
                           <description>The reductions in amplitude of the downstream and upstream DSL signals.</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUC output power</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.2.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atuc.outpwr[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Measured total output power transmitted by this ATU. &#13;
The Info Atuc fields show data acquired from the ATUC (ADSL Termination Unit – Central), in this case ZYXEL IES1248-51, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUC noise margin</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.2.1.4.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atuc.snrmgn[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Noise Margin as seen by this ATU with respect to its&#13;
received signal in tenth dB. &#13;
The Info Atuc fields show data acquired from the ATUC (ADSL Termination Unit – Central), in this case ZYXEL IES1248-51, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{min(5m)}&lt;{$ZYXEL.ADSL.SNR.MIN}</expression>
                           <name>ZYXEL IES1248-51: Low the DSL line noise margins in Port {#SNMPINDEX} (&lt;{$ZYXEL.ADSL.SNR.MIN}dB for 5m)</name>
                           <priority>WARNING</priority>
                           <description>Signal-to-noise margin (SNR Margin) which is the difference between the actual SNR and the SNR required to sync at a specific speed</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUR attenuation</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.3.1.5.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atur.atn[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Measured difference in the total power transmitted by&#13;
the peer ATU and the total power received by this ATU. &#13;
The Info Atur fields show data acquired from the ATUR (ADSL Termination Unit – Remote), in this case the subscriber’s ADSL modem or router, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{min(5m)}&gt;{$ZYXEL.ADSL.ATN.MAX}</expression>
                           <name>ZYXEL IES1248-51: High the DSL line attenuation in Port {#SNMPINDEX} (&gt;{$ZYXEL.ADSL.ATN.MAX}dB for 5m)</name>
                           <priority>WARNING</priority>
                           <description>The reductions in amplitude of the downstream and upstream DSL signals.</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUR output power</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.3.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atur.outpwr[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Measured total output power transmitted by this ATU. &#13;
The Info Atur fields show data acquired from the ATUR (ADSL Termination Unit – Remote), in this case the subscriber’s ADSL modem or router, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: ATUR noise margin</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.10.94.1.1.3.1.4.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.atur.snrmgn[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>dB</units>
                     <description>MIB: ADSL-LINE-MIB&#13;
Noise Margin as seen by this ATU with respect to its&#13;
received signal in tenth dB. &#13;
The Info Atur fields show data acquired from the ATUR (ADSL Termination Unit – Remote), in this case the subscriber’s ADSL modem or router, during negotiation/provisioning message interchanges.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.1</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{min(5m)}&lt;{$ZYXEL.ADSL.SNR.MIN}</expression>
                           <name>ZYXEL IES1248-51: Low the DSL line noise margins in Port {#SNMPINDEX} (&lt;{$ZYXEL.ADSL.SNR.MIN}dB for 5m)</name>
                           <priority>WARNING</priority>
                           <description>Signal-to-noise margin (SNR Margin) which is the difference between the actual SNR and the SNR required to sync at a specific speed</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Incoming traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.in.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets received on the interface,&#13;
including framing characters.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Interface name</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.name[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: IF-MIB&#13;
A textual string containing information about the interface</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Operational status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.operstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The current operational state of the interface.&#13;
The testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL IES1248-51 port operational status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}=2 and {diff()}=1</expression>
                           <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                           <recovery_expression>{last()}&lt;&gt;2</recovery_expression>
                           <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Link down</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>This trigger expression works as follows:&#13;
1. Can be triggered if operations status is down.&#13;
2. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)&#13;
&#13;
WARNING: if closed manually - won't fire again on next poll, because of .diff.</description>
                           <manual_close>YES</manual_close>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Outgoing traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.adsl.out.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets transmitted out of the&#13;
interface, including framing characters.  This object is a&#13;
64-bit version of ifOutOctets.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL IES1248-51: ADSL port {#SNMPINDEX}: Traffic</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.net.adsl.in.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.net.adsl.out.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <overrides>
                  <override>
                     <name>Trigger disabled</name>
                     <step>1</step>
                     <filter>
                        <conditions>
                           <condition>
                              <macro>{#ZYXEL.IF.NAME}</macro>
                              <value>.*</value>
                              <formulaid>A</formulaid>
                              <operator>MATCHES_REGEX</operator>
                           </condition>
                        </conditions>
                     </filter>
                     <operations>
                        <operation>
                           <operationobject>TRIGGER_PROTOTYPE</operationobject>
                           <operator>REGEXP</operator>
                           <value>.*</value>
                           <status>ENABLED</status>
                           <discover>NO_DISCOVER</discover>
                        </operation>
                     </operations>
                  </override>
                  <override>
                     <name>Trigger enabled</name>
                     <step>2</step>
                     <filter>
                        <conditions>
                           <condition>
                              <macro>{#ZYXEL.IF.NAME}</macro>
                              <value>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</value>
                              <formulaid>A</formulaid>
                              <operator>MATCHES_REGEX</operator>
                           </condition>
                        </conditions>
                     </filter>
                     <operations>
                        <operation>
                           <operationobject>TRIGGER_PROTOTYPE</operationobject>
                           <operator>REGEXP</operator>
                           <value>.*</value>
                           <status>ENABLED</status>
                           <discover>DISCOVER</discover>
                        </operation>
                     </operations>
                  </override>
               </overrides>
            </discovery_rule>
            <discovery_rule>
               <name>Ethernet interface discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.IF.NAME},.1.3.6.1.2.1.2.2.1.2,{#ZYXEL.IF.LINKSTATUS},.1.3.6.1.2.1.2.2.1.8]</snmp_oid>
               <key>zyxel.ies1248.net.if.discovery</key>
               <delay>1h</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKSTATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKSTATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.NAME}</macro>
                        <value>enet</value>
                        <formulaid>C</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#ZYXEL.IF.NAME}: Administrative status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.if.adminstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The desired state of the interface.  The&#13;
testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.IF.NAME}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL IES1248-51 port admin status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#ZYXEL.IF.NAME}: Incoming traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.if.in.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets received on the interface,&#13;
including framing characters.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.IF.NAME}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#SNMPINDEX}: Interface name</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.if.name[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: IF-MIB&#13;
A textual string containing information about the interface</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.IF.NAME}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#ZYXEL.IF.NAME}: Operational status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.if.operstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The current operational state of the interface.&#13;
The testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.IF.NAME}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL IES1248-51 port operational status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}=2 and {diff()}=1</expression>
                           <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                           <recovery_expression>{last()}&lt;&gt;2</recovery_expression>
                           <name>ZYXEL IES1248-51: Port {#ZYXEL.IF.NAME}: Link down</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>This trigger expression works as follows:&#13;
1. Can be triggered if operations status is down.&#13;
2. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)&#13;
&#13;
WARNING: if closed manually - won't fire again on next poll, because of .diff.</description>
                           <manual_close>YES</manual_close>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Port {#ZYXEL.IF.NAME}: Outgoing traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.net.if.out.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets transmitted out of the&#13;
interface, including framing characters.  This object is a&#13;
64-bit version of ifOutOctets.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.IF.NAME}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL IES1248-51: Ethernet port {#SNMPINDEX}: Traffic</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.net.if.in.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.net.if.out.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <overrides>
                  <override>
                     <name>Trigger disabled</name>
                     <step>1</step>
                     <filter>
                        <conditions>
                           <condition>
                              <macro>{#ZYXEL.IF.NAME}</macro>
                              <value>.*</value>
                              <formulaid>A</formulaid>
                              <operator>MATCHES_REGEX</operator>
                           </condition>
                        </conditions>
                     </filter>
                     <operations>
                        <operation>
                           <operationobject>TRIGGER_PROTOTYPE</operationobject>
                           <operator>REGEXP</operator>
                           <value>.*</value>
                           <status>ENABLED</status>
                           <discover>NO_DISCOVER</discover>
                        </operation>
                     </operations>
                  </override>
                  <override>
                     <name>Trigger enabled</name>
                     <step>2</step>
                     <filter>
                        <conditions>
                           <condition>
                              <macro>{#ZYXEL.IF.NAME}</macro>
                              <value>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</value>
                              <formulaid>A</formulaid>
                              <operator>MATCHES_REGEX</operator>
                           </condition>
                        </conditions>
                     </filter>
                     <operations>
                        <operation>
                           <operationobject>TRIGGER_PROTOTYPE</operationobject>
                           <operator>REGEXP</operator>
                           <value>.*</value>
                           <status>ENABLED</status>
                           <discover>DISCOVER</discover>
                        </operation>
                     </operations>
                  </override>
               </overrides>
            </discovery_rule>
            <discovery_rule>
               <name>Temperature discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.TEMP.ID}, .1.3.6.1.4.1.890.1.5.13.1.2.3.1.1,{#ZYXEL.TEMP.THRESH.HIGH},.1.3.6.1.4.1.890.1.5.13.1.2.3.1.5]</snmp_oid>
               <key>zyxel.ies1248.temp.discovery</key>
               <delay>1h</delay>
               <description>An entry in tempTable.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Temperature "{#ZYXEL.TEMP.ID}"</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.2.3.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.temp[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>°C</units>
                     <description>MIB: ZYXEL-IESCOMMON-MIB&#13;
The current temperature measured at this sensor</description>
                     <applications>
                        <application>
                           <name>Temperature</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&gt;{#ZYXEL.TEMP.THRESH.HIGH}</expression>
                           <name>ZYXEL IES1248-51: Temperature {#ZYXEL.TEMP.ID} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the temperature</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL IES1248-51: "Temperature {#ZYXEL.TEMP.ID}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.temp[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
            </discovery_rule>
            <discovery_rule>
               <name>Voltage discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.VOLT.THRESH.LOW},.1.3.6.1.4.1.890.1.5.13.1.2.2.1.6,{#ZYXEL.VOLT.NOMINAL}, .1.3.6.1.4.1.890.1.5.13.1.2.2.1.5]</snmp_oid>
               <key>zyxel.ies1248.volt.discovery</key>
               <delay>1h</delay>
               <description>An entry in voltageTable.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL IES1248-51: Nominal "{#ZYXEL.VOLT.NOMINAL}"</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.13.1.2.2.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.ies1248.volt[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>V</units>
                     <description>MIB: ZYXEL-IESCOMMON-MIB&#13;
The current voltage reading.</description>
                     <applications>
                        <application>
                           <name>Power supply</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.001</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&lt;{#ZYXEL.VOLT.THRESH.LOW}</expression>
                           <name>ZYXEL IES1248-51: Voltage {#ZYXEL.VOLT.NOMINAL} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the power supply</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL IES1248-51: Nominal "{#ZYXEL.VOLT.NOMINAL}"</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template ZYXEL IES1248-51 SNMP</host>
                              <key>zyxel.ies1248.volt[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var inArray = JSON.parse(value);
var outArr = []
inArray.forEach(function (item, i, arr) {
    item['{#ZYXEL.SLOT.ID}'] = item['{#SNMPINDEX}'].split('.')[1];
    item['{#ZYXEL.SENSOR.ID}'] = item['{#SNMPINDEX}'].split('.')[2];
    item["{#ZYXEL.VOLT.NOMINAL}"] = "+" + item["{#ZYXEL.VOLT.NOMINAL}"] / 1000 + "V";
    item["{#ZYXEL.VOLT.THRESH.LOW}"] /= 1000;
    item["{#ZYXEL.VOLT.THRESH.HIGH}"] /= 1000;
    outArr.push(item)
});
return JSON.stringify(outArr);
</params>
                  </step>
               </preprocessing>
            </discovery_rule>
         </discovery_rules>
         <macros>
            <macro>
               <macro>{$SNMP.TIMEOUT}</macro>
               <value>5m</value>
               <description>The time interval for SNMP agent availability trigger expression.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.ADSL.ATN.MAX}</macro>
               <value>40</value>
               <description>Type the maximum signal attenuation</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.ADSL.SNR.MIN}</macro>
               <value>8</value>
               <description>Type the minimum signal to noise margin (0-31 dB)</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</macro>
               <value>NEED TRIGGERS</value>
               <description>Triggers will be created only for interfaces whose description contains the value of this macro</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.MATCHES}</macro>
               <value>.*</value>
               <description>Filter of discoverable link types.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.LINKSTATUS.NOT_MATCHES}</macro>
               <value>2</value>
               <description>Filter to exclude discovered by link types.</description>
            </macro>
         </macros>
      </template>
   </templates>
   <value_maps>
      <value_map>
         <name>SNMP available</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>not available</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>available</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>unknown</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL IES1248-51 module status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>Empty</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Up</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>4</value>
               <newvalue>Testing</newvalue>
            </mapping>
            <mapping>
               <value>5</value>
               <newvalue>Standby</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL IES1248-51 operational mode port speed duplex</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>auto</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>10M half</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>10M full</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>100M half</newvalue>
            </mapping>
            <mapping>
               <value>4</value>
               <newvalue>100M full</newvalue>
            </mapping>
            <mapping>
               <value>5</value>
               <newvalue>1G full</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL IES1248-51 operational mode port link up type</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>Cooper</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Fiber</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL IES1248-51 port admin status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>Up</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>Testing</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL IES1248-51 port operational status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>Up</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>Testing</newvalue>
            </mapping>
            <mapping>
               <value>4</value>
               <newvalue>Unknown</newvalue>
            </mapping>
            <mapping>
               <value>5</value>
               <newvalue>Dormant</newvalue>
            </mapping>
            <mapping>
               <value>6</value>
               <newvalue>NotPresent</newvalue>
            </mapping>
            <mapping>
               <value>7</value>
               <newvalue>lowerLayerDown</newvalue>
            </mapping>
         </mappings>
      </value_map>
   </value_maps>
</zabbix_export>
