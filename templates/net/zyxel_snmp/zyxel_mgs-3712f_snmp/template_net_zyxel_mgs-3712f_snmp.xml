<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
   <version>5.0</version>
   <date>2021-07-23T11:06:21Z</date>
   <groups>
      <group>
         <name>Templates/Network devices</name>
      </group>
   </groups>
   <templates>
      <template>
         <template>Template Net ZYXEL MGS-3712F SNMP</template>
         <name>Template Net ZYXEL MGS-3712F SNMP</name>
         <description>ZYXEL MGS-3712F&#13;
&#13;
MIBs used:&#13;
ZYXEL-MGS3712F-MIB&#13;
RFC1213-MIB&#13;
IF-MIB&#13;
&#13;
Known Issues:&#13;
&#13;
  Description: Incorrect handling of SNMP bulk requests. Disable the use of bulk requests in the SNMP interface settings.&#13;
  Version: all versions firmware&#13;
  Device: ZYXEL MGS-3712F&#13;
&#13;
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/422668-discussion-thread-for-official-zabbix-templates-for-zyxel&#13;
&#13;
Template tooling version used: 0.38</description>
         <groups>
            <group>
               <name>Templates/Network devices</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>CPU</name>
            </application>
            <application>
               <name>Fans</name>
            </application>
            <application>
               <name>Inventory</name>
            </application>
            <application>
               <name>Network interfaces</name>
            </application>
            <application>
               <name>Power supply</name>
            </application>
            <application>
               <name>Status</name>
            </application>
            <application>
               <name>Temperature</name>
            </application>
         </applications>
         <items>
            <item>
               <name>ZYXEL MGS-3712F: SNMP agent availability</name>
               <type>INTERNAL</type>
               <key>zabbix[host,snmp,available]</key>
               <history>7d</history>
               <status>ENABLED</status>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <valuemap>
                  <name>SNMP available</name>
               </valuemap>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{max({$SNMP.TIMEOUT})}=0</expression>
                     <name>ZYXEL MGS-3712F: No SNMP data collection</name>
                     <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                     <priority>WARNING</priority>
                     <description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Contact</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.4.0</snmp_oid>
               <key>zyxel.3712f.contact</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
The textual identification of the contact person&#13;
for this managed node, together with information&#13;
on how to contact this person.</description>
               <inventory_link>CONTACT</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: CPU utilization</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.11.7.0</snmp_oid>
               <key>zyxel.3712f.cpuusage</key>
               <history>7d</history>
               <status>ENABLED</status>
               <value_type>FLOAT</value_type>
               <units>%</units>
               <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Show device CPU load in %, it's the snapshot of CPU load when &#13;
getting the values.</description>
               <applications>
                  <application>
                     <name>CPU</name>
                  </application>
               </applications>
               <triggers>
                  <trigger>
                     <expression>{min(5m)}&gt;{$CPU.UTIL.CRIT}</expression>
                     <name>ZYXEL MGS-3712F: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</name>
                     <opdata>Current utilization: {ITEM.LASTVALUE1}</opdata>
                     <priority>WARNING</priority>
                     <description>CPU utilization is too high. The system might be slow to respond.</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: ZyNOS F/W Version</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#SNMP.ARRAY},.1.3.6.1.4.1.890.1.5.8.48.1]</snmp_oid>
               <key>zyxel.3712f.fwversion</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: ZYXEL-MGS3712F-MIB</description>
               <inventory_link>SOFTWARE_FULL</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var inArray = JSON.parse(value);
var tmpObj = {};
inArray.forEach(function(item, i, arr) {
  tmpObj[item["{#SNMPINDEX}"]] = item["{#SNMP.ARRAY}"]
});
var strOut = 'V' + tmpObj["1.0"] + '.' + tmpObj["2.0"]
  + '(' + tmpObj["3.0"] + '.' + tmpObj["4.0"] + ')_' 
  + tmpObj["7.0"] + '.' + tmpObj["6.0"] + '.' + tmpObj["5.0"];
return strOut;
</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                     <name>ZYXEL MGS-3712F: Firmware has changed</name>
                     <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                     <priority>INFO</priority>
                     <description>Firmware version has changed. Ack to close</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Location</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.6.0</snmp_oid>
               <key>zyxel.3712f.location</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
The physical location of this node (e.g.,&#13;
`telephone closet, 3rd floor').</description>
               <inventory_link>LOCATION</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: MAC address</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.2.2.1.6.1</snmp_oid>
               <key>zyxel.3712f.mac</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: IF-MIB&#13;
The interface's address at the protocol layer&#13;
immediately `below' the network layer in the&#13;
protocol stack.  For interfaces which do not have&#13;
such an address (e.g., a serial line), this object&#13;
should contain an octet string of zero length.</description>
               <inventory_link>MACADDRESS_A</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Hardware model name</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.1.0</snmp_oid>
               <key>zyxel.3712f.model</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
A textual description of the entity.  This value&#13;
should include the full name and version&#13;
identification of the system's hardware type,&#13;
software operating-system, and networking&#13;
software.  It is mandatory that this only contain&#13;
printable ASCII characters.</description>
               <inventory_link>MODEL</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{last()}&lt;&gt;"MGS-3712F"</expression>
                     <name>ZYXEL MGS-3712F: Template does not match hardware</name>
                     <priority>INFO</priority>
                     <description>This template is for Zyxel MGS-3712F, but connected to {ITEM.VALUE}</description>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Host name</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.5.0</snmp_oid>
               <key>zyxel.3712f.name</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: RFC1213-MIB&#13;
An administratively-assigned name for this&#13;
managed node.  By convention, this is the node's&#13;
fully-qualified domain name.</description>
               <inventory_link>NAME</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Hardware serial number</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.1.10.0</snmp_oid>
               <key>zyxel.3712f.serialnumber</key>
               <delay>1h</delay>
               <history>7d</history>
               <trends>0</trends>
               <status>ENABLED</status>
               <value_type>CHAR</value_type>
               <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Serial number</description>
               <inventory_link>SERIALNO_A</inventory_link>
               <applications>
                  <application>
                     <name>Inventory</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>6h</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                     <name>ZYXEL MGS-3712F: Device has been replaced (new serial number received)</name>
                     <priority>INFO</priority>
                     <description>Device serial number has changed. Ack to close</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
            <item>
               <name>ZYXEL MGS-3712F: Uptime</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid>
               <key>zyxel.3712f.uptime</key>
               <delay>30s</delay>
               <history>2w</history>
               <trends>0d</trends>
               <status>ENABLED</status>
               <units>uptime</units>
               <description>MIB: RFC1213-MIB&#13;
The time (in hundredths of a second) since the&#13;
network management portion of the system was last&#13;
re-initialized.</description>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>0.01</params>
                  </step>
               </preprocessing>
               <triggers>
                  <trigger>
                     <expression>{last()}&lt;10m</expression>
                     <name>ZYXEL MGS-3712F: has been restarted (uptime &lt; 10m)</name>
                     <priority>INFO</priority>
                     <description>Uptime is less than 10 minutes</description>
                     <manual_close>YES</manual_close>
                  </trigger>
               </triggers>
            </item>
         </items>
         <discovery_rules>
            <discovery_rule>
               <name>Fan discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.FANRPM.THRESH.LOW},.1.3.6.1.4.1.890.1.5.8.48.8.1.1.5]</snmp_oid>
               <key>zyxel.3712f.fan.discovery</key>
               <delay>1h</delay>
               <description>An entry in fanRpmTable.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Fan #{#SNMPINDEX}</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.8.1.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.fan[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>!rpm</units>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Current speed in Revolutions Per Minute (RPM) on the fan.</description>
                     <applications>
                        <application>
                           <name>Fans</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&lt;{#ZYXEL.FANRPM.THRESH.LOW}</expression>
                           <name>ZYXEL MGS-3712F: FAN{#SNMPINDEX} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the fan unit</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Fan #{#SNMPINDEX}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.fan[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
            </discovery_rule>
            <discovery_rule>
               <name>Interface discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.IF.NAME},.1.3.6.1.4.1.890.1.5.8.48.22.1.1.3,{#ZYXEL.IF.LINKUPTYPE},.1.3.6.1.4.1.890.1.5.8.48.22.1.1.5]</snmp_oid>
               <key>zyxel.3712f.net.if.discovery</key>
               <delay>1h</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#ZYXEL.IF.NAME}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.NAME}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKUPTYPE}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}</value>
                        <formulaid>C</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.IF.LINKUPTYPE}</macro>
                        <value>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>D</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Administrative status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.adminstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The desired state of the interface.  The&#13;
testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL MGS-3712F port admin status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Interface name</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.descr[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: IF-MIB&#13;
A textual string containing information about the interface</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Link speed</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
An estimate of the interface's current bandwidth in bits per second</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>1000000</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Incoming broadcast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.9.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.in.broadcastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The number of packets, delivered by this sub-layer to a&#13;
higher (sub-)layer, which were addressed to a broadcast&#13;
address at this sub-layer.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Incoming multicast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.8.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.in.multicastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The number of packets, delivered by this sub-layer to a&#13;
higher (sub-)layer, which were addressed to a multicast&#13;
address at this sub-layer.  For a MAC layer protocol, this&#13;
includes both Group and Functional addresses.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Incoming traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.in.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets received on the interface,&#13;
including framing characters.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Incoming unicast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.in.ucastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The number of packets, delivered by this sub-layer to a&#13;
higher (sub-)layer, which were not addressed to a multicast&#13;
or broadcast address at this sub-layer</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Incoming utilization</name>
                     <type>CALCULATED</type>
                     <key>zyxel.3712f.net.if.in.util[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>%</units>
                     <params>last(zyxel.3712f.net.if.in.traffic[{#SNMPINDEX}]) * (last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) &lt;&gt; 0) / 
( last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) + (last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100</params>
                     <description>Interface utilization percentage</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>IN_RANGE</type>
                           <params>0
100</params>
                           <error_handler>DISCARD_VALUE</error_handler>
                        </step>
                        <step>
                           <type>JAVASCRIPT</type>
                           <params>return +parseFloat(value).toFixed(0);
</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Link type</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.22.1.1.5.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.link_type[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Physical connection type</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL MGS-3712F operational mode port link up type</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Interface description</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.22.1.1.3.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.name[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
A textual string containing information about the interface</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Operational status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.operstatus[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: IF-MIB&#13;
The current operational state of the interface.&#13;
The testing(3) state indicates that no operational&#13;
packets can be passed.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL MGS-3712F port operational status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}=2 and {diff()}=1</expression>
                           <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                           <recovery_expression>{last()}&lt;&gt;2</recovery_expression>
                           <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Link down</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>This trigger expression works as follows:&#13;
1. Can be triggered if operations status is down.&#13;
2. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)&#13;
&#13;
WARNING: if closed manually - won't fire again on next poll, because of .diff.</description>
                           <manual_close>YES</manual_close>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Outgoing broadcast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.13.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.out.broadcastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The total number of packets that higher-level protocols&#13;
requested be transmitted, and which were addressed to a&#13;
broadcast address at this sub-layer, including those that&#13;
were discarded or not sent.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Outgoing multicast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.12.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.out.multicastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The total number of packets that higher-level protocols&#13;
requested be transmitted, and which were addressed to a&#13;
multicast address at this sub-layer, including those that&#13;
were discarded or not sent.  For a MAC layer protocol, this&#13;
includes both Group and Functional addresses.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Outgoing traffic</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.out.traffic[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>bps</units>
                     <description>MIB: IF-MIB&#13;
The total number of octets transmitted out of the&#13;
interface, including framing characters.  This object is a&#13;
64-bit version of ifOutOctets.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>8</params>
                        </step>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Outgoing unicast packages</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.2.1.31.1.1.1.11.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.out.ucastpkts[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>packets/s</units>
                     <description>MIB: IF-MIB&#13;
The total number of packets that higher-level protocols&#13;
requested be transmitted, and which were not addressed to a&#13;
multicast or broadcast address at this sub-layer, including&#13;
those that were discarded or not sent.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>CHANGE_PER_SECOND</type>
                           <params/>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Outgoing utilization</name>
                     <type>CALCULATED</type>
                     <key>zyxel.3712f.net.if.out.util[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>%</units>
                     <params>last(zyxel.3712f.net.if.out.traffic[{#SNMPINDEX}]) * (last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) &lt;&gt; 0) / 
( last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) + (last(zyxel.3712f.net.if.highspeed[{#SNMPINDEX}]) = 0) ) * 100</params>
                     <description>Interface utilization percentage</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>IN_RANGE</type>
                           <params>0
100</params>
                           <error_handler>DISCARD_VALUE</error_handler>
                        </step>
                        <step>
                           <type>JAVASCRIPT</type>
                           <params>return +parseFloat(value).toFixed(0);
</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Speed Duplex</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.22.1.1.1.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.net.if.speed_duplex[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transmission mode</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL MGS-3712F operational mode port speed duplex</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Packets traffic</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.in.ucastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.out.ucastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>2</sortorder>
                           <color>F63100</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.in.multicastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>3</sortorder>
                           <color>A54F10</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.out.multicastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>4</sortorder>
                           <color>FC6EA3</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.in.broadcastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>5</sortorder>
                           <color>6C59DC</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.out.broadcastpkts[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Traffic</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.in.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.out.traffic[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Port {#SNMPINDEX}: Utilization</name>
                     <ymin_type_1>FIXED</ymin_type_1>
                     <ymax_type_1>FIXED</ymax_type_1>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.out.util[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.net.if.in.util[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <overrides>
                  <override>
                     <name>Don't create triggers for matching interface</name>
                     <step>1</step>
                     <filter>
                        <conditions>
                           <condition>
                              <macro>{#ZYXEL.IF.NAME}</macro>
                              <value>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</value>
                              <formulaid>A</formulaid>
                              <operator>NOT_MATCHES_REGEX</operator>
                           </condition>
                        </conditions>
                     </filter>
                     <operations>
                        <operation>
                           <operationobject>TRIGGER_PROTOTYPE</operationobject>
                           <operator>REGEXP</operator>
                           <value>.*</value>
                           <status>ENABLED</status>
                           <discover>NO_DISCOVER</discover>
                        </operation>
                     </operations>
                  </override>
               </overrides>
            </discovery_rule>
            <discovery_rule>
               <name>SFP with DDM discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.SFP.WARN.MAX},.1.3.6.1.4.1.890.1.5.8.48.117.2.1.5,{#ZYXEL.SFP.WARN.MIN},.1.3.6.1.4.1.890.1.5.8.48.117.2.1.6,{#ZYXEL.SFP.DESCRIPTION},.1.3.6.1.4.1.890.1.5.8.48.117.2.1.8]</snmp_oid>
               <key>zyxel.3712f.sfp.ddm.discovery</key>
               <delay>12h</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#ZYXEL.SFP.DESCRIPTION}</macro>
                        <value>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.SFP.DESCRIPTION}</macro>
                        <value>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <description>SFP DDM module discovery.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.2.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.ddm[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>!{#ZYXEL.SFP.UNIT}</units>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transceiver module DDM data ({#ZYXEL.SFP.DESCRIPTION}).</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#ZYXEL.SFP.PORT}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.01</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>6h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()} &gt; {#ZYXEL.SFP.WARN.MAX}</expression>
                           <name>ZYXEL MGS-3712F: SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION} (over {#ZYXEL.SFP.WARN.MAX}{#ZYXEL.SFP.UNIT})</name>
                           <priority>WARNING</priority>
                           <description>The upper threshold value of the parameter is exceeded</description>
                        </trigger_prototype>
                        <trigger_prototype>
                           <expression>{last()} &lt; {#ZYXEL.SFP.WARN.MIN}</expression>
                           <name>ZYXEL MGS-3712F: SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION} (less than {#ZYXEL.SFP.WARN.MIN}{#ZYXEL.SFP.UNIT})</name>
                           <priority>WARNING</priority>
                           <description>The parameter values are less than the lower threshold</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.sfp.ddm[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var inArray = JSON.parse(value);
var nameMap = {
    'Temperature': 'C',
    'Voltage': 'V',
    'TxBias': 'mA',
    'TxPower': 'dbm',
    'RxPower': 'dbm'
};
var outArr = [];
inArray.forEach(function (item, i, arr) {
    item['{#ZYXEL.SFP.PORT}'] = item['{#SNMPINDEX}'].split('.')[0];
    item['{#ZYXEL.SFP.UNIT}'] = nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']] === undefined ? "" : nameMap[item['{#ZYXEL.SFP.DESCRIPTION}']];
    item['{#ZYXEL.SFP.WARN.MAX}'] /= 100;
    item['{#ZYXEL.SFP.WARN.MIN}'] /= 100;
    outArr.push(item)
});
return JSON.stringify(outArr);
</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>SFP without DDM discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.SFP.STATUS},.1.3.6.1.4.1.890.1.5.8.48.117.1.1.2]</snmp_oid>
               <key>zyxel.3712f.sfp.discovery</key>
               <delay>12h</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#ZYXEL.SFP.STATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#ZYXEL.SFP.STATUS}</macro>
                        <value>{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <description>SFP module discovery.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Date code</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.7.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.datecode[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transceiver module vendor's manufacturing date code.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Part number</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.4.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.part[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Part number provided by transceiver module vendor.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Revision</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.6.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.revision[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Revision level for part number provided by transceiver module vendor.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Serial number</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.5.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.serialnumber[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Serial number provided by transceiver module vendor.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{diff()}=1 and {strlen()}&gt;0</expression>
                           <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX} has been replaced (new serial number received)</name>
                           <priority>INFO</priority>
                           <description>SFP {#SNMPINDEX} serial number has changed. Ack to close</description>
                           <manual_close>YES</manual_close>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Status</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.status[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transceiver module status.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <valuemap>
                        <name>ZYXEL MGS-3712F SFP status</name>
                     </valuemap>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Transceiver</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.8.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.transceiver[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transceiver module type names.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: SFP {#SNMPINDEX}: Vendor</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.117.1.1.3.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.sfp.vendor[{#SNMPINDEX}]</key>
                     <delay>{$ZYXEL.LLD.SFP.UPDATE}</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <status>ENABLED</status>
                     <value_type>CHAR</value_type>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
Transceiver module vendor name.</description>
                     <application_prototypes>
                        <application_prototype>
                           <name>Port {#SNMPINDEX}</name>
                        </application_prototype>
                     </application_prototypes>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
            </discovery_rule>
            <discovery_rule>
               <name>Temperature discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.TEMP.THRESH.HIGH},.1.3.6.1.4.1.890.1.5.8.48.8.2.1.5]</snmp_oid>
               <key>zyxel.3712f.temp.discovery</key>
               <delay>1h</delay>
               <description>An entry in tempTable.&#13;
Index of temperature unit. 1:MAC, 2:CPU, 3:PHY</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Temperature "{#ZYXEL.TEMP.ID}"</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.8.2.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.temp[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <units>C</units>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
The current temperature measured at this sensor</description>
                     <applications>
                        <application>
                           <name>Temperature</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&gt;{#ZYXEL.TEMP.THRESH.HIGH}</expression>
                           <name>ZYXEL MGS-3712F: Temperature {#ZYXEL.TEMP.ID} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the temperature</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Temperature "{#ZYXEL.TEMP.ID}"</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.temp[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var inArray = JSON.parse(value);
var nameMap = {"1":"MAC", "2":"CPU", "3":"PHY"};
var outArr = [];
inArray.forEach(function(item, i, arr) {
item["{#ZYXEL.TEMP.ID}"] = nameMap[item["{#SNMPINDEX}"]] 
outArr.push(item)
});
return JSON.stringify(outArr);
</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>Voltage discovery</name>
               <type>SNMP_AGENT</type>
               <snmp_oid>discovery[{#ZYXEL.VOLT.THRESH.LOW},.1.3.6.1.4.1.890.1.5.8.48.8.3.1.6,{#ZYXEL.VOLT.NOMINAL},.1.3.6.1.4.1.890.1.5.8.48.8.3.1.5]</snmp_oid>
               <key>zyxel.3712f.volt.discovery</key>
               <delay>1h</delay>
               <description>An entry in voltageTable.</description>
               <item_prototypes>
                  <item_prototype>
                     <name>ZYXEL MGS-3712F: Nominal "{#ZYXEL.VOLT.NOMINAL}"</name>
                     <type>SNMP_AGENT</type>
                     <snmp_oid>.1.3.6.1.4.1.890.1.5.8.48.8.3.1.2.{#SNMPINDEX}</snmp_oid>
                     <key>zyxel.3712f.volt[{#SNMPINDEX}]</key>
                     <history>7d</history>
                     <status>ENABLED</status>
                     <value_type>FLOAT</value_type>
                     <units>V</units>
                     <description>MIB: ZYXEL-MGS3712F-MIB&#13;
The current voltage reading.</description>
                     <applications>
                        <application>
                           <name>Power supply</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>MULTIPLIER</type>
                           <params>0.001</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1h</params>
                        </step>
                     </preprocessing>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}&lt;{#ZYXEL.VOLT.THRESH.LOW}</expression>
                           <name>ZYXEL MGS-3712F: Voltage {#ZYXEL.VOLT.NOMINAL} is in critical state</name>
                           <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                           <priority>AVERAGE</priority>
                           <description>Please check the power supply</description>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <host_prototypes/>
               <graph_prototypes>
                  <graph_prototype>
                     <name>ZYXEL MGS-3712F: Nominal "{#ZYXEL.VOLT.NOMINAL}"</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template Net ZYXEL MGS-3712F SNMP</host>
                              <key>zyxel.3712f.volt[{#SNMPINDEX}]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>var inArray = JSON.parse(value);
var outArr = []
inArray.forEach(function(item, i, arr) {
item["{#ZYXEL.VOLT.NOMINAL}"] = "+" + item["{#ZYXEL.VOLT.NOMINAL}"] / 1000 + "V";
item["{#ZYXEL.VOLT.THRESH.LOW}"] = item["{#ZYXEL.VOLT.THRESH.LOW}"] / 1000; 
outArr.push(item)
});
return JSON.stringify(outArr);
</params>
                  </step>
               </preprocessing>
            </discovery_rule>
         </discovery_rules>
         <macros>
            <macro>
               <macro>{$CPU.UTIL.CRIT}</macro>
               <value>90</value>
            </macro>
            <macro>
               <macro>{$SNMP.TIMEOUT}</macro>
               <value>5m</value>
               <description>The time interval for SNMP agent availability trigger expression.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES}</macro>
               <value>CHANGE_IF_NEEDED</value>
               <description>Triggers will be created only for interfaces whose description contains the value of this macro</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES}</macro>
               <value>1|2</value>
               <description>Filter of discoverable link types.&#13;
0 - Down link&#13;
1 - Cooper link&#13;
2 - Fiber link</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES}</macro>
               <value>CHANGE_IF_NEEDED</value>
               <description>Filter to exclude discovered by link types.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.NAME.MATCHES}</macro>
               <value>.*</value>
               <description>Filter by discoverable interface names.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES}</macro>
               <value>CHANGE_IF_NEEDED</value>
               <description>Filter to exclude discovered interfaces by name.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES}</macro>
               <value>1|2</value>
               <description>Filter of discoverable status.&#13;
0 - OK with DDM&#13;
1 - OK without DDM&#13;
2 - nonoperational</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES}</macro>
               <value>CHANGE_IF_NEEDED</value>
               <description>Filter to exclude discovered by status.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES}</macro>
               <value>.*</value>
               <description>Filter by discoverable SFP modules name.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES}</macro>
               <value>N/A</value>
               <description>Filter to exclude discovered SFP modules by name.</description>
            </macro>
            <macro>
               <macro>{$ZYXEL.LLD.SFP.UPDATE}</macro>
               <value>10m</value>
               <description>Receiving data from the SFP module is slow, we do not recommend setting the interval less than 10 minutes.</description>
            </macro>
         </macros>
      </template>
   </templates>
   <graphs>
      <graph>
         <name>ZYXEL MGS-3712F: CPU utilization</name>
         <ymin_type_1>FIXED</ymin_type_1>
         <ymax_type_1>FIXED</ymax_type_1>
         <graph_items>
            <graph_item>
               <drawtype>GRADIENT_LINE</drawtype>
               <color>1A7C11</color>
               <item>
                  <host>Template Net ZYXEL MGS-3712F SNMP</host>
                  <key>zyxel.3712f.cpuusage</key>
               </item>
            </graph_item>
         </graph_items>
      </graph>
   </graphs>
   <value_maps>
      <value_map>
         <name>SNMP available</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>not available</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>available</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>unknown</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL MGS-3712F operational mode port speed duplex</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>auto</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>10M half</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>10M full</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>100M half</newvalue>
            </mapping>
            <mapping>
               <value>4</value>
               <newvalue>100M full</newvalue>
            </mapping>
            <mapping>
               <value>5</value>
               <newvalue>1G full</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL MGS-3712F operational mode port link up type</name>
         <mappings>
            <mapping>
               <value>0</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>1</value>
               <newvalue>Cooper</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Fiber</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL MGS-3712F port admin status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>Up</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>Testing</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL MGS-3712F port operational status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>Up</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>Down</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>Testing</newvalue>
            </mapping>
            <mapping>
               <value>4</value>
               <newvalue>Unknown</newvalue>
            </mapping>
            <mapping>
               <value>5</value>
               <newvalue>Dormant</newvalue>
            </mapping>
            <mapping>
               <value>6</value>
               <newvalue>NotPresent</newvalue>
            </mapping>
            <mapping>
               <value>7</value>
               <newvalue>lowerLayerDown</newvalue>
            </mapping>
         </mappings>
      </value_map>
      <value_map>
         <name>ZYXEL MGS-3712F SFP status</name>
         <mappings>
            <mapping>
               <value>1</value>
               <newvalue>OK with DDM</newvalue>
            </mapping>
            <mapping>
               <value>2</value>
               <newvalue>OK without DDM</newvalue>
            </mapping>
            <mapping>
               <value>3</value>
               <newvalue>nonoperational</newvalue>
            </mapping>
         </mappings>
      </value_map>
   </value_maps>
</zabbix_export>
