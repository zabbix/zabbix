zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 846977d1dfed4968bc5f8bdb363285bc
      name: 'Templates/Operating systems'
  templates:
    - uuid: b1fd823d262042e08291313f72be9452
      template: 'HP-UX by Zabbix agent'
      name: 'HP-UX by Zabbix agent'
      description: |
        It is an official HP-UX template. It requires Zabbix agent 7.0 or newer.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-0
      groups:
        - name: 'Templates/Operating systems'
      items:
        - uuid: 27949a6910304d39b3d2a68c90525581
          name: 'HP-UX: Host name of Zabbix agent running'
          key: agent.hostname
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 98507eac4f70420698dc234c2a6e3198
          name: 'HP-UX: Zabbix agent ping'
          key: agent.ping
          history: 7d
          description: 'The agent always returns 1 for this item. It could be used in combination with nodata() for the availability check.'
          valuemap:
            name: 'Zabbix agent ping status'
          tags:
            - tag: component
              value: system
        - uuid: 3f456ce86b284b089f545d8c72c64405
          name: 'HP-UX: Version of Zabbix agent running'
          key: agent.version
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: application
        - uuid: bcba4702a58d48339c6e7e49dea574c4
          name: 'HP-UX: Processor load (1 min average per core)'
          key: 'system.cpu.load[percpu,avg1]'
          history: 7d
          value_type: FLOAT
          description: 'The processor load is calculated as the system CPU load divided by the number of CPU cores.'
          tags:
            - tag: component
              value: cpu
          triggers:
            - uuid: 6721e8fbe5ee45aa9d06b698210a268a
              expression: 'avg(/HP-UX by Zabbix agent/system.cpu.load[percpu,avg1],5m)>5'
              name: 'HP-UX: Processor load is too high'
              priority: WARNING
              tags:
                - tag: scope
                  value: capacity
                - tag: scope
                  value: performance
        - uuid: 60057d54b81342f4aaa0103a278bf7b6
          name: 'HP-UX: Processor load (5 min average per core)'
          key: 'system.cpu.load[percpu,avg5]'
          history: 7d
          value_type: FLOAT
          description: 'The processor load is calculated as the system CPU load divided by the number of CPU cores.'
          tags:
            - tag: component
              value: cpu
        - uuid: 296dbd5148184004b26ac50ae5e6893b
          name: 'HP-UX: Processor load (15 min average per core)'
          key: 'system.cpu.load[percpu,avg15]'
          history: 7d
          value_type: FLOAT
          description: 'The processor load is calculated as the system CPU load divided by the number of CPU cores.'
          tags:
            - tag: component
              value: cpu
        - uuid: 2b82ccaf9eb1424593e2738a5512e182
          name: 'HP-UX: CPU idle time'
          key: 'system.cpu.util[,idle]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'The time the CPU has spent doing nothing.'
          tags:
            - tag: component
              value: cpu
        - uuid: 8665bd2dc84e46daa081a379548b0603
          name: 'HP-UX: CPU nice time'
          key: 'system.cpu.util[,nice]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'The time the CPU has spent running users'' processes that have been niced.'
          tags:
            - tag: component
              value: cpu
        - uuid: 8419321f4744476ea27b7d1acddcd365
          name: 'HP-UX: CPU system time'
          key: 'system.cpu.util[,system]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'The time the CPU has spent running the kernel and its processes.'
          tags:
            - tag: component
              value: cpu
        - uuid: 611c9a3c70aa4455b6ec7bebe64b5316
          name: 'HP-UX: CPU user time'
          key: 'system.cpu.util[,user]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'The time the CPU has spent running users'' processes that are not niced.'
          tags:
            - tag: component
              value: cpu
        - uuid: 6e3b32f3f92543759ef2f30834899ba0
          name: 'HP-UX: Host name'
          key: system.hostname
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A host name of the system.'
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: os
          triggers:
            - uuid: 07215ae05345423d8625962b85d9d4ec
              expression: 'last(/HP-UX by Zabbix agent/system.hostname,#1)<>last(/HP-UX by Zabbix agent/system.hostname,#2)'
              name: 'HP-UX: Hostname was changed'
              priority: INFO
              tags:
                - tag: scope
                  value: notice
        - uuid: 16c6c420c710498083355361b104f7a2
          name: 'HP-UX: Host local time'
          key: system.localtime
          history: 7d
          units: unixtime
          tags:
            - tag: component
              value: os
        - uuid: b66598337e0e4990a2776d2a42020e72
          name: 'HP-UX: System information'
          key: system.uname
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The information as normally returned by the ''uname -a''.'
          inventory_link: OS
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: os
          triggers:
            - uuid: 34f76014b2d3434a8d1f1f0657b5605f
              expression: 'last(/HP-UX by Zabbix agent/system.uname,#1)<>last(/HP-UX by Zabbix agent/system.uname,#2)'
              name: 'HP-UX: Host information was changed'
              priority: INFO
              tags:
                - tag: scope
                  value: notice
        - uuid: bb698e97aa1b45ebadcb48da729b8e64
          name: 'HP-UX: Number of logged in users'
          key: system.users.num
          history: 7d
          description: 'The number of users who are currently logged in.'
          tags:
            - tag: component
              value: os
        - uuid: 4e11e7c5d43a4566989b39dbc0c23266
          name: 'HP-UX: Checksum of /etc/passwd'
          key: 'vfs.file.cksum[/etc/passwd,sha256]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: component
              value: security
          triggers:
            - uuid: f65c254d50e2454d9840784ff979f5d3
              expression: 'last(/HP-UX by Zabbix agent/vfs.file.cksum[/etc/passwd,sha256],#1)<>last(/HP-UX by Zabbix agent/vfs.file.cksum[/etc/passwd,sha256],#2)'
              name: 'HP-UX: /etc/passwd has been changed'
              priority: WARNING
              tags:
                - tag: scope
                  value: security
        - uuid: 05adecd1fb3e4c85b826dfdd601fa444
          name: 'HP-UX: Get filesystems'
          key: vfs.fs.get
          history: '0'
          trends: '0'
          value_type: TEXT
          description: 'The `vfs.fs.get` key acquires raw information set about the file systems. Later to be extracted by preprocessing in dependent items.'
          tags:
            - tag: component
              value: raw
        - uuid: 767abadfa8be4bccb2c4c5a1d532ba87
          name: 'HP-UX: Available memory'
          key: 'vm.memory.size[available]'
          history: 7d
          units: B
          description: 'The available memory is defined as free+cached+buffers memory.'
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: 005730efb6a94c4a83c4265f42aa8dff
              expression: 'last(/HP-UX by Zabbix agent/vm.memory.size[available])<20M'
              name: 'HP-UX: Lack of available memory on server'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: capacity
                - tag: scope
                  value: performance
        - uuid: 6da082e7f822465592f66e2bd0a46947
          name: 'HP-UX: Total memory'
          key: 'vm.memory.size[total]'
          delay: 1h
          history: 7d
          units: B
          tags:
            - tag: component
              value: memory
        - uuid: 5b0a1ce4ca4a441484eea38724eaf24d
          name: 'HP-UX: Zabbix agent availability'
          type: INTERNAL
          key: 'zabbix[host,agent,available]'
          history: 7d
          description: 'Monitoring the availability status of the agent.'
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: ce008290ad6341b98386adf9ea5c315b
              expression: 'max(/HP-UX by Zabbix agent/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0'
              name: 'HP-UX: Zabbix agent is not available'
              event_name: 'Zabbix agent is not available (for {$AGENT.TIMEOUT})'
              priority: AVERAGE
              description: 'For passive checks only the availability of the agents and a host is used with {$AGENT.TIMEOUT} as the time threshold.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 83058e954f1d497d8c33c82c771d2250
          name: 'Network interface discovery'
          key: net.if.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#IFNAME}'
                value: '@Network interfaces for discovery'
                formulaid: A
          description: 'The discovery of network interfaces as defined in the global regular expression "Network interfaces for discovery".'
          item_prototypes:
            - uuid: 1c1dc757da2a43c4827734e4b7b3fcd2
              name: 'Interface {#IFNAME}: Incoming network traffic'
              key: 'net.if.in[{#IFNAME}]'
              history: 7d
              units: bps
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 4de64b1ecae344afa12f892937caa04e
              name: 'Interface {#IFNAME}: Outgoing network traffic'
              key: 'net.if.out[{#IFNAME}]'
              history: 7d
              units: bps
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFNAME}'
          graph_prototypes:
            - uuid: dec3568ab5e7457da4a81d32a8ba2b72
              name: 'Interface {#IFNAME}: Network traffic'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'HP-UX by Zabbix agent'
                    key: 'net.if.in[{#IFNAME}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'HP-UX by Zabbix agent'
                    key: 'net.if.out[{#IFNAME}]'
        - uuid: 883b3a5efab34685b9e6c9a84a6bec84
          name: 'Mounted filesystem discovery'
          type: DEPENDENT
          key: vfs.fs.dependent.discovery
          delay: '0'
          filter:
            conditions:
              - macro: '{#FSTYPE}'
                value: '@File systems for discovery'
                formulaid: A
          description: 'The discovery of different types of file systems as defined in the global regular expression "File systems for discovery".'
          item_prototypes:
            - uuid: dbf8305aadb049a58b19a50d4e36fde9
              name: '{#FSNAME}: Free inodes, %'
              type: DEPENDENT
              key: 'vfs.fs.dependent.inode[{#FSNAME},pfree]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              units: '%'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.inodes.pfree
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
              trigger_prototypes:
                - uuid: 9d7587a6cae149d69e90cdefa024d254
                  expression: 'last(/HP-UX by Zabbix agent/vfs.fs.dependent.inode[{#FSNAME},pfree])<20'
                  name: '{#FSNAME}: Free inodes is less than 20%'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: capacity
                    - tag: scope
                      value: performance
            - uuid: 75efb4ab311848ec9bbb03cf05efef8b
              name: '{#FSNAME}: Free disk space'
              type: DEPENDENT
              key: 'vfs.fs.dependent.size[{#FSNAME},free]'
              delay: '0'
              history: 7d
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.bytes.free
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 707d7dfb2dc243d49e4623f1d043a5b7
              name: '{#FSNAME}: Free disk space, %'
              type: DEPENDENT
              key: 'vfs.fs.dependent.size[{#FSNAME},pfree]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              units: '%'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.bytes.pfree
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
              trigger_prototypes:
                - uuid: 07153df58e1a4a2bad7bf27a1ddf24a0
                  expression: 'last(/HP-UX by Zabbix agent/vfs.fs.dependent.size[{#FSNAME},pfree])<20'
                  name: '{#FSNAME}: Free disk space is less than 20%'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: capacity
                    - tag: scope
                      value: performance
            - uuid: 3d75a99c05bf41a2b63ce2b0caf4a6cc
              name: '{#FSNAME}: Total disk space'
              type: DEPENDENT
              key: 'vfs.fs.dependent.size[{#FSNAME},total]'
              delay: '0'
              history: 7d
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.bytes.total
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 0aa8dd5bbaea4f35808ef735f0cec18d
              name: '{#FSNAME}: Used disk space'
              type: DEPENDENT
              key: 'vfs.fs.dependent.size[{#FSNAME},used]'
              delay: '0'
              history: 7d
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.bytes.used
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 1c47446da541403b8c0a28edbca98278
              name: '{#FSNAME}: Get filesystem data'
              type: DEPENDENT
              key: 'vfs.fs.dependent[{#FSNAME},data]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: TEXT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.[?(@.fsname==''{#FSNAME}'')].first()'
              master_item:
                key: vfs.fs.get
              tags:
                - tag: component
                  value: filesystem
                - tag: component
                  value: raw
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: f4fa51ffae1642889cd4d0003a1cd054
              name: '{#FSNAME}: Filesystem is read-only'
              type: DEPENDENT
              key: 'vfs.fs.dependent[{#FSNAME},readonly]'
              delay: '0'
              history: 7d
              description: 'The filesystem is mounted as read-only. It is available only for Zabbix agents 6.4 and higher.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.options
                  error_handler: DISCARD_VALUE
                - type: REGEX
                  parameters:
                    - '(?:^|,)ro\b'
                    - '1'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
              master_item:
                key: 'vfs.fs.dependent[{#FSNAME},data]'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
              trigger_prototypes:
                - uuid: c678e20762674346932f0107b4f7ec8c
                  expression: 'last(/HP-UX by Zabbix agent/vfs.fs.dependent[{#FSNAME},readonly],#2)=0 and last(/HP-UX by Zabbix agent/vfs.fs.dependent[{#FSNAME},readonly])=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/HP-UX by Zabbix agent/vfs.fs.dependent[{#FSNAME},readonly])=0'
                  name: '{#FSNAME}: Filesystem has become read-only'
                  priority: AVERAGE
                  description: 'The filesystem has become read-only. A possible reason is an I/O error. It is available only for Zabbix agents 6.4 and higher.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          graph_prototypes:
            - uuid: 92f6b017c10640b6bfe7cd68a949d2d5
              name: '{#FSNAME}: Disk space usage'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'HP-UX by Zabbix agent'
                    key: 'vfs.fs.dependent.size[{#FSNAME},total]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'HP-UX by Zabbix agent'
                    key: 'vfs.fs.dependent.size[{#FSNAME},free]'
          master_item:
            key: vfs.fs.get
          lld_macro_paths:
            - lld_macro: '{#FSNAME}'
              path: $.fsname
            - lld_macro: '{#FSTYPE}'
              path: $.fstype
          overrides:
            - name: 'Skip metadata collection for dynamic FS'
              step: '1'
              filter:
                conditions:
                  - macro: '{#FSTYPE}'
                    value: ^(btrfs|zfs)$
                    formulaid: A
              operations:
                - operationobject: ITEM_PROTOTYPE
                  operator: LIKE
                  value: inode
                  discover: NO_DISCOVER
      tags:
        - tag: class
          value: os
        - tag: target
          value: hp-ux
      macros:
        - macro: '{$AGENT.TIMEOUT}'
          value: 3m
          description: 'The timeout after which the agent is considered unavailable. It works only for the agents reachable from Zabbix server/proxy (in passive mode).'
      dashboards:
        - uuid: cbac7a8959574b308d1c1e23cf3760ee
          name: 'System performance'
          pages:
            - widgets:
                - type: graph
                  name: 'CPU load'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'HP-UX by Zabbix agent'
                        name: 'HP-UX: CPU load'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  name: 'Memory usage'
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'HP-UX by Zabbix agent'
                        name: 'HP-UX: Memory usage'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: graph
                  name: 'CPU utilization'
                  x: '12'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'HP-UX by Zabbix agent'
                        name: 'HP-UX: CPU utilization'
                    - type: STRING
                      name: reference
                      value: AAAAB
      valuemaps:
        - uuid: 663bea44626447b5a72a71238dfda919
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
        - uuid: 3f4bc88020d444e1b951aebfa8f3dfb8
          name: 'Zabbix agent ping status'
          mappings:
            - value: '1'
              newvalue: Up
  graphs:
    - uuid: 808ceffbcb844def962b03d6fa7a3496
      name: 'HP-UX: CPU load'
      graph_items:
        - color: 199C0D
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.load[percpu,avg1]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.load[percpu,avg5]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.load[percpu,avg15]'
    - uuid: 8c47ac69fba642f4827fcad01b3a0379
      name: 'HP-UX: CPU utilization'
      graph_items:
        - color: 199C0D
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.util[,nice]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.util[,system]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.util[,user]'
        - sortorder: '3'
          color: F7941D
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'system.cpu.util[,idle]'
    - uuid: 4cf12f1ea3934cb99f76c20916067a71
      name: 'HP-UX: Memory usage'
      graph_items:
        - color: 199C0D
          item:
            host: 'HP-UX by Zabbix agent'
            key: 'vm.memory.size[available]'
