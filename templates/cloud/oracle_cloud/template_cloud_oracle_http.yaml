zabbix_export:
  version: '6.0'
  date: '2024-01-25T14:33:14Z'
  groups:
    - uuid: c2c162144c2d4c5491c8801193af4945
      name: Templates/Cloud
  templates:
    - uuid: 178645e229484bcf9cb030dc1edccebb
      template: 'Oracle Cloud Autonomous Database by HTTPS'
      name: 'Oracle Cloud Autonomous Database by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) autonomous database (serverless) resources.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: 8520813edccc4fb9ba975c27914c5633
          name: 'OCI Autonomous DB: Database availability'
          type: DEPENDENT
          key: oci.aut.db.availability
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The database is available for connections in the given minute.
            
          valuemap:
            name: 'Database availability'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DatabaseAvailability
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 5h
          master_item:
            key: oci.aut.db.metrics.stats
          tags:
            - tag: component
              value: environment
          triggers:
            - uuid: 21b1a5c7d7754eb6be30098b2df99a22
              expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.availability,5m) = 0'
              name: 'OCI Autonomous DB: Database is not available'
              priority: HIGH
              description: 'Autonomous database is not available.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 038c4b2c000747799b60cb074aebbce5
          name: 'OCI Autonomous DB: DB block changes'
          type: DEPENDENT
          key: oci.aut.db.block.changes
          delay: '0'
          history: 7d
          description: |
            The number of changes that were part of an update or delete operation that were made to all blocks in the SGA.
            Such changes generate redo log entries and thus become permanent changes to the database if the transaction is committed.
            This approximates total database work. This statistic indicates the rate at which buffers are being dirtied, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DBBlockChanges
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: a471a74943b24a4a81347404e37b7359
          name: 'OCI Autonomous DB: Failed connections'
          type: DEPENDENT
          key: oci.aut.db.conn.failed
          delay: '0'
          history: 7d
          description: |
            The number of failed database connections.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.FailedConnections
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: cc1244e911314e9aaa6a995636848809
          name: 'OCI Autonomous DB: CPU time'
          type: DEPENDENT
          key: oci.aut.db.cpu.time
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            Average rate of accumulation of CPU time by foreground sessions in the database over the time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuTime
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: cpu
        - uuid: da165d0adf324b9e98390d122925fd67
          name: 'OCI Autonomous DB: CPU utilization'
          type: DEPENDENT
          key: oci.aut.db.cpu.util
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            The CPU usage expressed as a percentage, aggregated across all consumer groups.  The utilization percentage is reported with respect to the number of CPUs the database is allowed to use.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuUtilization
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: cpu
          triggers:
            - uuid: 59fd2d0eff9f4f5493cd0de94ba57572
              expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.cpu.util,5m) >= {$OCI.AUTONOMOUS.DB.CPU.UTIL.WARN}'
              name: 'OCI Autonomous DB: Current CPU utilization is high'
              event_name: 'OCI Autonomous DB: Current CPU utilization is high (util >= {$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Current CPU utilization has exceeded {$OCI.AUTONOMOUS.DB.CPU.UTIL.WARN}% of the max available.'
              dependencies:
                - name: 'OCI Autonomous DB: Current CPU utilization is too high'
                  expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.cpu.util,5m) >= {$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}'
              tags:
                - tag: scope
                  value: capacity
            - uuid: f8a53ef11d2140649bc701660183c33d
              expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.cpu.util,5m) >= {$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}'
              name: 'OCI Autonomous DB: Current CPU utilization is too high'
              event_name: 'OCI Autonomous DB: Current CPU utilization is too high (util >= {$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Current CPU utilization has exceeded {$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}% of the max available.'
              tags:
                - tag: scope
                  value: capacity
        - uuid: 47708f3446644bbc9afd11bd0e98d1f5
          name: 'OCI Autonomous DB: Execute count'
          type: DEPENDENT
          key: oci.aut.db.exec.count
          delay: '0'
          history: 7d
          description: |
            The number of user and recursive calls that executed SQL statements during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ExecuteCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 4a1af0cbea8645cc897d64e3c1ac802e
          name: 'OCI Autonomous DB: Connection latency'
          type: DEPENDENT
          key: oci.aut.db.latency.conn
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: |
            The time taken to connect to an Oracle Autonomous Database Serverless instance in each region  from a Compute service virtual machine in the same region.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ConnectionLatency
            - type: MULTIPLIER
              parameters:
                - '0.001'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 5h
          master_item:
            key: oci.aut.db.metrics.stats
          tags:
            - tag: component
              value: environment
        - uuid: e233b1ab82384297b9ee88556969da31
          name: 'OCI Autonomous DB: Query latency'
          type: DEPENDENT
          key: oci.aut.db.latency.query
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: |
            The time taken to display the results of a simple query on the user's screen.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.QueryLatency
            - type: MULTIPLIER
              parameters:
                - '0.001'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 5h
          master_item:
            key: oci.aut.db.metrics.stats
          tags:
            - tag: component
              value: environment
        - uuid: b39b36b4a72b4cbf80584614c3d996ed
          name: 'OCI Autonomous DB: Session logical reads'
          type: DEPENDENT
          key: oci.aut.db.logical.reads.session
          delay: '0'
          history: 7d
          description: |
            The sum of "db block gets" plus "consistent gets", during the selected time interval. This includes logical reads of database blocks from either the buffer cache or process private memory.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LogicalReads
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 27b77344e5fc473693e48eb676ceb746
          name: 'OCI Autonomous DB: Current logons'
          type: DEPENDENT
          key: oci.aut.db.logons
          delay: '0'
          history: 7d
          description: |
            The number of successful logons during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CurrentLogons
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: f4c0af10cea04decbb049c02f06795e4
          name: 'OCI Autonomous DB: Failed logons'
          type: DEPENDENT
          key: oci.aut.db.logons.failed
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The number of log ons that failed because of an invalid user name and/or password,  during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.FailedLogons
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 6104537179324cb48d82e05d64f3a19f
          name: 'OCI Autonomous DB: Get frequent metrics'
          type: SCRIPT
          key: oci.aut.db.metrics.frequent.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'db_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_autonomous_database',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response;
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            			if (data.length === 0) {
            				return 0;
            			}
            
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'CpuTime[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()',
            	'CpuUtilization[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()',
            	'CurrentLogons[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.count()',
            	'DBBlockChanges[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'DBTime[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()',
            	'ExecuteCount[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'FailedConnections[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'FailedLogons[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()',
            	'HardParseCount[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'LogicalReads[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'ParseCount[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'ParseFailureCount[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'PhysicalReads[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'PhysicalReadTotalBytes[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'PhysicalWrites[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'PhysicalWriteTotalBytes[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'QueuedStatements[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'RedoGenerated[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'RunningStatements[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()',
            	'Sessions[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'SQLNetBytesFromClient[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'SQLNetBytesFromDBLink[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'SQLNetBytesToClient[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'SQLNetBytesToDBLink[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'TransactionCount[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'UserCalls[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'UserCommits[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'UserRollbacks[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.sum()',
            	'WaitTime[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets all metrics related to specific database that have 1 minute collection frequency.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: db_id
              value: '{$OCI.AUTONOMOUS.DB.ID}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '1'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: 87a25240776a4b8a9a17ac053b69fd99
          name: 'OCI Autonomous DB: Get database stats'
          type: SCRIPT
          key: oci.aut.db.metrics.stats
          delay: 5m
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'db_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_autonomous_database',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            	mqlRequestInterval: 5,
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            			if (data.length === 0) {
            				return 0;
            			}
            
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'DatabaseAvailability[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.last()',
            	'ConnectionLatency[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.max()',
            	'QueryLatency[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.max()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets all metrics related to specific database that have 5 minute collection frequency.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: db_id
              value: '{$OCI.AUTONOMOUS.DB.ID}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '5'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: cb2936c594e4450096559b3023f6aa4f
          name: 'OCI Autonomous DB: Get storage stats'
          type: SCRIPT
          key: oci.aut.db.metrics.storage.stats
          delay: 60m
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'db_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_autonomous_database',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            	mqlRequestInterval: 60,
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            			if (data.length === 0) {
            				return 0;
            			}
            
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'StorageAllocated[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.max()',
            	'StorageMax[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.max()',
            	'StorageUsed[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.max()',
            	'StorageUtilization[' + params['req_interval'] + 'm]{resourceId=' + params['db_id'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets all storage metrics related to specific database that have 60 minute collection frequency.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: db_id
              value: '{$OCI.AUTONOMOUS.DB.ID}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '60'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: 8ca09dafd8a744489ac122d995367a76
          name: 'OCI Autonomous DB: Parse count (failures)'
          type: DEPENDENT
          key: oci.aut.db.parse.count.failed
          delay: '0'
          history: 7d
          description: |
            The number of parse failures during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ParseFailureCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 0f052e0dd75d4ae190c3b87581e29136
          name: 'OCI Autonomous DB: Parse count (hard)'
          type: DEPENDENT
          key: oci.aut.db.parse.count.hard
          delay: '0'
          history: 7d
          description: |
            The number of parse calls (real parses) during the selected time interval. A hard parse is an expensive operation in terms of memory use, because it requires Oracle to allocate a workheap and other memory structures and then build a parse tree.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.HardParseCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: d5097f4c85ee40608ca8096f1d5f81c1
          name: 'OCI Autonomous DB: Parse count (total)'
          type: DEPENDENT
          key: oci.aut.db.parse.count.total
          delay: '0'
          history: 7d
          description: |
            The number of hard and soft parses during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ParseCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: db1b10f32442428b89a0437176b94906
          name: 'OCI Autonomous DB: Physical read total bytes'
          type: DEPENDENT
          key: oci.aut.db.physical.read.bytes
          delay: '0'
          history: 7d
          units: B
          description: |
            The size in bytes of disk reads by all database instance activity including application reads, backup and recovery, and other utilities, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PhysicalReadTotalBytes
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: a0e9f2b67c364a8baecc611ff1637399
          name: 'OCI Autonomous DB: Physical reads'
          type: DEPENDENT
          key: oci.aut.db.physical.reads
          delay: '0'
          history: 7d
          description: |
            The number of data blocks read from disk, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PhysicalReads
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 81f85ed2baa44bb3a0b05255cc866c3e
          name: 'OCI Autonomous DB: Physical write total bytes'
          type: DEPENDENT
          key: oci.aut.db.physical.write.bytes
          delay: '0'
          history: 7d
          units: B
          description: |
            The size in bytes of all disk writes for the database instance including  application activity, backup and recovery, and other utilities, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PhysicalWriteTotalBytes
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 2b9998f8dd7d493496146d10fff0a5ee
          name: 'OCI Autonomous DB: Physical writes'
          type: DEPENDENT
          key: oci.aut.db.physical.writes
          delay: '0'
          history: 7d
          description: |
            The number of data blocks written to disk, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PhysicalWrites
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 2acac07f1c30472a84b8864a6cfa7985
          name: 'OCI Autonomous DB: Queued statements'
          type: DEPENDENT
          key: oci.aut.db.queued.statements
          delay: '0'
          history: 7d
          description: |
            The number of queued SQL statements, aggregated across all consumer groups, during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.QueuedStatements
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 0f79764cca3f45688d79bb79c762ef99
          name: 'OCI Autonomous DB: Redo generated'
          type: DEPENDENT
          key: oci.aut.db.redo.gen
          delay: '0'
          history: 7d
          description: |
            Amount of redo generated in bytes, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.RedoGenerated
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 11ca43167a374fe99eab91817957a3fb
          name: 'OCI Autonomous DB: Sessions'
          type: DEPENDENT
          key: oci.aut.db.sessions
          delay: '0'
          history: 7d
          description: |
            The number of sessions in the database.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Sessions
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: a71a6114736f4ce89425ed8de504140d
          name: 'OCI Autonomous DB: Bytes received via SQL*Net from client'
          type: DEPENDENT
          key: oci.aut.db.sqlnet.bytes.recv.client
          delay: '0'
          history: 7d
          units: B
          description: |
            The number of bytes received from the client over Oracle Net Services, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SQLNetBytesFromClient
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: a1555ae851e1432c94169e430a782c7d
          name: 'OCI Autonomous DB: Bytes received via SQL*Net from DBLink'
          type: DEPENDENT
          key: oci.aut.db.sqlnet.bytes.recv.dblink
          delay: '0'
          history: 7d
          units: B
          description: |
            The number of bytes received from a database link over Oracle Net Services,  during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SQLNetBytesFromDBLink
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 35cdcf2b736745708910f2389a64670d
          name: 'OCI Autonomous DB: Bytes sent via SQL*Net to client'
          type: DEPENDENT
          key: oci.aut.db.sqlnet.bytes.sent.client
          delay: '0'
          history: 7d
          units: B
          description: |
            The number of bytes sent to the client from the foreground processes, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SQLNetBytesToClient
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 5cc3975e76a842b89a7c6d2ac5108b8c
          name: 'OCI Autonomous DB: Bytes sent via SQL*Net to DBLink'
          type: DEPENDENT
          key: oci.aut.db.sqlnet.bytes.sent.dblink
          delay: '0'
          history: 7d
          units: B
          description: |
            The number of bytes sent over a database link, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SQLNetBytesToDBLink
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 6111b1843fe94fefbf1ca1d530832d39
          name: 'OCI Autonomous DB: Running statements'
          type: DEPENDENT
          key: oci.aut.db.statements.running
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The number of running SQL statements, aggregated across all consumer groups, during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.RunningStatements
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 7901279fcb2a4f6285874680ed5f55f5
          name: 'OCI Autonomous DB: Storage space allocated'
          type: DEPENDENT
          key: oci.aut.db.storage.space.alloc
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Amount of space allocated to the database for all tablespaces, during the interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.StorageAllocated
            - type: MULTIPLIER
              parameters:
                - '1073741824'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.aut.db.metrics.storage.stats
          tags:
            - tag: component
              value: storage
        - uuid: 9dd27df012b24019ad2562822b471a25
          name: 'OCI Autonomous DB: Maximum storage space'
          type: DEPENDENT
          key: oci.aut.db.storage.space.max
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Maximum amount of storage reserved for the database during the interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.StorageMax
            - type: MULTIPLIER
              parameters:
                - '1073741824'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.aut.db.metrics.storage.stats
          tags:
            - tag: component
              value: storage
        - uuid: e5378b6a3d33462eb4f3ed6228532d10
          name: 'OCI Autonomous DB: Storage space used'
          type: DEPENDENT
          key: oci.aut.db.storage.space.used
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Maximum amount of space used during the interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.StorageUsed
            - type: MULTIPLIER
              parameters:
                - '1073741824'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.aut.db.metrics.storage.stats
          tags:
            - tag: component
              value: storage
        - uuid: 5cad114ed74341199a4d3ef17c9acd8e
          name: 'OCI Autonomous DB: Storage utilization'
          type: DEPENDENT
          key: oci.aut.db.storage.space.util
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            The percentage of the reserved maximum storage currently allocated for all database tablespaces. Represents the total reserved space for all tablespaces.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.StorageUtilization
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.aut.db.metrics.storage.stats
          tags:
            - tag: component
              value: storage
          triggers:
            - uuid: 37bb41d830424ba2871e768957225add
              expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.storage.space.util,5m) >= {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.WARN}'
              name: 'OCI Autonomous DB: Current storage utilization is high'
              event_name: 'OCI Autonomous DB: Current storage utilization is high (util >= {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.WARN}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Current storage utilization has exceeded {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.WARN}% of the max available.'
              dependencies:
                - name: 'OCI Autonomous DB: Current storage utilization is too high'
                  expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.storage.space.util,5m) >= {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.HIGH}'
              tags:
                - tag: scope
                  value: capacity
            - uuid: 8e16451106094713abaa624967026dc3
              expression: 'min(/Oracle Cloud Autonomous Database by HTTPS/oci.aut.db.storage.space.util,5m) >= {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.HIGH}'
              name: 'OCI Autonomous DB: Current storage utilization is too high'
              event_name: 'OCI Autonomous DB: Current storage utilization is too high (util >= {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.HIGH}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Current storage utilization has exceeded {$OCI.AUTONOMOUS.DB.STORAGE.UTIL.HIGH}% of the max available.'
              tags:
                - tag: scope
                  value: capacity
        - uuid: 3455978b6e2a4291984bf1e7c95551e1
          name: 'OCI Autonomous DB: DB time'
          type: DEPENDENT
          key: oci.aut.db.time
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The amount of time database user sessions spend executing database code (CPU Time + WaitTime). DB Time is used to infer database call latency, because DB Time increases in direct proportion to both database call latency (response time) and call volume.
            It is calculated as the average rate of accumulation of database time by foreground sessions in the database over the time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DBTime
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 35995e92de8e45b0a8493bc285ccd0c8
          name: 'OCI Autonomous DB: Transaction count'
          type: DEPENDENT
          key: oci.aut.db.transaction.count
          delay: '0'
          history: 7d
          description: |
            The combined number of user commits and user rollbacks during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.TransactionCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 3e1cd8b4c829451499d605512e1a1bf0
          name: 'OCI Autonomous DB: User calls'
          type: DEPENDENT
          key: oci.aut.db.user.calls
          delay: '0'
          history: 7d
          description: |
            The combined number of logons, parses, and execute calls during the selected interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.UserCalls
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 0cda6a956ca1476da28083cfc6de8bcc
          name: 'OCI Autonomous DB: User commits'
          type: DEPENDENT
          key: oci.aut.db.user.commits
          delay: '0'
          history: 7d
          description: |
            The number of user commits during the selected time interval.  When a user commits a transaction, the generated redo that reflects the changes made to database  blocks must be written to disk. Commits often represent the closest thing to a user transaction rate.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.UserCommits
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 99292418f1764484b1cda27b70af84cc
          name: 'OCI Autonomous DB: User rollbacks'
          type: DEPENDENT
          key: oci.aut.db.user.rollbacks
          delay: '0'
          history: 7d
          description: |
            Number of times users manually issue the ROLLBACK statement or an error occurs during a user's  transactions, during the selected time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.UserRollbacks
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
        - uuid: 8f627c48a0a94e41ad1b66d7a4817898
          name: 'OCI Autonomous DB: Wait time'
          type: DEPENDENT
          key: oci.aut.db.wait.time
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            Average rate of accumulation of non-idle wait time by foreground sessions in the database over the time  interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.WaitTime
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.aut.db.metrics.frequent.get
          tags:
            - tag: component
              value: environment
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.AUTONOMOUS.DB.CPU.UTIL.HIGH}'
          value: '90'
          description: 'Sets the percentage threshold for creating a high severity event about CPU resource utilization.'
        - macro: '{$OCI.AUTONOMOUS.DB.CPU.UTIL.WARN}'
          value: '75'
          description: 'Sets the percentage threshold for creating a warning severity event about CPU resource utilization.'
        - macro: '{$OCI.AUTONOMOUS.DB.STORAGE.UTIL.HIGH}'
          value: '90'
          description: 'Sets the percentage threshold for creating a high severity event about storage resource utilization.'
        - macro: '{$OCI.AUTONOMOUS.DB.STORAGE.UTIL.WARN}'
          value: '75'
          description: 'Sets the percentage threshold for creating a warning severity event about storage resource utilization.'
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
      dashboards:
        - uuid: 26fb1668002c42e2b311eaef5850f2ad
          name: 'OCI Autonomous DB: Overview'
          pages:
            - name: Main
              display_period: '30'
              widgets:
                - type: ITEM
                  name: Availability
                  width: '14'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.availability
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'CPU utilization'
                  'y': '4'
                  width: '7'
                  height: '7'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: CPU utilization'
                - type: GRAPH_CLASSIC
                  name: 'Storage stats'
                  x: '7'
                  'y': '4'
                  width: '7'
                  height: '7'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Storage stats'
                - type: ITEM
                  name: 'Conenction latency'
                  x: '14'
                  width: '10'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '60'
                    - type: STRING
                      name: description
                      value: 'Conenction Latency'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_size
                      value: '30'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.latency.conn
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '40'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '60'
                - type: ITEM
                  name: 'CPU utilization'
                  x: '14'
                  'y': '2'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: CPU
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.cpu.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: Sessions
                  x: '14'
                  'y': '5'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: Sessions
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sessions
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Running statements'
                  x: '14'
                  'y': '8'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Running Statements'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.statements.running
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Storage utilization'
                  x: '19'
                  'y': '2'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Storage Utilization'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.storage.space.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Execute count'
                  x: '19'
                  'y': '5'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Execute Count'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.exec.count
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Queued statements'
                  x: '19'
                  'y': '8'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Queued Statements'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.queued.statements
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
            - name: CPU
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'CPU utilization'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'CPU Utilization'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.cpu.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'CPU utilization'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: CPU utilization'
                - type: ITEM
                  name: 'CPU time'
                  x: '12'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'CPU Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.cpu.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'CPU time'
                  x: '12'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: CPU time'
            - name: Storage
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Storage utilization'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Storage Utilization'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.storage.space.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Storage utilization'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Storage utilization'
                - type: ITEM
                  name: 'Max storage space'
                  x: '6'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Max storage space'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.storage.space.max
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Storage stats'
                  x: '6'
                  'y': '3'
                  width: '18'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Storage stats'
                - type: ITEM
                  name: 'Allocated Storage Space'
                  x: '12'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Allocated Storage Space'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.storage.space.alloc
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Used storage space'
                  x: '18'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Used Storage Space'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.storage.space.used
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
            - name: Read/Writes
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Physical reads'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Physical Reads'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.physical.reads
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Read/writes
                  'y': '3'
                  width: '9'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Physical reads/writes'
                - type: ITEM
                  name: 'Physical writes'
                  x: '5'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Physical Writes'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.physical.writes
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Physical read total bytes'
                  x: '9'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Physical Read Total Bytes'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.physical.read.bytes
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Physical total read/write bytes'
                  x: '9'
                  'y': '3'
                  width: '9'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Physical read/write total bytes'
                - type: ITEM
                  name: 'Physical write total bytes'
                  x: '14'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Physical Write Total Bytes'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.physical.write.bytes
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Logical reads session'
                  x: '18'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Logical Reads Session'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.logical.reads.session
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Logical reads session'
                  x: '18'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Logical reads session'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
            - name: Sessions
              display_period: '30'
              widgets:
                - type: ITEM
                  name: Sessions
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: Sessions
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sessions
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Failed connections'
                  'y': '3'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Failed Connections'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.conn.failed
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Session stats'
                  'y': '6'
                  width: '10'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Session stats'
                - type: ITEM
                  name: Logons
                  x: '5'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: Logons
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.logons
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Failed logons'
                  x: '5'
                  'y': '3'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Failed Logons'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.logons.failed
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Wait time'
                  x: '10'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Wait Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.wait.time
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Wait time'
                  x: '10'
                  'y': '3'
                  width: '5'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Wait time'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
                - type: ITEM
                  name: 'DB time'
                  x: '15'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'DB Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.time
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'DB time'
                  x: '15'
                  'y': '3'
                  width: '5'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: DB time'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
                - type: ITEM
                  name: 'Connection latency'
                  x: '20'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Connection Latency'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.latency.conn
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Connection latency'
                  x: '20'
                  'y': '3'
                  width: '4'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Connection latency'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
            - name: Users
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'User calls'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'User Calls'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.user.calls
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'User calls'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: User calls'
                - type: ITEM
                  name: 'User commits'
                  x: '6'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'User Commits'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.user.commits
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'User commits'
                  x: '6'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: User commits'
                - type: ITEM
                  name: 'User rollbacks'
                  x: '12'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'User Rollbacks'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.user.rollbacks
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'User rollbacks'
                  x: '12'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: User rollbacks'
                - type: ITEM
                  name: 'Execute count'
                  x: '18'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Execute Count'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.exec.count
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Execute count'
                  x: '18'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Execute count'
            - name: Parses
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Parse count (hard)'
                  width: '8'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Parse Count (Hard)'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.parse.count.hard
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Parse count (hard)'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Parse count hard'
                - type: ITEM
                  name: 'Parse count (failures)'
                  x: '8'
                  width: '8'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Parse Count (Failures)'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.parse.count.failed
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Parse count (failures)'
                  x: '8'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Parse count failures'
                - type: ITEM
                  name: 'Parse count (total)'
                  x: '16'
                  width: '8'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Parse Count (Total)'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.parse.count.total
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Parse count (total)'
                  x: '16'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Parse count total'
            - name: 'SQL*Net'
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Bytes received from client'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Bytes Received From Client'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sqlnet.bytes.recv.client
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'SQL*Net client bytes'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: SQL*Net client bytes'
                - type: ITEM
                  name: 'Bytes sent to client'
                  x: '6'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Bytes Sent To Client'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sqlnet.bytes.sent.client
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Bytes received from DBLink'
                  x: '12'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Bytes Received From DBLink'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sqlnet.bytes.recv.dblink
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'SQL*Net DBLink bytes'
                  x: '12'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: SQL*Net DBLink bytes'
                - type: ITEM
                  name: 'Bytes sent to DBLink'
                  x: '18'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Bytes Sent To DBLink'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.sqlnet.bytes.sent.dblink
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
            - name: 'DB Calls'
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Query latency'
                  width: '7'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Query Latency'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.latency.query
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Query latency'
                  'y': '3'
                  width: '7'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Query latency'
                - type: ITEM
                  name: 'Running statements'
                  x: '7'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Running Statements'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.statements.running
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Statements
                  x: '7'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        name: 'OCI Autonomous DB: Statements'
                - type: ITEM
                  name: 'Queued statements'
                  x: '11'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queued Statements'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.queued.statements
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Transaction count'
                  x: '15'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Transaction Count'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.transaction.count
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'DB block changes'
                  x: '19'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'DB Block Changes'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.block.changes
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Redo generated'
                  x: '19'
                  'y': '3'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Redo Generated'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Autonomous Database by HTTPS'
                        key: oci.aut.db.redo.gen
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
      valuemaps:
        - uuid: 3b30e8a71ef342e78f9f29243aafd992
          name: 'Database availability'
          mappings:
            - value: '0'
              newvalue: Unavailable
            - value: '1'
              newvalue: Available
    - uuid: 8afa1796d280425b99c7ea36900dac24
      template: 'Oracle Cloud Block Volume by HTTPS'
      name: 'Oracle Cloud Block Volume by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) block volume resources.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: dc2887a2b954406db8588c0ead37411f
          name: 'OCI Block Volume: Volume guaranteed IOPS'
          type: DEPENDENT
          key: oci.block.volume.item.iops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!IOPS'
          description: |
            Rate of change for guaranteed IOPS per SLA. Expressed as the average of guaranteed IOPS during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedIOPS
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 680f9e8c96d34c099533adc99c33a48f
          name: 'OCI Block Volume: Volume read throughput'
          type: DEPENDENT
          key: oci.block.volume.item.read
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Read throughput. Expressed as bytes read per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeReadThroughput
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 6b8060ce122142968e73da9a3e0813a1
          name: 'OCI Block Volume: Volume read operations'
          type: DEPENDENT
          key: oci.block.volume.item.read.ops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!reads'
          description: |
            Activity level from I/O reads. Expressed as reads per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeReadOps
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: cc9ef37437b04a40a4b48a9f21e36ff1
          name: 'OCI Block Volume: Volume throttled operations'
          type: DEPENDENT
          key: oci.block.volume.item.throttled.ops
          delay: '0'
          history: 7d
          description: |
            Total sum of all the I/O operations that were throttled during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeThrottledIOs
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: d1b199adc996404db814ba7568b054df
          name: 'OCI Block Volume: Volume guaranteed throughput'
          type: DEPENDENT
          key: oci.block.volume.item.throughput
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Rate of change for guaranteed throughput per SLA. Expressed as megabytes per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedThroughput
            - type: MULTIPLIER
              parameters:
                - '1048576'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 607f3c4a8197473bb1872e4ed45edd26
          name: 'OCI Block Volume: Volume guaranteed VPUs/GB'
          type: DEPENDENT
          key: oci.block.volume.item.vpu
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!VPUs'
          description: |
            Rate of change for currently active VPUs/GB. Expressed as the average of active VPUs/GB during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedVPUsPerGB
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 9ec2ce2d21154028a5623b5d0ac9c082
          name: 'OCI Block Volume: Volume write throughput'
          type: DEPENDENT
          key: oci.block.volume.item.write
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Write throughput. Expressed as bytes read per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeWriteThroughput
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: e55fee2db439493992a80e39ca647e9a
          name: 'OCI Block Volume: Volume write operations'
          type: DEPENDENT
          key: oci.block.volume.item.write.ops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!writes'
          description: |
            Activity level from I/O writes. Expressed as writes per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeWriteOps
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.block.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 5c1d0fd1686e4c74b33dbe12956d7b7c
          name: 'OCI Block Volume: Get metrics'
          type: SCRIPT
          key: oci.block.volume.metrics.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Block volume ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_blockstore',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [
            			dateHeader,
            			bodyHeader,
            			contentTypeHeader,
            			bodyLengthHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'VolumeReadThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeWriteThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeReadOps[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeWriteOps[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeThrottledIOs[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.sum()',
            	'VolumeGuaranteedVPUsPerGB[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeGuaranteedIOPS[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeGuaranteedThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets block volume metrics.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '1'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: volume_id
              value: '{$OCI.VOLUME.BLOCK.ID}'
          tags:
            - tag: component
              value: raw
        - uuid: 4fdab3067ada41219c8208862e7c8b14
          name: 'OCI Block Volume: State'
          type: SCRIPT
          key: oci.block.volume.state
          history: 7d
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get block volume state ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/volumes/' + encodeURIComponent(params['volume_id']),
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response;
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            			return data['lifecycleState'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            return OCI.extractData(OCI.executeRequest());
          description: |
            Gets the block volume state.
            
          valuemap:
            name: 'Block volume state'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const idx = [
                  	'PROVISIONING',
                  	'RESTORING',
                  	'AVAILABLE',
                  	'TERMINATING',
                  	'TERMINATED',
                  	'FAULTY'
                  ].indexOf(value);
                  return idx !== -1 ? idx : 10;
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: volume_id
              value: '{$OCI.VOLUME.BLOCK.ID}'
          tags:
            - tag: component
              value: storage
          triggers:
            - uuid: 4ea859d86e29455aa4bdd2f3667894f6
              expression: 'min(/Oracle Cloud Block Volume by HTTPS/oci.block.volume.state,5m) = 10'
              name: 'OCI Block Volume: Block volume state unknown'
              priority: WARNING
              description: 'Block volume state is unknown.'
              dependencies:
                - name: 'OCI Block Volume: Block volume terminated or faulty'
                  expression: 'min(/Oracle Cloud Block Volume by HTTPS/oci.block.volume.state,5m) >= 3'
              tags:
                - tag: scope
                  value: availability
            - uuid: b8d9491d762f40c58fb1094fa0468d9e
              expression: 'min(/Oracle Cloud Block Volume by HTTPS/oci.block.volume.state,5m) >= 3'
              name: 'OCI Block Volume: Block volume terminated or faulty'
              priority: HIGH
              description: 'Block volume state is terminated/terminating or faulty.'
              tags:
                - tag: scope
                  value: availability
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
      dashboards:
        - uuid: f87041e2902c4286a648b0f53daee03f
          name: 'OCI Block Volume: Overview'
          pages:
            - name: Overview
              display_period: '30'
              widgets:
                - type: ITEM
                  name: Availability
                  width: '9'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.state
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume read operations'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Read Operations'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.read.ops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Operations
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        name: 'OCI Block Volume: Operations'
                - type: ITEM
                  name: 'Volume write operations'
                  x: '6'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Write Operations'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.write.ops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Guaranteed IOPS'
                  x: '9'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed IOPS'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.iops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume read throughput'
                  x: '12'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Read Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Throughput
                  x: '12'
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        name: 'OCI Block Volume: Throughput'
                - type: ITEM
                  name: 'Guaranteed throughput'
                  x: '14'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.throughput
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume write throughput'
                  x: '18'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Write Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.write
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Guaranteed VPUs/GB'
                  x: '19'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed VPUs/GB'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Block Volume by HTTPS'
                        key: oci.block.volume.item.vpu
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
      valuemaps:
        - uuid: 780a56fd95474839943cbd2f8be2fc18
          name: 'Block volume state'
          mappings:
            - value: '0'
              newvalue: Provisioning
            - value: '1'
              newvalue: Restoring
            - value: '2'
              newvalue: Available
            - value: '3'
              newvalue: Terminating
            - value: '4'
              newvalue: Terminated
            - value: '5'
              newvalue: Faulty
            - value: '10'
              newvalue: Unknown
    - uuid: e5486d98ff414c1391de1bd369a7f9db
      template: 'Oracle Cloud Boot Volume by HTTPS'
      name: 'Oracle Cloud Boot Volume by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) boot volume.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: c629f4e4424b48288b7e7058eef2ca92
          name: 'OCI Boot Volume: Volume guaranteed IOPS'
          type: DEPENDENT
          key: oci.boot.volume.item.iops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!IOPS'
          description: |
            Rate of change for guaranteed IOPS per SLA. Expressed as the average of guaranteed IOPS during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedIOPS
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 01700702f306414892828674c0046e5c
          name: 'OCI Boot Volume: Volume read throughput'
          type: DEPENDENT
          key: oci.boot.volume.item.read
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Read throughput. Expressed as bytes read per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeReadThroughput
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: b004ee7931dd4eccbfc89d3a8c363209
          name: 'OCI Boot Volume: Volume read operations'
          type: DEPENDENT
          key: oci.boot.volume.item.read.ops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!reads'
          description: |
            Activity level from I/O reads. Expressed as reads per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeReadOps
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: cfdc208b621b46508f9addc7ddb0808c
          name: 'OCI Boot Volume: Volume throttled operations'
          type: DEPENDENT
          key: oci.boot.volume.item.throttled.ops
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            Total sum of all the I/O operations that were throttled during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeThrottledIOs
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 09bc5d7c95fe4b41bed9d786b78eba88
          name: 'OCI Boot Volume: Volume guaranteed throughput'
          type: DEPENDENT
          key: oci.boot.volume.item.throughput
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Rate of change for guaranteed throughput per SLA. Expressed as megabytes per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedThroughput
            - type: MULTIPLIER
              parameters:
                - '1048576'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: a3e5f888d2c84d7eb105f1061b9fadd1
          name: 'OCI Boot Volume: Volume guaranteed VPUs/GB'
          type: DEPENDENT
          key: oci.boot.volume.item.vpu
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!VPUs'
          description: |
            Rate of change for currently active VPUs/GB. Expressed as the average of active VPUs/GB during a given time interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeGuaranteedVPUsPerGB
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: a92206102a7a45d7b5c46096486465b6
          name: 'OCI Boot Volume: Volume write throughput'
          type: DEPENDENT
          key: oci.boot.volume.item.write
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            Write throughput. Expressed as bytes read per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeWriteThroughput
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 724197c8dcfe4c3ea52bc25d99de727c
          name: 'OCI Boot Volume: Volume write operations'
          type: DEPENDENT
          key: oci.boot.volume.item.write.ops
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!writes'
          description: |
            Activity level from I/O writes. Expressed as writes per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.VolumeWriteOps
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.boot.volume.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 388e89b8e68149438d714237e785ccde
          name: 'OCI Boot Volume: Get metrics'
          type: SCRIPT
          key: oci.boot.volume.metrics.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Boot volume ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_blockstore',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [
            			dateHeader,
            			bodyHeader,
            			contentTypeHeader,
            			bodyLengthHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'VolumeReadThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeWriteThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeReadOps[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeWriteOps[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeThrottledIOs[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.sum()',
            	'VolumeGuaranteedVPUsPerGB[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeGuaranteedIOPS[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()',
            	'VolumeGuaranteedThroughput[' + params['req_interval'] + 'm]{resourceId=' + params['volume_id'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets boot volume metrics.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '1'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: volume_id
              value: '{$OCI.VOLUME.BOOT.ID}'
          tags:
            - tag: component
              value: raw
        - uuid: 3f0e4bed1fd14293b40b23595f01ebb1
          name: 'OCI Boot Volume: State'
          type: SCRIPT
          key: oci.boot.volume.state
          history: 7d
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get boot volume state ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/bootVolumes/' + encodeURIComponent(params['volume_id']),
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response;
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            			return data['lifecycleState'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            return OCI.extractData(OCI.executeRequest());
          description: |
            Gets the boot volume state.
            
          valuemap:
            name: 'Boot volume state'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  const idx = [
                  	'PROVISIONING',
                  	'RESTORING',
                  	'AVAILABLE',
                  	'TERMINATING',
                  	'TERMINATED',
                  	'FAULTY'
                  ].indexOf(value);
                  return idx !== -1 ? idx : 10;
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: volume_id
              value: '{$OCI.VOLUME.BOOT.ID}'
          tags:
            - tag: component
              value: storage
          triggers:
            - uuid: b31f698c5b164afc85a14acc813f463d
              expression: 'min(/Oracle Cloud Boot Volume by HTTPS/oci.boot.volume.state,5m) = 10'
              name: 'OCI Boot Volume: Boot volume state unknown'
              priority: WARNING
              description: 'Boot volume state is unknown.'
              dependencies:
                - name: 'OCI Boot Volume: Boot volume terminated or faulty'
                  expression: 'min(/Oracle Cloud Boot Volume by HTTPS/oci.boot.volume.state,5m) >= 3'
              tags:
                - tag: scope
                  value: availability
            - uuid: 6525eef6dd6c4cb0a22a6442773c3cfa
              expression: 'min(/Oracle Cloud Boot Volume by HTTPS/oci.boot.volume.state,5m) >= 3'
              name: 'OCI Boot Volume: Boot volume terminated or faulty'
              priority: HIGH
              description: 'Boot volume state is terminated/terminating or faulty.'
              tags:
                - tag: scope
                  value: availability
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
      dashboards:
        - uuid: 67db0d25f18a45b4913a15ab2618608c
          name: 'OCI Boot Volume: Overview'
          pages:
            - name: Overview
              display_period: '30'
              widgets:
                - type: ITEM
                  name: Availability
                  width: '9'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.state
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume read operations'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Read Operations'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.read.ops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Operations
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        name: 'OCI Boot Volume: Operations'
                - type: ITEM
                  name: 'Volume write operations'
                  x: '6'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Write Operations'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.write.ops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Guaranteed IOPS'
                  x: '9'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed IOPS'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.iops
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume read throughput'
                  x: '12'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Read Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Throughput
                  x: '12'
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        name: 'OCI Boot Volume: Throughput'
                - type: ITEM
                  name: 'Guaranteed throughput'
                  x: '14'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.throughput
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Volume write throughput'
                  x: '18'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Volume Write Throughput'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.write
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Guaranteed VPUs/GB'
                  x: '19'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Guaranteed VPUs/GB'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Boot Volume by HTTPS'
                        key: oci.boot.volume.item.vpu
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
      valuemaps:
        - uuid: d881a2a2bedc4556a36f3d676ece0456
          name: 'Boot volume state'
          mappings:
            - value: '0'
              newvalue: Provisioning
            - value: '1'
              newvalue: Restoring
            - value: '2'
              newvalue: Available
            - value: '3'
              newvalue: Terminating
            - value: '4'
              newvalue: Terminated
            - value: '5'
              newvalue: Faulty
            - value: '10'
              newvalue: Unknown
    - uuid: 057558a26d934b4683d73a7058499d62
      template: 'Oracle Cloud by HTTPS'
      name: 'Oracle Cloud by HTTPS'
      description: |
        Monitor resources of Oracle Cloud Infrastructure (OCI) services.
        
        This template handles discovery of various OCI services.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      discovery_rules:
        - uuid: 72fa6dfedfd8497298c5930f48594e72
          name: 'Block volumes discovery'
          type: SCRIPT
          key: oci.block.volumes.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get block volumes ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/volumes',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const contentTypeHeader = 'content-type: application/json';
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var blockVolume = 0; blockVolume < data.length; blockVolume++) {
            				retList.push({
            					'id': data[blockVolume]['id'],
            					'name': data[blockVolume]['displayName'],
            					'state': data[blockVolume]['lifecycleState'],
            					'tags': data[blockVolume]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest()));
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.VOLUME.BLOCK.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.VOLUME.BLOCK.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.VOLUME.BLOCK.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: 'Discover block volumes.'
          host_prototypes:
            - uuid: 5030f7dadd5b40558e07a4545d7346bd
              host: 'OCI Block Volume - {#ID}'
              name: 'OCI Block Volume - {#ID}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Block Volume by HTTPS'
              macros:
                - macro: '{$OCI.VOLUME.BLOCK.ID}'
                  value: '{#ID}'
                  description: 'Block volume ID.'
                - macro: '{$OCI.VOLUME.BLOCK.NAME}'
                  value: '{#NAME}'
                  description: 'Block volume name.'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.BLOCK.VOLUMES}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
        - uuid: 90982afdf2f9430bb1c5a3755d8e6c6d
          name: 'Boot volumes discovery'
          type: SCRIPT
          key: oci.boot.volumes.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get boot volumes ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/bootVolumes',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var bootVolume = 0; bootVolume < data.length; bootVolume++) {
            				retList.push({
            					'id': data[bootVolume]['id'],
            					'name': data[bootVolume]['displayName'],
            					'state': data[bootVolume]['lifecycleState'],
            					'tags': data[bootVolume]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest()));
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.VOLUME.BOOT.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.VOLUME.BOOT.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.VOLUME.BOOT.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: 'Discover boot volumes.'
          host_prototypes:
            - uuid: 914b808a4a014f6e824a3b9c53f1b492
              host: 'OCI Boot Volume - {#ID}'
              name: 'OCI Boot Volume - {#ID}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Boot Volume by HTTPS'
              macros:
                - macro: '{$OCI.VOLUME.BLOCK.NAME}'
                  value: '{#NAME}'
                  description: 'Boot volume name.'
                - macro: '{$OCI.VOLUME.BOOT.ID}'
                  value: '{#ID}'
                  description: 'Boot volume ID.'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.BOOT.VOLUMES}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
        - uuid: ea4bbd0e9737406693aa0051cf861115
          name: 'Compute instances discovery'
          type: SCRIPT
          key: oci.compute.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get instances ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'discovery_status', 'http_status_code', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/instances',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var instance = 0; instance < data.length; instance++) {
            				retList.push({
            					'id': data[instance]['id'],
            					'name': data[instance]['displayName'],
            					'state': data[instance]['lifecycleState'],
            					'tags': data[instance]['freeformTags'],
            					'domain': data[instance]['availabilityDomain']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            if (params['discovery_status'] === 'true') {
            	return JSON.stringify(OCI.extractData(OCI.executeRequest()));
            } else {
            	return '[]';
            }
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.COMPUTE.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.COMPUTE.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.COMPUTE.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: 'Discover compute instances.'
          host_prototypes:
            - uuid: 9337374066e04291b2f94f8ad5470f54
              host: 'OCI Compute - {#ID}'
              name: 'OCI Compute - {#ID}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Compute by HTTPS'
              macros:
                - macro: '{$OCI.COMPUTE.AVAILABILITY.DOMAIN}'
                  value: '{#DOMAIN}'
                  description: 'Availability domain for instance.'
                - macro: '{$OCI.COMPUTE.INSTANCE.ID}'
                  value: '{#ID}'
                  description: 'ID of OCI compute instance.'
                - macro: '{$OCI.COMPUTE.INSTANCE.NAME}'
                  value: '{#NAME}'
                  description: 'Name of OCI compute instance.'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.COMPUTE}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#DOMAIN}'
              path: $.domain
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
        - uuid: c69611c5b86043b28c8ce2bc0627b377
          name: 'Autonomous database discovery'
          type: SCRIPT
          key: oci.object.autonomous.db.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Autonomous DBs ] [ Get DBs ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'discovery_status', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/autonomousDatabases',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response;
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var db = 0; db < data.length; db++) {
            				retList.push({
            					'id': data[db]['id'],
            					'name': data[db]['dbName'],
            					'state': data[db]['lifecycleState'],
            					'tags': data[db]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            if (params['discovery_status'] === 'true') {
            	return JSON.stringify(OCI.extractData(OCI.executeRequest()));
            } else {
            	return '[]';
            }
            
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.AUTONOMOUS.DB.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.AUTONOMOUS.DB.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.AUTONOMOUS.DB.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: 'Discover autonomous databases.'
          host_prototypes:
            - uuid: 88d0076a057c441ab5a531cfcb650e84
              host: 'OCI Autonomous DB - {#NAME}'
              name: 'OCI Autonomous DB - {#NAME}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Autonomous Database by HTTPS'
              macros:
                - macro: '{$OCI.AUTONOMOUS.DB.ID}'
                  value: '{#ID}'
                  description: 'ID of OCI autonomous database.'
                - macro: '{$OCI.AUTONOMOUS.DB.NAME}'
                  value: '{#NAME}'
                  description: 'Name of OCI autonomous database.'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.AUTONOMOUS.DB.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.AUTONOMOUS.DB}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
        - uuid: e1949f127af04efeb8c192f23e45b58a
          name: 'Object storage discovery'
          type: SCRIPT
          key: oci.object.storage.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Object storage ] [ Get buckets ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'discovery_status', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (apiPath, apiParams) {
            		apiParams = typeof apiParams !== "undefined" ? apiParams : '';
            
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + apiPath + apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + apiPath + apiParams);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var bucket = 0; bucket < data.length; bucket++) {
            				retList.push({
            					'name': data[bucket]['name'],
            					'tags': data[bucket]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            if (params['discovery_status'] === 'true') {
            	const namespace = JSON.parse(OCI.executeRequest('/n'));
            	return JSON.stringify(OCI.extractData(OCI.executeRequest('/n/' + encodeURIComponent(namespace) + '/b/', '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']) + '&fields=tags')));
            } else {
            	return '[]';
            }
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.OBJECT.STORAGE.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.OBJECT.STORAGE.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Discover object storage.'
          host_prototypes:
            - uuid: f71e979727ce42daa80a34da5ffb296f
              host: 'OCI Bucket - {#NAME}'
              name: 'OCI Bucket - {#NAME}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Object Storage by HTTPS'
              macros:
                - macro: '{$OCI.OBJECT.STORAGE.BUCKET}'
                  value: '{#NAME}'
                  description: 'Object storage bucket name.'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.OBJECT.STORAGE.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.OBJECT.STORAGE}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#NAME}'
              path: $.name
        - uuid: 378d760173924bf48fbc25c74a520a8b
          name: 'Virtual cloud networks discovery'
          type: SCRIPT
          key: oci.vcn.discovery
          delay: 1h
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Get VCNs ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'discovery_status', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/vcns',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var vcn = 0; vcn < data.length; vcn++) {
            				retList.push({
            					'id': data[vcn]['id'],
            					'name': data[vcn]['displayName'],
            					'state': data[vcn]['lifecycleState'],
            					'tags': data[vcn]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            if (params['discovery_status'] === 'true') {
            	return JSON.stringify(OCI.extractData(OCI.executeRequest()));
            } else {
            	return '[]';
            }
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.VCN.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.VCN.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.VCN.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: 'Discover virtual cloud networks (VCNs).'
          host_prototypes:
            - uuid: 5329fee3dbc643ebbb99472c67a0a207
              host: 'OCI VCN - {#ID}'
              name: 'OCI VCN - {#ID}'
              group_links:
                - group:
                    name: Templates/Cloud
              templates:
                - name: 'Oracle Cloud Networking by HTTPS'
              macros:
                - macro: '{$OCI.VCN.ID}'
                  value: '{#ID}'
                  description: 'ID of the OCI VCN (virtual cloud network).'
                - macro: '{$OCI.VCN.NAME}'
                  value: '{#NAME}'
                  description: 'Name of the OCI VCN (virtual cloud network).'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: discovery_status
              value: '{$OCI.SERVICE.DISCOVERY.VCN}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.API.AUTONOMOUS.DB.HOST}'
          description: 'Host for OCI Autonomous database API endpoint.'
        - macro: '{$OCI.API.CORE.HOST}'
          description: 'Host for OCI Core Services API endpoint.'
        - macro: '{$OCI.API.FINGERPRINT}'
          type: SECRET_TEXT
          description: 'Fingerprint of private key.'
        - macro: '{$OCI.API.OBJECT.STORAGE.HOST}'
          description: 'Host for OCI Object Storage API endpoint.'
        - macro: '{$OCI.API.PRIVATE.KEY}'
          type: SECRET_TEXT
          description: 'Entire private key for API access.'
        - macro: '{$OCI.API.TELEMETRY.HOST}'
          description: 'Host for OCI Monitoring API endpoint.'
        - macro: '{$OCI.API.TENANCY}'
          description: 'OCID of tenancy.'
        - macro: '{$OCI.API.USER}'
          description: 'OCID of user.'
        - macro: '{$OCI.AUTONOMOUS.DB.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of autonomous db names, to allow for discovery.'
        - macro: '{$OCI.AUTONOMOUS.DB.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of autonomous db names, to ignore for discovery.'
        - macro: '{$OCI.AUTONOMOUS.DB.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of autonomous db states, to ignore for discovery.'
        - macro: '{$OCI.COMPUTE.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of compute instance names, to allow for discovery.'
        - macro: '{$OCI.COMPUTE.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of compute instance names, to ignore for discovery.'
        - macro: '{$OCI.COMPUTE.DISCOVERY.STATE.NOT_MATCHES}'
          value: TERMINATED
          description: 'Sets the regex string of compute instance states, to ignore for discovery.'
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
        - macro: '{$OCI.OBJECT.STORAGE.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.OBJECT.STORAGE.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.SERVICE.DISCOVERY.AUTONOMOUS.DB}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of autonomous databases.'
        - macro: '{$OCI.SERVICE.DISCOVERY.BLOCK.VOLUMES}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of block volumes.'
        - macro: '{$OCI.SERVICE.DISCOVERY.BOOT.VOLUMES}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of boot volumes.'
        - macro: '{$OCI.SERVICE.DISCOVERY.COMPUTE}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of compute instances.'
        - macro: '{$OCI.SERVICE.DISCOVERY.OBJECT.STORAGE}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of object storage.'
        - macro: '{$OCI.SERVICE.DISCOVERY.VCN}'
          value: 'true'
          description: 'Set "true"/"false" to enable or disable monitoring of virtual cloud networks.'
        - macro: '{$OCI.VCN.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of virtual cloud network names, to allow for discovery.'
        - macro: '{$OCI.VCN.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of virtual cloud network names, to ignore for discovery.'
        - macro: '{$OCI.VCN.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of virtual cloud network states, to ignore for discovery.'
        - macro: '{$OCI.VOLUME.BLOCK.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of block volume names, to allow for discovery.'
        - macro: '{$OCI.VOLUME.BLOCK.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of block volume names, to ignore for discovery.'
        - macro: '{$OCI.VOLUME.BLOCK.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of block volume states, to ignore for discovery.'
        - macro: '{$OCI.VOLUME.BOOT.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of boot volume names, to allow for discovery.'
        - macro: '{$OCI.VOLUME.BOOT.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of boot volume names, to ignore for discovery.'
        - macro: '{$OCI.VOLUME.BOOT.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of boot volume states, to ignore for discovery.'
    - uuid: e6b0aada359944d09ee4bd46c1a55587
      template: 'Oracle Cloud Compute by HTTPS'
      name: 'Oracle Cloud Compute by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) single compute instance resources and discovers attached
        virtual network interface cards (VNICs) and monitors their resources.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: 657ad1d54de4454696573418f5f17f11
          name: 'OCI Compute: Get instance availability'
          type: SCRIPT
          key: oci.compute.availability.get
          delay: 5m
          history: 7d
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get health ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'instance_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_compute_instance_health',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest('InstanceAccessibilityStatus[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.max()')));
          description: |
            The accessibility status of a VM instance. A value of 1 indicates that the instance is unresponsive due to an issue with the infrastructure or the instance itself. A value of 0 indicates that an accessibility issue has not been detected. If the instance is stopped, then the metric does not have a value.
            
          valuemap:
            name: 'Compute instance availability'
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: instance_id
              value: '{$OCI.COMPUTE.INSTANCE.ID}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '5'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: environment
          triggers:
            - uuid: dbaee26c1de544d08fa6dd76ddc4c06a
              expression: 'last(/Oracle Cloud Compute by HTTPS/oci.compute.availability.get) = 1'
              name: 'OCI Compute: Compute instance is not available'
              priority: HIGH
              description: 'Current instance availability.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 04a1f534ae844021be0935abf1214951
          name: 'OCI Compute: CPU utilization, percent'
          type: DEPENDENT
          key: oci.compute.cpu.util
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            Activity level from CPU. Expressed as a percentage of total time.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuUtilization
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: cpu
          triggers:
            - uuid: 38987527713b404f842e26ad12ce3015
              expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.cpu.util,5m) >= {$OCI.COMPUTE.CPU.UTIL.WARN}'
              name: 'OCI Compute: Current CPU utilization is high'
              event_name: 'OCI Compute: Current CPU utilization is high (util >= {$OCI.COMPUTE.CPU.UTIL.WARN}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Current CPU utilization has exceeded {$OCI.COMPUTE.CPU.UTIL.WARN}% of the max available.'
              dependencies:
                - name: 'OCI Compute: Current CPU utilization is too high'
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.cpu.util,5m) >= {$OCI.COMPUTE.CPU.UTIL.HIGH}'
              tags:
                - tag: scope
                  value: capacity
            - uuid: 082ba105bf614996a68054ad8c7d7101
              expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.cpu.util,5m) >= {$OCI.COMPUTE.CPU.UTIL.HIGH}'
              name: 'OCI Compute: Current CPU utilization is too high'
              event_name: 'OCI Compute: Current CPU utilization is too high (util >= {$OCI.COMPUTE.CPU.UTIL.HIGH}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Current CPU utilization has exceeded {$OCI.COMPUTE.CPU.UTIL.HIGH}% of the max available.'
              tags:
                - tag: scope
                  value: capacity
        - uuid: 670783a729a647db9349d78ac61f1d94
          name: 'OCI Compute: Disk read I/O'
          type: DEPENDENT
          key: oci.compute.disk.io.read
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!reads/s'
          description: |
            Activity level from I/O reads. Expressed as reads per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DiskIopsRead
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: cbd32ebd403c48b2b2f9815f13407afe
          name: 'OCI Compute: Disk write I/O'
          type: DEPENDENT
          key: oci.compute.disk.io.write
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!writes/s'
          description: |
            Activity level from I/O writes. Expressed as writes per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DiskIopsWritten
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 15d234ef381747bfb76e7ccf9169046d
          name: 'OCI Compute: Disk bytes read'
          type: DEPENDENT
          key: oci.compute.disk.read
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: |
            Read throughput. Expressed as bytes read per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DiskBytesRead
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: c7e061599b474ac49082d28572ab74c6
          name: 'OCI Compute: Disk bytes written'
          type: DEPENDENT
          key: oci.compute.disk.written
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: |
            Write throughput. Expressed as bytes written per interval.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DiskBytesWritten
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: storage
        - uuid: 75308c4fb9bd4bad8fbb80aa9b62b099
          name: 'OCI Compute: Load average'
          type: DEPENDENT
          key: oci.compute.load.avg
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!processes'
          description: |
            Average system load calculated over a 1-minute period. Expressed as a number of processes.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LoadAverage
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: environment
        - uuid: 610796958f694aa99f3e9ea1082972bf
          name: 'OCI Compute: Memory allocation stalls'
          type: DEPENDENT
          key: oci.compute.mem.stalls
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '!stalls'
          description: |
            Number of times page reclaim was called directly.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemoryAllocationStalls
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: memory
        - uuid: ef284ac17689442e835b686126161bc5
          name: 'OCI Compute: Memory utilization, percent'
          type: DEPENDENT
          key: oci.compute.mem.util
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            Space currently in use. Measured by pages. Expressed as a percentage of used pages.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemoryUtilization
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: 9baaacf70a4446a7ae816afdc4db0ae8
              expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.mem.util,5m) >= {$OCI.COMPUTE.MEM.UTIL.WARN}'
              name: 'OCI Compute: Current memory utilization is high'
              event_name: 'OCI Compute: Current memory utilization is high (util >= {$OCI.COMPUTE.MEM.UTIL.WARN}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Current MEMORY utilization has exceeded {$OCI.COMPUTE.MEM.UTIL.WARN}% of the max available.'
              dependencies:
                - name: 'OCI Compute: Current memory utilization is too high'
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.mem.util,5m) >= {$OCI.COMPUTE.MEM.UTIL.HIGH}'
              tags:
                - tag: scope
                  value: capacity
            - uuid: 3b894aa250f04ebdb63fb8a914fbd72a
              expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.mem.util,5m) >= {$OCI.COMPUTE.MEM.UTIL.HIGH}'
              name: 'OCI Compute: Current memory utilization is too high'
              event_name: 'OCI Compute: Current memory utilization is too high (util >= {$OCI.COMPUTE.MEM.UTIL.HIGH}%)'
              opdata: 'Current: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Current MEMORY utilization has exceeded {$OCI.COMPUTE.MEM.UTIL.HIGH}% of the max available.'
              tags:
                - tag: scope
                  value: capacity
        - uuid: 65ff665a67374bb082f260ca473dfb1b
          name: 'OCI Compute: Get compute metrics'
          type: SCRIPT
          key: oci.compute.metrics.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'instance_id', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_computeagent',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'CpuUtilization[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.mean()',
            	'MemoryUtilization[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.mean()',
            	'LoadAverage[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.mean()',
            	'MemoryAllocationStalls[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.mean()',
            	'DiskBytesRead[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()',
            	'DiskBytesWritten[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()',
            	'DiskIopsRead[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()',
            	'DiskIopsWritten[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()',
            	'NetworksBytesIn[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()',
            	'NetworksBytesOut[' + params['req_interval'] + 'm]{resourceId=' + params['instance_id'] + '}.rate()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets compute instance metrics.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: instance_id
              value: '{$OCI.COMPUTE.INSTANCE.ID}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '1'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: 0c910a86a99b47f08dee930f07422f45
          name: 'OCI Compute: Network bytes in'
          type: DEPENDENT
          key: oci.compute.network.in
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: |
            Network bytes in for compute instance.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NetworksBytesIn
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: network
        - uuid: a7a027ae583740e19e5f6288b3f15d10
          name: 'OCI Compute: Network bytes out'
          type: DEPENDENT
          key: oci.compute.network.out
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: |
            Network bytes out for compute instance.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NetworksBytesOut
            - type: JAVASCRIPT
              parameters:
                - 'return Math.round(value * 100) / 100;'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.compute.metrics.get
          tags:
            - tag: component
              value: network
        - uuid: c0e74098afb14984af6355ac0711662e
          name: 'OCI Compute: Get VNICs'
          type: SCRIPT
          key: oci.compute.vnic.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Compute ] [ Get VNICs ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/vnicAttachments',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']) + '&availabilityDomain=' + encodeURIComponent(params['availability_domain']) + '&instanceId=' + encodeURIComponent(params['instance_id']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var vnic = 0; vnic < data.length; vnic++) {
            				retList.push({
            					'id': data[vnic]['vnicId'],
            					'name': data[vnic]['displayName'],
            					'state': data[vnic]['lifecycleState']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest()));
          description: |
            Get information about all virtual network interface cards attached to the instance.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: availability_domain
              value: '{$OCI.COMPUTE.AVAILABILITY.DOMAIN}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: instance_id
              value: '{$OCI.COMPUTE.INSTANCE.ID}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
      discovery_rules:
        - uuid: 4f4a058b2a0b4bddb4ddbdb7613934af
          name: 'VNIC discovery'
          type: DEPENDENT
          key: oci.compute.vnic.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.COMPUTE.VNIC.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.COMPUTE.VNIC.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.COMPUTE.VNIC.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: |
            Discover compute instance VNICs (Virtual Network Interface Cards).
            
          item_prototypes:
            - uuid: 45fc4a9241f147c88e45352ac0f5018d
              name: 'VNIC [{#NAME}]: Attachment state'
              type: DEPENDENT
              key: 'oci.compute.vnic.attachment[{#ID}]'
              delay: '0'
              history: 7d
              description: |
                Current attachment state of the VNIC.
                
              valuemap:
                name: 'VNIC attachment state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.id == ''{#ID}'')].state.first()'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                      	'ATTACHING',
                      	'ATTACHED',
                      	'DETACHING',
                      	'DETACHED'
                      ].indexOf(value);
                      return idx !== -1 ? idx : 10;
              master_item:
                key: oci.compute.vnic.get
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 7176da6364464cfcacadfcfe7e81fdb3
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.vnic.attachment[{#ID}],5m) >= 2'
                  name: 'VNIC [{#NAME}]: VNIC is not attached'
                  priority: HIGH
                  description: 'Virtual network interface card attachment status.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: a9f4e55f3dd848b8bf0c861c81c2690a
              name: 'VNIC [{#NAME}]: Egress packets dropped by security list'
              type: DEPENDENT
              key: 'oci.compute.vnic.egress.packets.dropped[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets sent by the VNIC, destined for the network, dropped due to security rule violations.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicEgressDropsSecurityList
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 0ac50b3b570a470ca301185489c4d2a4
              name: 'VNIC [{#NAME}]: Smartnic buffer drops from host'
              type: DEPENDENT
              key: 'oci.compute.vnic.host.smartnic.drops[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Number of packets dropped in SmartNIC from host due to buffer exhaustion. This metric is available only for Bare Metal Instances. For VMs, these metric values are zero.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.SmartnicBufferDropsFromHost
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 86258bd1db6a46c9862f175acac2daf2
              name: 'VNIC [{#NAME}]: Ingress packets dropped by security list'
              type: DEPENDENT
              key: 'oci.compute.vnic.ingress.packets.dropped[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets received from the network, destined for the VNIC, dropped due to security rule violations.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicIngressDropsSecurityList
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: eb79782153524452ba4ba8506fb207a5
              name: 'VNIC [{#NAME}]: Get metrics'
              type: SCRIPT
              key: 'oci.compute.vnic.metrics.get[{#ID}]'
              history: '0'
              trends: '0'
              value_type: TEXT
              params: |
                const zabbixLogPrefix = '[ OCI ] [ Compute - VNIC ] [ Get metrics ]';
                const params = JSON.parse(value);
                ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'vnic_id', 'http_status_code', 'req_interval'].forEach(function (field) {
                	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
                		throw 'Required param is not set: ' + field + '.';
                	}
                });
                
                const OCI = {
                	request: new HttpRequest(),
                	namespace: 'oci_vcn',
                	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
                	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
                
                	hash: function (string) {
                		return sha256(string);
                	},
                
                	sign: function (string) {
                		return sign('sha256', params['private_key'], string);
                	},
                
                	encode: function (hash) {
                		const hexArr = hash.match(/.{1,2}/g);
                		var uInt8Array = new Uint8Array(hexArr.length);
                		for (var i = 0; i < hexArr.length; i++) {
                			uInt8Array[i] = parseInt(hexArr[i], 16);
                		}
                		return btoa(uInt8Array);
                	},
                
                	getDate: function () {
                		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
                		const today = new Date();
                		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
                	},
                
                	executeRequest: function (mql) {
                		var body = JSON.stringify({
                			'namespace': this.namespace,
                			'query': mql
                		});
                
                		const headers = '(request-target) date host x-content-sha256 content-type content-length';
                		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
                		const bodyLengthHeader = 'content-length: ' + body.length;
                		const contentTypeHeader = 'content-type: application/json';
                		const dateHeader = 'date: ' + this.getDate();
                		const hostHeader = 'host: ' + params['api_host'];
                		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
                
                		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
                		const signature = this.encode(this.sign(signingString));
                
                		const reqHeaders = [dateHeader, bodyHeader, contentTypeHeader, bodyLengthHeader, 'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'];
                
                		for (var i = 0; i < reqHeaders.length; i++) {
                			this.request.addHeader(reqHeaders[i]);
                		}
                
                		if (params['http_proxy']) {
                			this.request.setProxy(params['http_proxy']);
                			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
                		}
                
                		var apiRateLimitExceeded = false;
                		do {
                			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
                			if (JSON.parse(response)['code'] === 'TooManyRequests') {
                				apiRateLimitExceeded = true;
                				Zabbix.sleep(1000);
                			} else {
                				apiRateLimitExceeded = false;
                			}
                		} while (apiRateLimitExceeded);
                
                		this.request.clearHeader();
                
                		if (this.request.getStatus() == params['http_status_code']) {
                			return response
                		} else {
                			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
                			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
                		}
                
                		return response;
                	},
                
                	extractData: function (data) {
                		try {
                			data = JSON.parse(data);
                
                			if (data.length === 0) {
                				return 0;
                			}
                			data = data[0]['aggregatedDatapoints'];
                			return data[data.length - 1]['value'];
                		} catch (error) {
                			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
                			throw 'Received an unexpected JSON object. See logs for more information.';
                		}
                	}
                };
                
                const mqlQueries = [
                	'VnicEgressDropsSecurityList[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicIngressDropsSecurityList[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicFromNetworkBytes[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicFromNetworkPackets[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicToNetworkBytes[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicToNetworkPackets[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicIngressDropsThrottle[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicEgressDropsThrottle[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicIngressDropsConntrackFull[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicEgressDropsConntrackFull[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicConntrackUtilPercent[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'VnicConntrackIsFull[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.last()',
                	'SmartnicBufferDropsFromNetwork[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()',
                	'SmartnicBufferDropsFromHost[' + params['req_interval'] + 'm]{resourceId=' + params['vnic_id'] + '}.sum()'
                ];
                
                var retDataObj = {};
                for (var i = 0; i < mqlQueries.length; i++) {
                	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
                }
                
                return JSON.stringify(retDataObj);
              description: |
                Gets virtual network interface card metrics.
                
              timeout: 30s
              parameters:
                - name: api_host
                  value: '{$OCI.API.TELEMETRY.HOST}'
                - name: fingerprint
                  value: '{$OCI.API.FINGERPRINT}'
                - name: http_proxy
                  value: '{$OCI.HTTP.PROXY}'
                - name: http_status_code
                  value: '{$OCI.HTTP.RETURN.CODE.OK}'
                - name: private_key
                  value: '{$OCI.API.PRIVATE.KEY}'
                - name: req_interval
                  value: '1'
                - name: tenancy_ocid
                  value: '{$OCI.API.TENANCY}'
                - name: user_ocid
                  value: '{$OCI.API.USER}'
                - name: vnic_id
                  value: '{#ID}'
              tags:
                - tag: component
                  value: raw
            - uuid: e083fab486984a1d8c0947924e2e6c60
              name: 'VNIC [{#NAME}]: Bytes to network'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.bytes.egr[{#ID}]'
              delay: '0'
              history: 7d
              units: B
              description: |
                Bytes sent from the VNIC to the network, before drops.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicToNetworkBytes
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 09b608c006b34276b34356802f755ce7
              name: 'VNIC [{#NAME}]: Bytes from network'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.bytes.ingr[{#ID}]'
              delay: '0'
              history: 7d
              units: B
              description: |
                Bytes received at the VNIC from the network, after drops.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicFromNetworkBytes
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 9e4d0babdaad4f7291974881d88fa991
              name: 'VNIC [{#NAME}]: Connection tracking table full'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.conntrack.full[{#ID}]'
              delay: '0'
              history: 7d
              description: |
                Boolean (0/false, 1/true) that indicates the connection tracking table is full.
                
              valuemap:
                name: 'Generic Bool'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicConntrackIsFull
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 4faafcd1719745749ae1e3b2c58a09d0
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.vnic.net.conntrack.full[{#ID}],5m) = 1'
                  name: 'VNIC [{#NAME}]: Conntrack table full'
                  priority: HIGH
                  description: 'Virtual network interface card connection tracking table is full.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 088fc9f8d317402099ed0cda9dffb525
              name: 'VNIC [{#NAME}]: Connection tracking table utilization, percent'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.conntrack.util[{#ID}]'
              delay: '0'
              history: 7d
              units: '%'
              description: |
                Total utilization percentage (0-100%) of the connection tracking table.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicConntrackUtilPercent
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: c2fd382491624a74b2956be3dad187ea
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.vnic.net.conntrack.util[{#ID}],5m) >= {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.WARN}'
                  name: 'VNIC [{#NAME}]: Current conntrack table utilization is high'
                  event_name: 'VNIC [{#NAME}]: Current conntrack table utilization is high (util >= {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.WARN}%)'
                  opdata: 'Current: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Current conntrack table utilization has exceeded {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.WARN}% of the max available.'
                  dependencies:
                    - name: 'VNIC [{#NAME}]: Current conntrack table utilization is too high'
                      expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.vnic.net.conntrack.util[{#ID}],5m) >= {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.HIGH}'
                  tags:
                    - tag: scope
                      value: capacity
                - uuid: cf98ffe12a2b413c9b1384e9ec167cbd
                  expression: 'min(/Oracle Cloud Compute by HTTPS/oci.compute.vnic.net.conntrack.util[{#ID}],5m) >= {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.HIGH}'
                  name: 'VNIC [{#NAME}]: Current conntrack table utilization is too high'
                  event_name: 'VNIC [{#NAME}]: Current conntrack table utilization is too high (util >= {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.HIGH}%)'
                  opdata: 'Current: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Current conntrack table utilization has exceeded {$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.HIGH}% of the max available.'
                  tags:
                    - tag: scope
                      value: capacity
            - uuid: 23be348ca25948468df11644a5f51d0d
              name: 'VNIC [{#NAME}]: Egress packets dropped by full connection tracking table'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.egr.drop[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets sent from the VNIC, destined for the network, dropped due to full connection tracking table.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicEgressDropsConntrackFull
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: bfa72f1cfc294d2b819cea22dbe7ddd8
              name: 'VNIC [{#NAME}]: Throttled egress packets'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.egr.throttled[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets sent from the VNIC, destined for the network, dropped due to throttling.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicEgressDropsThrottle
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 06cee1bacd744926ac61f72cd8ba3ae5
              name: 'VNIC [{#NAME}]: Packets to network'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.egr[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets sent from the VNIC to the network, before drops
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicToNetworkPackets
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 2564ee2fa8bd4d5f9859506c1486f45f
              name: 'VNIC [{#NAME}]: Ingress packets dropped by full connection tracking table'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.ingr.drop[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets received from the network, destined for the VNIC, dropped due to full connection tracking table.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicIngressDropsConntrackFull
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 595654f8255f454fba44abfcfeeb8c14
              name: 'VNIC [{#NAME}]: Throttled ingress packets'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.ingr.throttled[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets received from the network, destined for the VNIC, dropped due to throttling.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicIngressDropsThrottle
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 9c37d782e3594e199f0c77010853d893
              name: 'VNIC [{#NAME}]: Packets from network'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.packets.ingr[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Packets received at the VNIC from the network, after drops.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.VnicFromNetworkPackets
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
            - uuid: 400c523fe78b4264948e363f278bbc6d
              name: 'VNIC [{#NAME}]: Smartnic buffer drops from network'
              type: DEPENDENT
              key: 'oci.compute.vnic.net.smartnic.drops[{#ID}]'
              delay: '0'
              history: 7d
              units: '!packets'
              description: |
                Number of packets dropped in SmartNIC from network due to buffer exhaustion. This metric is available only for Bare Metal Instances. For VMs, these metric values are zero.
                
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.SmartnicBufferDropsFromNetwork
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'oci.compute.vnic.metrics.get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: vnic
                  value: '{#ID}'
          graph_prototypes:
            - uuid: 7a02ebf104a24f3ebd1631003dc7365c
              name: 'VNIC [{#NAME}]: Network bytes in'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.bytes.ingr[{#ID}]'
            - uuid: 50306b25bef24d95acd2d9ae9e0c1f6f
              name: 'VNIC [{#NAME}]: Network bytes out'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.bytes.egr[{#ID}]'
            - uuid: 4f3c1eabc2be43b68c4a76a6bed17761
              name: 'VNIC [{#NAME}]: Network packets dropped by connection tracking table'
              graph_items:
                - color: 199C0D
                  yaxisside: RIGHT
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.conntrack.util[{#ID}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.ingr.drop[{#ID}]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.egr.drop[{#ID}]'
            - uuid: 3d9f549442ac455eb0e5296594eac004
              name: 'VNIC [{#NAME}]: Network packets dropped by security list'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.ingr.drop[{#ID}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.egr.drop[{#ID}]'
            - uuid: 2c4626b63df0468caef94e405e499aaa
              name: 'VNIC [{#NAME}]: Network packets in'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.ingr[{#ID}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.ingr.throttled[{#ID}]'
            - uuid: 4fe14e23a0414b8787749aababc35ceb
              name: 'VNIC [{#NAME}]: Network packets out'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.egr[{#ID}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.packets.egr.throttled[{#ID}]'
            - uuid: fdaad88126dd486b948348e993217c8f
              name: 'VNIC [{#NAME}]: Smartnic buffer drops'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.net.smartnic.drops[{#ID}]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Oracle Cloud Compute by HTTPS'
                    key: 'oci.compute.vnic.host.smartnic.drops[{#ID}]'
          master_item:
            key: oci.compute.vnic.get
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.COMPUTE.CPU.UTIL.HIGH}'
          value: '90'
          description: 'Sets the percentage threshold for creating a high severity event about CPU resource utilization.'
        - macro: '{$OCI.COMPUTE.CPU.UTIL.WARN}'
          value: '75'
          description: 'Sets the percentage threshold for creating a warning severity event about CPU resource utilization.'
        - macro: '{$OCI.COMPUTE.MEM.UTIL.HIGH}'
          value: '90'
          description: 'Sets the percentage threshold for creating a high severity event about memory resource utilization.'
        - macro: '{$OCI.COMPUTE.MEM.UTIL.WARN}'
          value: '75'
          description: 'Sets the percentage threshold for creating a warning severity event about memory resource utilization.'
        - macro: '{$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.HIGH}'
          value: '90'
          description: 'Sets the percentage threshold for creating a high severity event about VNIC connection tracking table utilization.'
        - macro: '{$OCI.COMPUTE.VNIC.CONNTRACK.UTIL.WARN}'
          value: '75'
          description: 'Sets the percentage threshold for creating a warning severity event about VNIC connection tracking table utilization.'
        - macro: '{$OCI.COMPUTE.VNIC.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of VNIC names, to allow for discovery.'
        - macro: '{$OCI.COMPUTE.VNIC.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of VNIC names, to ignore for discovery.'
        - macro: '{$OCI.COMPUTE.VNIC.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of VNIC states to ignore for discovery.'
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
      dashboards:
        - uuid: edab80c89bcf43d6ada2e4ed5477d36f
          name: 'OCI Compute: Overview'
          pages:
            - name: Main
              display_period: '60'
              widgets:
                - type: ITEM
                  name: Availability
                  width: '14'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.availability.get
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Disk bytes read'
                  'y': '4'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Bytes Read'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Disk read I/O'
                  'y': '7'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Read I/O'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.io.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Disk bytes written'
                  x: '5'
                  'y': '4'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Bytes Written'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.written
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Disk write I/O'
                  x: '5'
                  'y': '7'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Write I/O'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.io.write
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Net bytes in'
                  x: '10'
                  'y': '4'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Net Bytes In'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.in
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Net bytes out'
                  x: '10'
                  'y': '7'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Net Bytes Out'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.out
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Load average'
                  x: '14'
                  width: '10'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Load Average'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.load.avg
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: CPU
                  x: '16'
                  'y': '4'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: CPU
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.cpu.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Memory allocation stalls'
                  x: '16'
                  'y': '7'
                  width: '8'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FBC02D
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Memory Allocation Stalls'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.mem.stalls
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: Memory
                  x: '20'
                  'y': '4'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: Memory
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.mem.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
            - name: CPU/Mem
              display_period: '30'
              widgets:
                - type: ITEM
                  name: CPU
                  width: '8'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: CPU
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.cpu.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'CPU utilization'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Cpu utilization'
                - type: ITEM
                  name: Memory
                  x: '8'
                  width: '16'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: Memory
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.mem.util
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Memory utilization'
                  x: '8'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Memory utilization'
                - type: GRAPH_CLASSIC
                  name: 'Memory allocation stalls'
                  x: '16'
                  'y': '3'
                  width: '8'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Memory allocation stalls'
            - name: 'Net In/Out'
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Net bytes in'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Net Bytes In'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.in
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Network bytes in'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Network bytes in'
                - type: ITEM
                  name: 'Net bytes out'
                  x: '12'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Net Bytes Out'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.out
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Network bytes out'
                  x: '12'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Network bytes out'
            - name: Disk
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Disk bytes read'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Bytes Read'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Disk bytes read'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Disk bytes read'
                - type: ITEM
                  name: 'Disk bytes written'
                  x: '6'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Bytes Written'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.written
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Disk bytes written'
                  x: '6'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Disk bytes written'
                - type: ITEM
                  name: 'Disk read i/o'
                  x: '12'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Read I/O'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.io.read
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Disk read i/o'
                  x: '12'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Disk bytes read I/O'
                - type: ITEM
                  name: 'Disk write i/o'
                  x: '18'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Disk Write I/O'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.disk.io.write
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Disk write i/o'
                  x: '18'
                  'y': '3'
                  width: '6'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Disk bytes write I/O'
            - name: 'VNIC In/Out'
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Total bytes in'
                  width: '2'
                  height: '11'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_places
                      value: '1'
                    - type: INTEGER
                      name: decimal_size
                      value: '4'
                    - type: STRING
                      name: description
                      value: Ingress
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_size
                      value: '3'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.in
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '3'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '4'
                - type: GRAPH_CLASSIC
                  name: 'Network bytes in'
                  x: '2'
                  width: '10'
                  height: '3'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Network bytes in'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
                - type: GRAPH_PROTOTYPE
                  name: 'VNIC bytes in'
                  x: '2'
                  'y': '3'
                  width: '10'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network bytes in'
                - type: GRAPH_PROTOTYPE
                  name: 'VNIC packets in'
                  x: '2'
                  'y': '7'
                  width: '10'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network packets in'
                - type: ITEM
                  name: 'Total bytes out'
                  x: '12'
                  width: '2'
                  height: '11'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_places
                      value: '1'
                    - type: INTEGER
                      name: decimal_size
                      value: '4'
                    - type: STRING
                      name: description
                      value: Egress
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_size
                      value: '3'
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        key: oci.compute.network.out
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '3'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '4'
                - type: GRAPH_CLASSIC
                  name: 'Network bytes out'
                  x: '14'
                  width: '10'
                  height: '3'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'OCI Compute: Network bytes out'
                    - type: INTEGER
                      name: show_legend
                      value: '0'
                - type: GRAPH_PROTOTYPE
                  name: 'VNIC bytes out'
                  x: '14'
                  'y': '3'
                  width: '10'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network bytes out'
                - type: GRAPH_PROTOTYPE
                  name: 'VNIC packets out'
                  x: '14'
                  'y': '7'
                  width: '10'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network packets out'
            - name: 'VNIC Detailed'
              display_period: '30'
              widgets:
                - type: GRAPH_PROTOTYPE
                  name: 'Connection tracking table'
                  width: '8'
                  height: '11'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network packets dropped by connection tracking table'
                - type: GRAPH_PROTOTYPE
                  name: 'Security list'
                  x: '8'
                  width: '8'
                  height: '11'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Network packets dropped by security list'
                - type: GRAPH_PROTOTYPE
                  name: Smartnic
                  x: '16'
                  width: '8'
                  height: '11'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Oracle Cloud Compute by HTTPS'
                        name: 'VNIC [{#NAME}]: Smartnic buffer drops'
      valuemaps:
        - uuid: 9e238671edca4ed7b58eefacc861a77d
          name: 'Compute instance availability'
          mappings:
            - value: '0'
              newvalue: Available
            - value: '1'
              newvalue: Unavailable
        - uuid: dce0b4413ede4dbca55f89cbc86736b3
          name: 'Generic Bool'
          mappings:
            - value: '0'
              newvalue: 'False'
            - value: '1'
              newvalue: 'True'
        - uuid: 8fdcb86d1dde4d2489239dd61fbd8b08
          name: 'VNIC attachment state'
          mappings:
            - value: '0'
              newvalue: Attaching
            - value: '1'
              newvalue: Attached
            - value: '2'
              newvalue: Detaching
            - value: '3'
              newvalue: Detached
            - value: '10'
              newvalue: Unknown
    - uuid: 62d99b55585e41dd89736f5f46074dcb
      template: 'Oracle Cloud Networking by HTTPS'
      name: 'Oracle Cloud Networking by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) single virtual network card availability and discovers attached
        subnets and monitors their availability.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: 7b2fdfb034ba4657a731ab11ffa175f6
          name: 'OCI VCN: Get VCN state'
          type: SCRIPT
          key: oci.vcn.state.get
          delay: 5m
          history: 7d
          params: |
            const zabbixLogPrefix = '[ OCI ] [ VCN ] [ Get VCN status ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'vcn_id', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/vcns/' + encodeURIComponent(params['vcn_id']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		try {
            			return JSON.parse(data)['lifecycleState'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest()));
          description: |
            State of the virtual cloud network.
            
          valuemap:
            name: 'Lifecycle state'
          preprocessing:
            - type: STR_REPLACE
              parameters:
                - '"'
                - ''
            - type: JAVASCRIPT
              parameters:
                - |
                  const idx = [
                  	'PROVISIONING',
                  	'AVAILABLE',
                  	'TERMINATING',
                  	'TERMINATED',
                  	'UPDATING'
                  ].indexOf(value);
                  return idx !== -1 ? idx : 10;
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: vcn_id
              value: '{$OCI.VCN.ID}'
          tags:
            - tag: component
              value: network
          triggers:
            - uuid: 8a5a94ea28db43df93e85d26703f9e7c
              expression: 'min(/Oracle Cloud Networking by HTTPS/oci.vcn.state.get,5m) = 2 or min(/Oracle Cloud Networking by HTTPS/oci.vcn.state.get,5m) = 3'
              name: 'OCI VCN: VCN state terminated'
              priority: HIGH
              description: 'Virtual cloud network state is terminated or terminating.'
              tags:
                - tag: scope
                  value: availability
            - uuid: 80c3f4d6696c40a78ddb2c00378eeae1
              expression: 'min(/Oracle Cloud Networking by HTTPS/oci.vcn.state.get,5m) = 10'
              name: 'OCI VCN: VCN state unknown'
              priority: WARNING
              description: 'Virtual cloud network state is unknown.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 83236aeedf5e4ba39f0425c21f745690
          name: 'OCI VCN: Get subnets'
          type: SCRIPT
          key: oci.vcn.subnets.get
          delay: 5m
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ VCN ] [ Get subnets ]';
            params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'vcn_id', 'http_status_code'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	apiPath: '/20160918/subnets',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']) + '&vcnId=' + encodeURIComponent(params['vcn_id']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function () {
            		const headers = '(request-target) date host';
            		const dateHeader = 'date: ' + OCI.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): get ' + this.apiPath + this.apiParams;
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader;
            		const signature = OCI.encode(OCI.sign(signingString));
            
            		const reqHeaders = [
            			'Content-Type: application/json',
            			dateHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		const response = this.request.get('https://' + params['api_host'] + this.apiPath + this.apiParams);
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            	},
            
            	extractData: function (data) {
            		var retList = [];
            		try {
            			data = JSON.parse(data);
            			for (var subnet = 0; subnet < data.length; subnet++) {
            				retList.push({
            					'id': data[subnet]['id'],
            					'name': data[subnet]['displayName'],
            					'state': data[subnet]['lifecycleState'],
            					'tags': data[subnet]['freeformTags']
            				});
            			}
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            		return retList;
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest()));
          description: |
            Get data about subnets linked to the particular VNC.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.CORE.HOST}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
            - name: vcn_id
              value: '{$OCI.VCN.ID}'
          tags:
            - tag: component
              value: raw
      discovery_rules:
        - uuid: 6aca3a2d8b9a4231ae9364611ed4df82
          name: 'Subnet discovery'
          type: DEPENDENT
          key: oci.vcn.subnet.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$OCI.VCN.SUBNET.DISCOVERY.NAME.MATCHES}'
                formulaid: A
              - macro: '{#NAME}'
                value: '{$OCI.VCN.SUBNET.DISCOVERY.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#STATE}'
                value: '{$OCI.VCN.SUBNET.DISCOVERY.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: C
          description: |
            Discover subnets linked to the particular VNC.
            
          item_prototypes:
            - uuid: 759c6bff98fb4cb3bc8c9269513339bf
              name: 'Subnet [{#NAME}]: Get subnet state'
              type: DEPENDENT
              key: 'oci.vcn.subnet.state[{#ID}]'
              delay: '0'
              history: 7d
              description: |
                Current state of subnet.
                
              valuemap:
                name: 'Lifecycle state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$..[?(@.id == ''{#ID}'')].state.first()'
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = [
                      	'PROVISIONING',
                      	'AVAILABLE',
                      	'TERMINATING',
                      	'TERMINATED'
                      ].indexOf(value);
                      return idx !== -1 ? idx : 10;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: oci.vcn.subnets.get
              tags:
                - tag: component
                  value: network
                - tag: subnet
                  value: '{#ID}'
          master_item:
            key: oci.vcn.subnets.get
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.state
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
        - macro: '{$OCI.VCN.SUBNET.DISCOVERY.NAME.MATCHES}'
          value: '.*'
          description: 'Sets the regex string of VCN subnet names, to allow for discovery.'
        - macro: '{$OCI.VCN.SUBNET.DISCOVERY.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of VCN subnet names, to ignore for discovery.'
        - macro: '{$OCI.VCN.SUBNET.DISCOVERY.STATE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Sets the regex string of VCN subnet states, to ignore for discovery.'
      valuemaps:
        - uuid: abf7b45647ee4a339df92bf06b12f0df
          name: 'Lifecycle state'
          mappings:
            - value: '0'
              newvalue: Provisioning
            - value: '1'
              newvalue: Available
            - value: '2'
              newvalue: Terminating
            - value: '3'
              newvalue: Terminated
            - value: '4'
              newvalue: Updating
            - value: '10'
              newvalue: Unknown
    - uuid: e8f89476695848e99ba900a5664d290b
      template: 'Oracle Cloud Object Storage by HTTPS'
      name: 'Oracle Cloud Object Storage by HTTPS'
      description: |
        Monitor Oracle Cloud Infrastructure (OCI) object storage resources.
        
        This template is not meant to be used independently, but instead with Oracle Cloud by HTTP as a template for
        LLD host prototypes.
        
        Read the template documentation prior to using this template.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates/Cloud
      items:
        - uuid: 8a216ff99ea84e169ba24305a5501b45
          name: 'OCI Object Storage: Client-side error count'
          type: DEPENDENT
          key: oci.boot.volume.item.client.errors
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The total number of 4xx errors for requests made in a bucket.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ClientErrors
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: 3d41eed5ab23438d9f2a87c48bb3def4
          name: 'OCI Object Storage: First byte latency time'
          type: DEPENDENT
          key: oci.boot.volume.item.latency.byte
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: |
            The per-request time measured from the time Object Storage receives the complete request to when Object Storage returns the first byte of the response.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.FirstByteLatency
            - type: MULTIPLIER
              parameters:
                - '0.001'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: a47bb44ccb35489e965432c332bd8892
          name: 'OCI Object Storage: Overall latency time'
          type: DEPENDENT
          key: oci.boot.volume.item.latency.overall
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: |
            The per-request time from the first byte received by Object Storage to the last byte sent from Object Storage.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.TotalRequestLatency
            - type: MULTIPLIER
              parameters:
                - '0.001'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: 867aa1736d4c40a18a4f660023d117f4
          name: 'OCI Object Storage: Number of objects'
          type: DEPENDENT
          key: oci.boot.volume.item.objects
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The count of objects in the bucket, excluding any multipart upload parts that have not been discarded (aborted) or committed.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ObjectCount
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.obj.storage.metrics.hourly.get
          tags:
            - tag: component
              value: storage
        - uuid: a3d83de1735d4c409192d187d793f7b2
          name: 'OCI Object Storage: All requests count'
          type: DEPENDENT
          key: oci.boot.volume.item.requests
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The total number of all HTTP requests made in a bucket.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.AllRequests
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: 2baef7eb0b1348499eda8fb9fd11e0c8
          name: 'OCI Object Storage: Post object request count'
          type: DEPENDENT
          key: oci.boot.volume.item.requests.post
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The total number of HTTP Post requests made in a bucket.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PostRequests
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: 1853b681b5e64a0f9c172e6166a430ae
          name: 'OCI Object Storage: Put object request count'
          type: DEPENDENT
          key: oci.boot.volume.item.requests.put
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: |
            The total number of PutObject requests made in a bucket.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PutRequests
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: oci.obj.storage.metrics.frequent.get
          tags:
            - tag: component
              value: storage
        - uuid: 61901f89399c413186c9df957760c2d5
          name: 'OCI Object Storage: Bucket size'
          type: DEPENDENT
          key: oci.boot.volume.item.size
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            The size of the bucket, excluding any multipart upload parts that have not been discarded (aborted) or committed.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.StoredBytes
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.obj.storage.metrics.hourly.get
          tags:
            - tag: component
              value: storage
        - uuid: a4dc04db6b294aef865d137e5fdd0dc2
          name: 'OCI Object Storage: Incomplete multipart upload size'
          type: DEPENDENT
          key: oci.boot.volume.item.size.incomplete
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: |
            The size of any multipart upload parts that have not been discarded (aborted) or committed.
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.UncommittedParts
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: oci.obj.storage.metrics.hourly.get
          tags:
            - tag: component
              value: storage
        - uuid: 5463c35f2c48408997532001025989fa
          name: 'OCI Object Storage: Get frequent metrics'
          type: SCRIPT
          key: oci.obj.storage.metrics.frequent.get
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Object storage ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'bucket_name', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_objectstorage',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [
            			dateHeader,
            			bodyHeader,
            			contentTypeHeader,
            			bodyLengthHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'AllRequests[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'ClientErrors[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'FirstByteLatency[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'PostRequests[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'PutRequests[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'TotalRequestLatency[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets all metrics related to specific bucket that have frequent update time (100 milliseconds).
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: bucket_name
              value: '{$OCI.OBJECT.STORAGE.BUCKET}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '1'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: 4a12f1c73e8f40be9136a095ad147775
          name: 'OCI Object Storage: Get hourly metrics'
          type: SCRIPT
          key: oci.obj.storage.metrics.hourly.get
          delay: 1h
          history: '0'
          trends: '0'
          value_type: TEXT
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Object storage ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'bucket_name', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_objectstorage',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [
            			dateHeader,
            			bodyHeader,
            			contentTypeHeader,
            			bodyLengthHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            const mqlQueries = [
            	'ObjectCount[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'StoredBytes[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()',
            	'UncommittedParts[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()'
            ];
            
            var retDataObj = {};
            for (var i = 0; i < mqlQueries.length; i++) {
            	retDataObj[mqlQueries[i].split('[')[0]] = OCI.extractData(OCI.executeRequest(mqlQueries[i]));
            }
            
            return JSON.stringify(retDataObj);
          description: |
            Gets all metrics related to specific bucket that have update time of 1 hour.
            
          timeout: 30s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: bucket_name
              value: '{$OCI.OBJECT.STORAGE.BUCKET}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '60'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: raw
        - uuid: 5bb5ba3011e94e43bb1fdc79668c9537
          name: 'OCI Object Storage: Get enabled object lifecycle management'
          type: SCRIPT
          key: oci.obj.storage.metrics.olm.get
          delay: 3h
          history: 7d
          params: |
            const zabbixLogPrefix = '[ OCI ] [ Object storage ] [ Get metrics ]';
            const params = JSON.parse(value);
            ['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'bucket_name', 'http_status_code', 'req_interval'].forEach(function (field) {
            	if (typeof params !== 'object' || typeof params[field] === 'undefined' || params[field] === '') {
            		throw 'Required param is not set: ' + field + '.';
            	}
            });
            
            const OCI = {
            	request: new HttpRequest(),
            	namespace: 'oci_objectstorage',
            	apiPath: '/20180401/metrics/actions/summarizeMetricsData',
            	apiParams: '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']),
            
            	hash: function (string) {
            		return sha256(string);
            	},
            
            	sign: function (string) {
            		return sign('sha256', params['private_key'], string);
            	},
            
            	encode: function (hash) {
            		const hexArr = hash.match(/.{1,2}/g);
            		var uInt8Array = new Uint8Array(hexArr.length);
            		for (var i = 0; i < hexArr.length; i++) {
            			uInt8Array[i] = parseInt(hexArr[i], 16);
            		}
            		return btoa(uInt8Array);
            	},
            
            	getDate: function () {
            		const weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            		const monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
            		const today = new Date();
            		return weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';
            	},
            
            	executeRequest: function (mql) {
            		var body = JSON.stringify({
            			'namespace': this.namespace,
            			'query': mql
            		});
            
            		const headers = '(request-target) date host x-content-sha256 content-type content-length';
            		const bodyHeader = 'x-content-sha256: ' + OCI.encode(OCI.hash(body));
            		const bodyLengthHeader = 'content-length: ' + body.length;
            		const contentTypeHeader = 'content-type: application/json';
            		const dateHeader = 'date: ' + this.getDate();
            		const hostHeader = 'host: ' + params['api_host'];
            		const requestTarget = '(request-target): post ' + this.apiPath + this.apiParams;
            
            		const signingString = requestTarget + '\n' + dateHeader + '\n' + hostHeader + '\n' + bodyHeader + '\n' + contentTypeHeader + '\n' + bodyLengthHeader;
            		const signature = this.encode(this.sign(signingString));
            
            		const reqHeaders = [
            			dateHeader,
            			bodyHeader,
            			contentTypeHeader,
            			bodyLengthHeader,
            			'Authorization: Signature version="1",keyId="' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '",algorithm="rsa-sha256",headers="' + headers + '",signature="' + signature + '"'
            		];
            
            		for (var i = 0; i < reqHeaders.length; i++) {
            			this.request.addHeader(reqHeaders[i]);
            		}
            
            		if (params['http_proxy']) {
            			this.request.setProxy(params['http_proxy']);
            			Zabbix.log(4, zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);
            		}
            
            		var apiRateLimitExceeded = false;
            		do {
            			const response = this.request.post('https://' + params['api_host'] + this.apiPath + this.apiParams, body);
            			if (JSON.parse(response)['code'] === 'TooManyRequests') {
            				apiRateLimitExceeded = true;
            				Zabbix.sleep(1000);
            			} else {
            				apiRateLimitExceeded = false;
            			}
            		} while (apiRateLimitExceeded);
            
            		this.request.clearHeader();
            
            		if (this.request.getStatus() == params['http_status_code']) {
            			return response
            		} else {
            			Zabbix.log(3, zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());
            			throw 'Unexpected HTTP response code: ' + this.request.getStatus();
            		}
            
            		return response;
            	},
            
            	extractData: function (data) {
            		try {
            			data = JSON.parse(data);
            
            			if (data.length === 0) {
            				return 0;
            			}
            			data = data[0]['aggregatedDatapoints'];
            			return data[data.length - 1]['value'];
            		} catch (error) {
            			Zabbix.log(3, zabbixLogPrefix + ' Received an unexpected JSON object: ' + JSON.stringify(data));
            			throw 'Received an unexpected JSON object. See logs for more information.';
            		}
            	}
            };
            
            return JSON.stringify(OCI.extractData(OCI.executeRequest('EnabledOLM[' + params['req_interval'] + 'm]{resourceDisplayName=' + params['bucket_name'] + '}.mean()')));
          description: |
            Indicates whether a bucket has any executable Object Lifecycle Management policies configured. EnabledOLM emits:
            
                1 if policies are configured
                0 if no policies are configured
            
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          timeout: 10s
          parameters:
            - name: api_host
              value: '{$OCI.API.TELEMETRY.HOST}'
            - name: bucket_name
              value: '{$OCI.OBJECT.STORAGE.BUCKET}'
            - name: fingerprint
              value: '{$OCI.API.FINGERPRINT}'
            - name: http_proxy
              value: '{$OCI.HTTP.PROXY}'
            - name: http_status_code
              value: '{$OCI.HTTP.RETURN.CODE.OK}'
            - name: private_key
              value: '{$OCI.API.PRIVATE.KEY}'
            - name: req_interval
              value: '180'
            - name: tenancy_ocid
              value: '{$OCI.API.TENANCY}'
            - name: user_ocid
              value: '{$OCI.API.USER}'
          tags:
            - tag: component
              value: storage
          triggers:
            - uuid: 5d9652a8736247c2bcac15cf02012824
              expression: 'last(/Oracle Cloud Object Storage by HTTPS/oci.obj.storage.metrics.olm.get,#1)<>last(/Oracle Cloud Object Storage by HTTPS/oci.obj.storage.metrics.olm.get,#2) and length(last(/Oracle Cloud Object Storage by HTTPS/oci.obj.storage.metrics.olm.get))>0'
              name: 'OCI Object Storage: Object lifecycle management policy has changed'
              priority: INFO
              description: 'Object lifecycle management policy configuration has changed.'
              tags:
                - tag: scope
                  value: notice
      tags:
        - tag: class
          value: cloud
        - tag: target
          value: oci
        - tag: target
          value: oracle-cloud-infrastructure
      macros:
        - macro: '{$OCI.HTTP.PROXY}'
          description: 'Set HTTP proxy for OCI API requests if needed.'
        - macro: '{$OCI.HTTP.RETURN.CODE.OK}'
          value: '200'
          description: |
            Set HTTP return code that represents OK response from API. Default "200", but can vary, for example, if proxy is used.
            
      dashboards:
        - uuid: 6dd3714db62046249cf3ff50a09091e2
          name: 'OCI Object Storage: Overview'
          pages:
            - name: Overview
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Overall latency time'
                  width: '10'
                  height: '5'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Overall Latency Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.latency.overall
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Bucket Size'
                  'y': '5'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Bucket Size'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.size
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Client-side error count'
                  'y': '8'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Client-side Error Count'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.client.errors
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Number of objects'
                  x: '5'
                  'y': '5'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 00D936
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Number of Objects'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.objects
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Incomplete multipart upload size'
                  x: '5'
                  'y': '8'
                  width: '5'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: FF0000
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Incomplete Multipart Upload Size'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.size.incomplete
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'First byte latency time'
                  x: '10'
                  width: '10'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'First Byte Latency Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.latency.byte
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'All requests'
                  x: '10'
                  'y': '3'
                  width: '6'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'All Requests'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.requests
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: Requests
                  x: '10'
                  'y': '6'
                  width: '14'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        name: 'OCI Object Storage: Requests'
                - type: ITEM
                  name: 'Post object requests'
                  x: '16'
                  'y': '3'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Post Object Requests'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.requests.post
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'OLM status'
                  x: '20'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'OLM Status'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.obj.storage.metrics.olm.get
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: ITEM
                  name: 'Put object requests'
                  x: '20'
                  'y': '3'
                  width: '4'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Post Object Requests'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.requests.post
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
            - name: Latency
              display_period: '30'
              widgets:
                - type: ITEM
                  name: 'Overall latency time'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'Overall Latency Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.latency.overall
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'Overall latency'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        name: 'OCI Object Storage: Overall latency'
                - type: ITEM
                  name: 'First byte latency time'
                  x: '12'
                  width: '12'
                  height: '3'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 6C00D9
                    - type: INTEGER
                      name: decimal_size
                      value: '45'
                    - type: STRING
                      name: description
                      value: 'First Byte Latency Time'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        key: oci.boot.volume.item.latency.byte
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: STRING
                      name: units_color
                      value: FFFFFF
                    - type: INTEGER
                      name: units_size
                      value: '25'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                - type: GRAPH_CLASSIC
                  name: 'First byte latency'
                  x: '12'
                  'y': '3'
                  width: '12'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Oracle Cloud Object Storage by HTTPS'
                        name: 'OCI Object Storage: First byte latency'
  graphs:
    - uuid: 97956d8f4b084cf38c8e46c842e806f5
      name: 'OCI Autonomous DB: Connection latency'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.latency.conn
    - uuid: adcd338dbf2746c980929932575ed953
      name: 'OCI Autonomous DB: CPU time'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.cpu.time
    - uuid: 1324dac0566447fa9ae3808fb79a65e1
      name: 'OCI Autonomous DB: CPU utilization'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.cpu.util
    - uuid: 14ffe3b6eb084fdeac6cbdefdb356a3b
      name: 'OCI Autonomous DB: DB time'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.time
    - uuid: 464902ef122a438bba519071f29df0c8
      name: 'OCI Autonomous DB: Execute count'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.exec.count
    - uuid: 71a7e76a9bc34cc58abd77ef76d9ed4a
      name: 'OCI Autonomous DB: Logical reads session'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.logical.reads.session
    - uuid: a23cf1625b5d4f6c848a6f7236dbeb6b
      name: 'OCI Autonomous DB: Parse count failures'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.parse.count.failed
    - uuid: e13b6b26310d4954a2df15244a7b2de9
      name: 'OCI Autonomous DB: Parse count hard'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.parse.count.hard
    - uuid: 75997227333c46de87199c0247d5bdb5
      name: 'OCI Autonomous DB: Parse count total'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.parse.count.total
    - uuid: e160cc5a9e22404a91e2bdcc33e22108
      name: 'OCI Autonomous DB: Physical read/write total bytes'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.physical.read.bytes
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.physical.write.bytes
    - uuid: 2def3ab2a81a4b6abfb2b209f134c1af
      name: 'OCI Autonomous DB: Physical reads/writes'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.physical.reads
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.physical.writes
    - uuid: fd5d001fb93a409db9ebfdc66d0a8861
      name: 'OCI Autonomous DB: Query latency'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.latency.query
    - uuid: c03100979bbf485dbd5c36900ec73469
      name: 'OCI Autonomous DB: Session stats'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.sessions
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.conn.failed
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.logons
        - sortorder: '3'
          color: F7941D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.logons.failed
    - uuid: e8f1cdda63e44ca9a5b73bbd8c55ffa0
      name: 'OCI Autonomous DB: SQL*Net client bytes'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.sqlnet.bytes.recv.client
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.sqlnet.bytes.sent.client
    - uuid: c485b41073d341a98e5aa239fc7afd21
      name: 'OCI Autonomous DB: SQL*Net DBLink bytes'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.sqlnet.bytes.recv.dblink
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.sqlnet.bytes.sent.dblink
    - uuid: 8adb6f1a0b3242be8142fc62370db900
      name: 'OCI Autonomous DB: Statements'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.statements.running
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.queued.statements
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.transaction.count
    - uuid: 2579982f4501490283fe2cbcf90330f0
      name: 'OCI Autonomous DB: Storage stats'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.storage.space.max
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.storage.space.alloc
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.storage.space.used
    - uuid: d96a821b6e6e4557a40e87246d2ffdfe
      name: 'OCI Autonomous DB: Storage utilization'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.storage.space.util
    - uuid: 3040bdaf0f8c49a68b80dbe60f8f9c9a
      name: 'OCI Autonomous DB: User calls'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.user.calls
    - uuid: 2620ae19fd7243d2ac37daabf9dbce46
      name: 'OCI Autonomous DB: User commits'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.user.commits
    - uuid: 1e5d6a326c7e45cb83f7689c9a4bfce1
      name: 'OCI Autonomous DB: User rollbacks'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.user.rollbacks
    - uuid: 3d55d19a57b34764a5f5cdc364204849
      name: 'OCI Autonomous DB: Wait time'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Autonomous Database by HTTPS'
            key: oci.aut.db.wait.time
    - uuid: 68f6c72e67f947b29f879b89a205d59c
      name: 'OCI Block Volume: Operations'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.read.ops
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.write.ops
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.throttled.ops
        - sortorder: '3'
          color: F7941D
          yaxisside: RIGHT
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.iops
    - uuid: 16076dfa25244b5093e8985ca2e3f18c
      name: 'OCI Block Volume: Throughput'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.read
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.write
        - sortorder: '2'
          color: 00611C
          yaxisside: RIGHT
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.throughput
    - uuid: 6078da9c1eb249548536663e57e7743c
      name: 'OCI Block Volume: VPUs/GB'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Block Volume by HTTPS'
            key: oci.block.volume.item.vpu
    - uuid: 265e1b5e20084bfb9ab272996915b45d
      name: 'OCI Boot Volume: Operations'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.read.ops
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.write.ops
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.throttled.ops
        - sortorder: '3'
          color: F7941D
          yaxisside: RIGHT
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.iops
    - uuid: 7e8aa92414d5431f80fdb1d1981d25f9
      name: 'OCI Boot Volume: Throughput'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.read
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.write
        - sortorder: '2'
          color: 00611C
          yaxisside: RIGHT
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.throughput
    - uuid: fdfb060d0823480abe77581503f82a96
      name: 'OCI Boot Volume: VPUs/GB'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Boot Volume by HTTPS'
            key: oci.boot.volume.item.vpu
    - uuid: 70f0b43207cd4e28bf93e0b41ad45a10
      name: 'OCI Compute: Cpu utilization'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.cpu.util
    - uuid: 944bf71570b549ce8682d3f1beea5c57
      name: 'OCI Compute: Disk bytes read'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.disk.read
    - uuid: 39ece65d2b2b402abee59432cc3a3cea
      name: 'OCI Compute: Disk bytes read I/O'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.disk.io.read
    - uuid: f073ce71549946509fe9f021b3c2d2e9
      name: 'OCI Compute: Disk bytes write I/O'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.disk.io.write
    - uuid: 784735022c1e40fc9cf7d065e95124f3
      name: 'OCI Compute: Disk bytes written'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.disk.written
    - uuid: 9f4a1426c49f47bfade03875a6af0a60
      name: 'OCI Compute: Memory allocation stalls'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.mem.stalls
    - uuid: db9ad56d9e334de0a3ba7f6c3862fb76
      name: 'OCI Compute: Memory utilization'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.mem.util
    - uuid: 609ba54782934bb8b60696588bf57038
      name: 'OCI Compute: Network bytes in'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.network.in
    - uuid: 807729ba0afb4710a33307286d5c027a
      name: 'OCI Compute: Network bytes out'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Compute by HTTPS'
            key: oci.compute.network.out
    - uuid: fa3fab6874614a3cbea45dee87660253
      name: 'OCI Object Storage: Bucket size'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.size
        - sortorder: '1'
          color: F63100
          yaxisside: RIGHT
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.objects
    - uuid: 2c32d269e0274b26a40b0b5069abda7c
      name: 'OCI Object Storage: Client-side error count'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.client.errors
    - uuid: 445af3dbf17e4046b5350fd1b4b3734b
      name: 'OCI Object Storage: First byte latency'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.latency.byte
    - uuid: 15fb3f080d6244a48d1a7c98f69a2793
      name: 'OCI Object Storage: Incomplete multipart upload size'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.size.incomplete
    - uuid: 0f71c9aa038d437fa28312c58d417ad1
      name: 'OCI Object Storage: Overall latency'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.latency.overall
    - uuid: 49c9abb27e194d1788ee1c62688ff57b
      name: 'OCI Object Storage: Requests'
      graph_items:
        - color: 199C0D
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.requests
        - sortorder: '1'
          color: F63100
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.requests.post
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Oracle Cloud Object Storage by HTTPS'
            key: oci.boot.volume.item.requests.put
