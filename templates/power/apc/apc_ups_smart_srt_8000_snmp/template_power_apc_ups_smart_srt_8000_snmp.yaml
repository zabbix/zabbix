zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 3dcd5bbe90534f9e8eb5c2d53756af63
      name: Templates/Power
  templates:
    - uuid: b3caafda8c5345cc832ac3be3cefa615
      template: 'APC Smart-UPS SRT 8000 by SNMP'
      name: 'APC Smart-UPS SRT 8000 by SNMP'
      description: |
        Template Power APC Smart-UPS SRT 8000
        
        MIBs used:
        HOST-RESOURCES-MIB
        PowerNet-MIB
        SNMPv2-MIB
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/420730-discussion-thread-for-official-zabbix-template-apc-ups
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.4-1
      groups:
        - name: Templates/Power
      items:
        - uuid: c4f4a85105f24292a3b566d0d1bcc090
          name: 'Battery capacity'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.1.0]'
          key: 'battery.capacity[upsHighPrecBatteryCapacity]'
          value_type: FLOAT
          units: '%'
          description: |
            MIB: PowerNet-MIB
            The remaining battery capacity expressed as
             percentage of full capacity.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
          triggers:
            - uuid: 92e6a65ffc6d4a6bae62303ee2796580
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/battery.capacity[upsHighPrecBatteryCapacity]) < {$BATTERY.CAPACITY.MIN.WARN}'
              name: 'APC Smart-UPS: Battery has low capacity'
              event_name: 'APC Smart-UPS: Battery has low capacity (below {$BATTERY.CAPACITY.MIN.WARN}%)'
              opdata: 'Current capacity: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: capacity
        - uuid: 7d7c2b962e9843b8a6cf72c04ff1e479
          name: 'External battery packs count'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.2.5.0]'
          key: 'battery.external_packs_count[upsAdvBatteryNumOfBattPacks]'
          delay: 1h
          description: |
            MIB: PowerNet-MIB
            The number of external battery packs connected to the UPS. If
             the UPS does not use smart cells then the agent reports
             ERROR_NO_SUCH_NAME.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: inventory
        - uuid: 552e030c272d43a0998bc2648f15ae44
          name: 'Battery last replace date'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.1.3.0]'
          key: 'battery.last_replace_date[upsBasicBatteryLastReplaceDate]'
          delay: 1h
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            The date when the UPS system's batteries were last replaced
             in mm/dd/yy (or yyyy) format. For Smart-UPS models, this value
             is originally set at the factory. When the UPS batteries
             are replaced, this value should be reset by the administrator.
             For Symmetra PX 250/500 this OID is read-only and is configurable in the local display only.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: inventory
        - uuid: 4cdd4bbff845477194a6d96a31431d23
          name: 'Battery replace indicator'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.2.4.0]'
          key: 'battery.replace_indicator[upsAdvBatteryReplaceIndicator]'
          description: |
            MIB: PowerNet-MIB
            Indicates whether the UPS batteries need replacement.
          valuemap:
            name: 'PowerNet-MIB::upsAdvBatteryReplaceIndicator'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
          triggers:
            - uuid: 0e8030c0028144728361153c2b47016b
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/battery.replace_indicator[upsAdvBatteryReplaceIndicator])=2'
              name: 'APC Smart-UPS: Battery needs replacement'
              priority: HIGH
              description: 'A battery installed has an internal error condition.'
              tags:
                - tag: scope
                  value: notice
        - uuid: ae8a19896d21405ca99a5bfbd5de1f95
          name: 'Battery runtime remaining'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.2.3.0]'
          key: 'battery.runtime_remaining[upsAdvBatteryRunTimeRemaining]'
          value_type: FLOAT
          units: s
          description: |
            MIB: PowerNet-MIB
            The UPS battery run time remaining before battery
             exhaustion.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
        - uuid: ceed5ddfc9964aabaebb0b97875b1bd9
          name: 'Battery status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.1.1.0]'
          key: 'battery.status[upsBasicBatteryStatus]'
          description: |
            MIB: PowerNet-MIB
            The status of the UPS batteries. A batteryLow(3) value
             indicates the UPS will be unable to sustain the current
             load, and its services will be lost if power is not restored.
             The amount of run time in reserve at the time of low battery
             can be configured by the upsAdvConfigLowBatteryRunTime.
             A batteryInFaultCondition(4)value indicates that a battery
             installed has an internal error condition.
          valuemap:
            name: 'PowerNet-MIB::upsBasicBatteryStatus'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: power
          triggers:
            - uuid: cf186014cfd94ccbad3cc4cbd22b6aa1
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/battery.status[upsBasicBatteryStatus])=4'
              name: 'APC Smart-UPS: Battery has an internal error condition'
              priority: AVERAGE
              description: 'A battery installed has an internal error condition.'
              tags:
                - tag: scope
                  value: notice
            - uuid: e1957ee82be847e7bfb171560fc59293
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/battery.status[upsBasicBatteryStatus])=3'
              name: 'APC Smart-UPS: Battery is Low'
              priority: AVERAGE
              description: 'The UPS will be unable to sustain the current load, and its services will be lost if power is not restored.'
              tags:
                - tag: scope
                  value: capacity
        - uuid: 533041b6831c451cb72991d3fdeca535
          name: 'Battery temperature'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.2.0]'
          key: 'battery.temperature[upsHighPrecBatteryTemperature]'
          value_type: FLOAT
          units: ℃
          description: |
            MIB: PowerNet-MIB
            The current internal UPS temperature in Celsius.
            Temperatures below zero read as 0.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: temperature
          triggers:
            - uuid: 1e883961b65e445997c57870734a58ca
              expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/battery.temperature[upsHighPrecBatteryTemperature],{$TIME.PERIOD}) > {$BATTERY.TEMP.MAX.WARN}'
              name: 'APC Smart-UPS: Battery has high temperature'
              event_name: 'APC Smart-UPS: Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})'
              opdata: 'Current temperature: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
        - uuid: fa8256c826954defa82083ddc742624e
          name: 'Battery voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.4.0]'
          key: 'battery.voltage[upsHighPrecBatteryActualVoltage]'
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The actual battery bus voltage in Volts.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
        - uuid: 07754bb421d0435995abbc49d4597908
          name: 'Input fail cause'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.3.2.5.0]'
          key: 'input.fail[upsAdvInputLineFailCause]'
          description: |
            MIB: PowerNet-MIB
            The reason for the occurrence of the last transfer to UPS
            battery power.  The variable is set to:
            - noTransfer(1) -- if there is no transfer yet.
            - highLineVoltage(2) -- if the transfer to battery is caused
            by an over voltage greater than the high transfer voltage.
            - brownout(3) -- if the duration of the outage is greater than
            five seconds and the line voltage is between 40% of the
            rated output voltage and the low transfer voltage.
            - blackout(4) -- if the duration of the outage is greater than five
            seconds and the line voltage is between 40% of the rated
            output voltage and ground.
            - smallMomentarySag(5) -- if the duration of the outage is less
            than five seconds and the line voltage is between 40% of the
            rated output voltage and the low transfer voltage.
            - deepMomentarySag(6) -- if the duration of the outage is less
            than five seconds and the line voltage is between 40% of the
            rated output voltage and ground.  The variable is set to
            - smallMomentarySpike(7) -- if the line failure is caused by a
            rate of change of input voltage less than ten volts per cycle.
            - largeMomentarySpike(8) -- if the line failure is caused by
            a rate of change of input voltage greater than ten volts per cycle.
            - selfTest(9) -- if the UPS was commanded to do a self test.
            - rateOfVoltageChange(10) -- if the failure is due to the rate of change of
            the line voltage.
          valuemap:
            name: 'PowerNet-MIB::upsAdvInputLineFailCause'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
        - uuid: 7574344f67544554804c4c68e39d3d72
          name: 'Input frequency'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.3.3.4.0]'
          key: 'input.frequency[upsHighPrecInputFrequency]'
          value_type: FLOAT
          units: Hz
          description: |
            MIB: PowerNet-MIB
            The current input frequency to the UPS system in Hz.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
          triggers:
            - uuid: b9a134c942da46ffba1acdf85a7832e4
              expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) > 0 and (min(/APC Smart-UPS SRT 8000 by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) > {$UPS.INPUT_FREQ.MAX.WARN} or max(/APC Smart-UPS SRT 8000 by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) < {$UPS.INPUT_FREQ.MIN.WARN})'
              name: 'APC Smart-UPS: Unacceptable input frequency'
              event_name: 'APC Smart-UPS: Unacceptable input frequency (out of range {$UPS.INPUT_FREQ.MIN.WARN}-{$UPS.INPUT_FREQ.MAX.WARN}Hz for {$TIME.PERIOD})'
              opdata: 'Current frequency: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
        - uuid: c69418651f75413e95645c62fa3fee7f
          name: 'Input voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.3.3.1.0]'
          key: 'input.voltage[upsHighPrecInputLineVoltage]'
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The current utility line voltage in VAC.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
          triggers:
            - uuid: 694ab76079b1447b99ef510d80faab6a
              expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) > 0 and (min(/APC Smart-UPS SRT 8000 by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) > {$UPS.INPUT_VOLT.MAX.WARN} or max(/APC Smart-UPS SRT 8000 by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) < {$UPS.INPUT_VOLT.MIN.WARN})'
              name: 'APC Smart-UPS: Unacceptable input voltage'
              event_name: 'APC Smart-UPS: Unacceptable input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
              opdata: 'Current voltage: {ITEM.LASTVALUE1}'
              priority: HIGH
              tags:
                - tag: scope
                  value: notice
        - uuid: e4d76d857c4e46fd9b0e97405b17988a
          name: 'Output current'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.4.3.4.0]'
          key: 'output.current[upsHighPrecOutputCurrent]'
          value_type: FLOAT
          units: A
          description: |
            MIB: PowerNet-MIB
            The current in amperes drawn by the load on the UPS.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
        - uuid: 0413f6ef89894dc6ba51e42f6a963f94
          name: 'Output load'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.4.3.3.0]'
          key: 'output.load[upsHighPrecOutputLoad]'
          value_type: FLOAT
          units: '%'
          description: |
            MIB: PowerNet-MIB
            The current UPS load expressed as percentage
            of rated capacity.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
          triggers:
            - uuid: 68f92026e7b345c88bf4aa679f9b642c
              expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/output.load[upsHighPrecOutputLoad],{$TIME.PERIOD}) > {$UPS.OUTPUT.MAX.WARN}'
              name: 'APC Smart-UPS: Output load is high'
              event_name: 'APC Smart-UPS: Output load is high (over {$UPS.OUTPUT.MAX.WARN}% for {$TIME.PERIOD})'
              opdata: 'Current load: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'A battery installed has an internal error condition.'
              tags:
                - tag: scope
                  value: notice
        - uuid: 11c1742beed041999375e5a1ede42546
          name: 'Output status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.4.1.1.0]'
          key: 'output.status[upsBasicOutputStatus]'
          description: |
            MIB: PowerNet-MIB
            The current state of the UPS. If the UPS is unable to
             determine the state of the UPS this variable is set
             to unknown(1).
            During self-test most UPSes report onBattery(3) but
             some that support it will report onBatteryTest(15).
             To determine self-test status across all UPSes, refer
             to the upsBasicStateOutputState OID.
          valuemap:
            name: 'PowerNet-MIB::upsBasicOutputStatus'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: power
          triggers:
            - uuid: 9952679fada845228bbbf05bcdada305
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=16'
              name: 'APC Smart-UPS: UPS is Emergency Static Bypass'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: ee306606159f4930bcf580b5084c846a
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=10'
              name: 'APC Smart-UPS: UPS is Hardware Failure Bypass'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: c4623dc4c6ae4c5b9ff4bdf4f43ed8b2
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=7'
              name: 'APC Smart-UPS: UPS is Off'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 26c0b9b62d864c1ead7b16e0076a7226
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=3'
              name: 'APC Smart-UPS: UPS is on battery'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 5c8408069c03421cb60b388451869b6f
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=4'
              name: 'APC Smart-UPS: UPS is on Smart Boost'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 156c5260ed4444c19313ba491ce9352c
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=12'
              name: 'APC Smart-UPS: UPS is On Smart Trim'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: c233bc86198140659ec3dd609c94ec94
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=8'
              name: 'APC Smart-UPS: UPS is Rebooting'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 944e49d1b6d44adc8d720bd689d8c8cf
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=11'
              name: 'APC Smart-UPS: UPS is Sleeping Until Power Return'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 9b376dbd2d614878b681b42bb2c7fe4d
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=6'
              name: 'APC Smart-UPS: UPS is Software Bypass'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 499ac46836c1454dad3c1ffc5714c073
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=9'
              name: 'APC Smart-UPS: UPS is Switched Bypass'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
            - uuid: 8a0a5af39647494681e52595d179c336
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/output.status[upsBasicOutputStatus])=5'
              name: 'APC Smart-UPS: UPS is Timed Sleeping'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: notice
        - uuid: 07059c625de94e618925249492982fb7
          name: 'Output voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.4.3.1.0]'
          key: 'output.voltage[upsHighPrecOutputVoltage]'
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The output voltage of the UPS system in VAC.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: power
        - uuid: ae4579b14c424c0492acbfcb5aa5dd67
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          value_type: LOG
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: e4995e72f6b442bd9b8c90f09eb54f16
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: 'system.contact[sysContact.0]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed
            node, together with information on how to contact this person.  If no contact
            information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 13d3c18413a249d492272a7373ebd772
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 4e8b6d6a5aa24159b048d1cf28e9418a
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.25.1.1.0]'
          key: 'system.hw.uptime[hrSystemUptime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 25aa469a757347089191eb8e364d4df9
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: 'system.location[sysLocation.0]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 57f3c4c2aff04eef83b7a7a53fa9f95c
          name: Model
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.1.1.1.0]'
          key: 'system.model[upsBasicIdentModel]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            The UPS model name (e.g. 'APC Smart-UPS 600').
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: inventory
        - uuid: 13c26820947442f581c2234c38c052cc
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: 'system.name[sysName.0]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 852083234a55441aa2fa57b202227bef
              expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/system.name[sysName.0],#1)<>last(/APC Smart-UPS SRT 8000 by SNMP/system.name[sysName.0],#2) and length(last(/APC Smart-UPS SRT 8000 by SNMP/system.name[sysName.0]))>0'
              name: 'APC Smart-UPS: System name has changed'
              event_name: 'APC Smart-UPS: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: 320bdbfd8076411bb1dd63fccddec126
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: 'system.net.uptime[sysUpTime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: b59b3801f5584321a1fca9bdb466f191
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.2.0]'
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 63852531159c44f1beca7facd8f93fa2
          name: 'Serial number'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.1.2.3.0]'
          key: 'system.sn[upsAdvIdentSerialNumber]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            An 8-character string identifying the serial number of
             the UPS internal microprocessor.  This number is set at
             the factory.  NOTE: This number does NOT correspond to
             the serial number on the rear of the UPS.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: inventory
        - uuid: 567996748402435d80aae37818d4125e
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible values:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 9a0cb26712c14045a18a0e86de4cdd54
              expression: 'max(/APC Smart-UPS SRT 8000 by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'APC Smart-UPS: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 912994ce460742ebbb91c89d28d87d73
          name: 'External bad battery packs discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_PACKS},1.3.6.1.4.1.318.1.1.1.2.2.6]'
          key: battery.packs.bad.discovery
          delay: 1h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#EXTERNAL_PACKS}'
                value: '-1'
                operator: NOT_MATCHES_REGEX
          description: 'Discovery of the number of external defective battery packs.'
          item_prototypes:
            - uuid: e74988ed369b429893ca495a57ae9a52
              name: '{#SNMPINDEX}: External battery packs bad'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.2.6.0]'
              key: 'battery.external_packs_bad[upsAdvBatteryNumOfBadBattPacks.{#SNMPINDEX}]'
              delay: 15m
              description: |
                MIB: PowerNet-MIB
                The number of external battery packs connected to the UPS that
                are defective. If the UPS does not use smart cells then the
                agent reports ERROR_NO_SUCH_NAME.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: inventory
        - uuid: abfe041a98dc4023b21ec6d9e829a94a
          name: 'External battery packs discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#CARTRIDGE_STATUS},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7,{#BATTERY_PACK},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.1,{#CARTRIDGE_INDEX},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.2]'
          key: battery.packs.discovery
          delay: 1h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#CARTRIDGE_STATUS}'
                value: ^$
                operator: NOT_MATCHES_REGEX
          item_prototypes:
            - uuid: b3835f9b8e9c41c98a747c37feaedb50
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery estimated replace date'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.8.{#SNMPINDEX}]'
              key: 'battery.estimated_replace_date[upsHighPrecBatteryPackCartridgeReplaceDate.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              delay: 1h
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery cartridge estimated battery replace date.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: inventory
                - tag: component
                  value: power
            - uuid: 820d8eda050b41a3a9ba2889e290a28a
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery pack cartridge health'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7.{#SNMPINDEX}]'
              key: 'battery.pack.cartridge_health[upsHighPrecBatteryPackCartridgeHealth.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery cartridge health.
                  bit 0 Battery lifetime okay
                  bit 1 Battery lifetime near end, order replacement cartridge
                  bit 2 Battery lifetime exceeded, replace battery
                  bit 3 Battery lifetime near end acknowledged, order replacement cartridge
                  bit 4 Battery lifetime exceeded acknowledged, replace battery
                  bit 5 Battery measured lifetime near end, order replacement cartridge
                  bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: health
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 2d9c4ef006994ebea581b895424203f3
                  expression: 'find(/APC Smart-UPS SRT 8000 by SNMP/battery.pack.cartridge_health[upsHighPrecBatteryPackCartridgeHealth.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],,"regexp","^(0)[0|1]{15}$")=1'
                  name: 'APC Smart-UPS: {#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery lifetime is not okay'
                  opdata: 'Current bit set: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: |
                    The battery cartridge health.
                      bit 0 Battery lifetime okay
                      bit 1 Battery lifetime near end, order replacement cartridge
                      bit 2 Battery lifetime exceeded, replace battery
                      bit 3 Battery lifetime near end acknowledged, order replacement cartridge
                      bit 4 Battery lifetime exceeded acknowledged, replace battery
                      bit 5 Battery measured lifetime near end, order replacement cartridge
                      bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge
                  tags:
                    - tag: scope
                      value: notice
            - uuid: cf709f051aa242799cf14ba923d9a0c0
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.10.{#SNMPINDEX}]'
              key: 'battery.pack.status[upsHighPrecBatteryPackCartridgeStatus.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The status of the UPS batteries. A batteryLow(3) value
                 indicates the UPS will be unable to sustain the current
                 load, and its services will be lost if power is not restored.
                 The amount of run time in reserve at the time of low battery
                 can be configured by the upsAdvConfigLowBatteryRunTime.
                 A batteryInFaultCondition(4)value indicates that a battery
                 installed has an internal error condition.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: health
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 5358b97f94aa47f59351be88673407a0
                  expression: 'find(/APC Smart-UPS SRT 8000 by SNMP/battery.pack.status[upsHighPrecBatteryPackCartridgeStatus.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],,"regexp","^(0{16})$")=0'
                  name: 'APC Smart-UPS: {#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status is not okay'
                  opdata: 'Current bit set: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: |
                    The battery cartridge status:
                    bit 0 Disconnected
                    bit 1 Overvoltage
                    bit 2 NeedsReplacement
                    bit 3 OvertemperatureCritical
                    bit 4 Charger
                    bit 5 TemperatureSensor
                    bit 6 BusSoftStart
                    bit 7 OvertemperatureWarning
                    bit 8 GeneralError
                    bit 9 Communication
                    bit 10 DisconnectedFrame
                    bit 11 FirmwareMismatch
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 99c570ed628343e99ac086167cec51ee
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.5.{#SNMPINDEX}]'
              key: 'battery.temperature[upsHighPrecBatteryPackTemperature.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The current internal UPS temperature in Celsius.
                Temperatures below zero read as 0.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: b88678e600694bc19ebaf57472d8658f
                  expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/battery.temperature[upsHighPrecBatteryPackTemperature.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],{$TIME.PERIOD}) > {$BATTERY.TEMP.MAX.WARN}'
                  name: 'APC Smart-UPS: {#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery has high temperature'
                  event_name: 'APC Smart-UPS: {#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})'
                  opdata: 'Current temperature: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 597b33ec3d4c4f79bc0acc36edaa6dec
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Serial number'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.4.{#SNMPINDEX}]'
              key: 'system.sn[upsHighPrecBatteryPackSerialNumber.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              delay: 15m
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                An 8-character string identifying the serial number of
                 the UPS internal microprocessor.  This number is set at
                 the factory.  NOTE: This number does NOT correspond to
                 the serial number on the rear of the UPS.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: inventory
        - uuid: 52e5451d8c7a41478ef9dde6a3c16378
          name: 'External sensor port 1 discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_SENSOR1_NAME},1.3.6.1.4.1.318.1.1.25.1.2.1.3]'
          key: external.sensor1.discovery
          delay: 1h
          description: uioSensorStatusTable
          item_prototypes:
            - uuid: 418b37fbca594f6288eeccdbe272bad7
              name: '{#EXTERNAL_SENSOR1_NAME}: Humidity sensor'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.1.7.{#SNMPINDEX}]'
              key: 'external.sensor.humidity[uioSensorStatusHumidity.1.{#SNMPINDEX}]'
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The sensor's current humidity reading - a relative humidity
                 percentage. -1 indicates an invalid reading due to either a
                 sensor that doesn't read humidity or lost communications.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: humidity
                - tag: component
                  value: power
            - uuid: 53102fe478cf47bd9fbe5240aab7cf65
              name: '{#EXTERNAL_SENSOR1_NAME}: Sensor alarm status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.1.9.{#SNMPINDEX}]'
              key: 'external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}]'
              description: |
                MIB: PowerNet-MIB
                The alarm status of the sensor. Possible values:
                uioNormal                 (1),
                uioWarning                (2),
                uioCritical               (3),
                sensorStatusNotApplicable (4)
              valuemap:
                name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: health
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 33f4ac80a8d44752b97bc4f885a8c95f
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=3'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR1_NAME}: Sensor has status Critical'
                  priority: HIGH
                  description: 'The external sensor has returned a value greater than the critical threshold.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 1a2080a561394f8c8a0dc639cbf2c812
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=4'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR1_NAME}: Sensor has status Not Applicable'
                  priority: INFO
                  description: 'The external sensor does not work or is not connected.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: a53d5dd33e8548d5bcb73ffb936af910
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=2'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR1_NAME}: Sensor has status Warning'
                  priority: AVERAGE
                  description: 'The external sensor has returned a value greater than the warning threshold.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 0f44bfc0e17b47919e83246046209bbf
              name: '{#EXTERNAL_SENSOR1_NAME}: Temperature sensor'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.1.6.{#SNMPINDEX}]'
              key: 'external.sensor.temperature[uioSensorStatusTemperatureDegC.1.{#SNMPINDEX}]'
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The sensor's current temperature reading in Celsius.
                 -1 indicates an invalid reading due to lost communications.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
                - tag: component
                  value: temperature
          overrides:
            - name: Temp
              step: '1'
              filter:
                conditions:
                  - macro: '{#EXTERNAL_SENSOR1_NAME}'
                    value: Temp
              operations:
                - operator: LIKE
                  value: Humidity
                  discover: NO_DISCOVER
        - uuid: 39f516180a1b4727907b1e2974111fe1
          name: 'External sensor port 2 discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_SENSOR2_NAME},1.3.6.1.4.1.318.1.1.25.1.2.2.3]'
          key: external.sensor2.discovery
          delay: 1h
          description: uioSensorStatusTable
          item_prototypes:
            - uuid: 2263b22a266a4db091f05522a024a1e4
              name: '{#EXTERNAL_SENSOR2_NAME}: Humidity sensor'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.2.7.{#SNMPINDEX}]'
              key: 'external.sensor.humidity[uioSensorStatusHumidity.2.{#SNMPINDEX}]'
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The sensor's current humidity reading - a relative humidity
                 percentage. -1 indicates an invalid reading due to either a
                 sensor that doesn't read humidity or lost communications.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: humidity
                - tag: component
                  value: power
            - uuid: b7af85f894194cf39c369fcba0401cc5
              name: '{#EXTERNAL_SENSOR2_NAME}: Sensor alarm status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.2.9.{#SNMPINDEX}]'
              key: 'external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}]'
              description: |
                MIB: PowerNet-MIB
                The alarm status of the sensor. Possible values:
                uioNormal                 (1),
                uioWarning                (2),
                uioCritical               (3),
                sensorStatusNotApplicable (4)
              valuemap:
                name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: health
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 9247973676c44377a4fa550990384eeb
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=3'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR2_NAME}: Sensor has status Critical'
                  priority: HIGH
                  description: 'The external sensor has returned a value greater than the critical threshold.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 6b054505c2704c8d8e38b096885bbbe5
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=4'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR2_NAME}: Sensor has status Not Applicable'
                  priority: INFO
                  description: 'The external sensor does not work or is not connected.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: f56f165d71084b75a716d04337f5fcb1
                  expression: 'last(/APC Smart-UPS SRT 8000 by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=2'
                  name: 'APC Smart-UPS: {#EXTERNAL_SENSOR2_NAME}: Sensor has status Warning'
                  priority: AVERAGE
                  description: 'The external sensor has returned a value greater than the warning threshold.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 84af771eee61470d9a61cede04718d88
              name: '{#EXTERNAL_SENSOR2_NAME}: Temperature sensor'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.25.1.2.2.6.{#SNMPINDEX}]'
              key: 'external.sensor.temperature[uioSensorStatusTemperatureDegC.2.{#SNMPINDEX}]'
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The sensor's current temperature reading in Celsius.
                 -1 indicates an invalid reading due to lost communications.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
                - tag: component
                  value: temperature
          overrides:
            - name: Temp
              step: '1'
              filter:
                conditions:
                  - macro: '{#EXTERNAL_SENSOR2_NAME}'
                    value: Temp
              operations:
                - operator: LIKE
                  value: Humidity
                  discover: NO_DISCOVER
        - uuid: 10363e965d97464a9344baa5fa7a2f53
          name: 'Input phases discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.2.3.1.2.1.1]'
          key: input.phases.discovery
          delay: 1h
          description: 'The input phase identifier. OID upsPhaseInputPhaseIndex.1.1'
          item_prototypes:
            - uuid: a275ab18a7064706bf721498ac7c5605
              name: '{#PHASEINDEX}: Phase input current'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.{#PHASEINDEX}]'
              key: 'phase.input.current[upsPhaseInputCurrent.1.1.{#PHASEINDEX}]'
              value_type: FLOAT
              units: A
              description: |
                MIB: PowerNet-MIB
                The input current in 0.1 amperes, or -0.1 if it's
                 unsupported by this UPS.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
            - uuid: 113adf39a65548abab2da39aec20c169
              name: '{#PHASEINDEX}: Phase input voltage'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.{#PHASEINDEX}]'
              key: 'phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}]'
              value_type: FLOAT
              units: V
              description: |
                MIB: PowerNet-MIB
                The input voltage in VAC, or -1 if it's unsupported
                 by this UPS.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 755f972a32904dbf81a6da77f4ba57f0
                  expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) > {$UPS.INPUT_VOLT.MAX.WARN} or max(/APC Smart-UPS SRT 8000 by SNMP/phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) < {$UPS.INPUT_VOLT.MIN.WARN}'
                  name: 'APC Smart-UPS: {#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} input voltage'
                  event_name: 'APC Smart-UPS: {#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
                  opdata: 'Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: notice
        - uuid: 0a3159e22ba640e2840789b63bee2bda
          name: 'Output phases discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.3.3.1.2.1.1]'
          key: output.phases.discovery
          delay: 1h
          description: 'The output phase identifier. OID upsPhaseOutputPhaseIndex.1.1'
          item_prototypes:
            - uuid: 3b625f8ab9f54dca882534d78ee0e584
              name: '{#PHASEINDEX}: Phase output current'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.{#PHASEINDEX}]'
              key: 'phase.output.current[upsPhaseOutputCurrent.1.1.{#PHASEINDEX}]'
              value_type: FLOAT
              units: A
              description: |
                MIB: PowerNet-MIB
                The output current in 0.1 amperes drawn
                 by the load on the UPS, or -1 if it's unsupported
                 by this UPS.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
            - uuid: 99357a267db04c8ca9385aaa15116b79
              name: '{#PHASEINDEX}: Phase output load, %'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.9.3.3.1.10.1.1.{#PHASEINDEX}]'
              key: 'phase.output.load.percent[upsPhaseOutputPercentLoad.1.1.{#PHASEINDEX}]'
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The percentage of the UPS load capacity in VA at
                 redundancy @ (n + x) presently being used on this
                 output phase, or -1 if it's unsupported by this UPS.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
            - uuid: 13315206a94948a09fbb4a9843d2e149
              name: '{#PHASEINDEX}: Phase output voltage'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.{#PHASEINDEX}]'
              key: 'phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}]'
              value_type: FLOAT
              units: V
              description: |
                MIB: PowerNet-MIB
                The output voltage in VAC, or -1 if it's unsupported
                by this UPS.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 5846a7a3d56f43de8394823ed64a11ae
                  expression: 'min(/APC Smart-UPS SRT 8000 by SNMP/phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) > {$UPS.INPUT_VOLT.MAX.WARN} or max(/APC Smart-UPS SRT 8000 by SNMP/phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) < {$UPS.INPUT_VOLT.MIN.WARN}'
                  name: 'APC Smart-UPS: {#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} output voltage'
                  event_name: 'APC Smart-UPS: {#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} output voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
                  opdata: 'Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: notice
      tags:
        - tag: class
          value: power
        - tag: target
          value: apc
        - tag: target
          value: apc-smart-ups-srt-8000
      macros:
        - macro: '{$BATTERY.CAPACITY.MIN.WARN}'
          value: '50'
          description: 'Minimum battery capacity percentage for trigger expression.'
        - macro: '{$BATTERY.TEMP.MAX.WARN}'
          value: '55'
          description: 'Maximum battery temperature for trigger expression.'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        - macro: '{$TIME.PERIOD}'
          value: 15m
          description: 'Time period for trigger expression.'
        - macro: '{$UPS.INPUT_FREQ.MAX.WARN}'
          value: '50.3'
          description: 'Maximum input frequency for trigger expression.'
        - macro: '{$UPS.INPUT_FREQ.MIN.WARN}'
          value: '49.7'
          description: 'Minimum input frequency for trigger expression.'
        - macro: '{$UPS.INPUT_VOLT.MAX.WARN}'
          value: '243'
          description: 'Maximum input voltage for trigger expression.'
        - macro: '{$UPS.INPUT_VOLT.MIN.WARN}'
          value: '197'
          description: 'Minimum input voltage for trigger expression.'
        - macro: '{$UPS.OUTPUT.MAX.WARN}'
          value: '80'
          description: 'Maximum output load in % for trigger expression.'
      dashboards:
        - uuid: 3a1da069730b43f5a631482f113f3752
          name: 'APC Smart-UPS SRT 8000: General'
          pages:
            - name: 'APC Smart-UPS SRT 8000: General'
              widgets:
                - type: graph
                  name: Voltage
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'APC Smart-UPS SRT 8000 by SNMP'
                        name: 'APC Smart-UPS SRT 8000: Voltage'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  name: 'Capacity of the UPS batteries'
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'APC Smart-UPS SRT 8000 by SNMP'
                        name: 'APC Smart-UPS SRT 8000: Capacity of the UPS batteries'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: graph
                  name: Output
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'APC Smart-UPS SRT 8000 by SNMP'
                        name: 'APC Smart-UPS SRT 8000: Output'
                    - type: STRING
                      name: reference
                      value: AAAAB
      valuemaps:
        - uuid: 864d59cbfcc8431cb334b812bf7ef3a3
          name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
          mappings:
            - value: '1'
              newvalue: Normal
            - value: '2'
              newvalue: Warning
            - value: '3'
              newvalue: Critical
            - value: '4'
              newvalue: 'Not applicable'
        - uuid: cc42cb7a7fb4417fa1c143e214958c1d
          name: 'PowerNet-MIB::upsAdvBatteryReplaceIndicator'
          mappings:
            - value: '1'
              newvalue: 'no Battery Needs Replacing'
            - value: '2'
              newvalue: 'battery Needs Replacing'
        - uuid: a3bbd0be8c7c4dc1aa9accb9f22292c9
          name: 'PowerNet-MIB::upsAdvInputLineFailCause'
          mappings:
            - value: '1'
              newvalue: 'no Transfer'
            - value: '2'
              newvalue: 'High Line Voltage'
            - value: '3'
              newvalue: Brownout
            - value: '4'
              newvalue: Blackout
            - value: '5'
              newvalue: 'Small Momentary Sag'
            - value: '6'
              newvalue: 'Deep Momentary Sag'
            - value: '7'
              newvalue: 'Small Momentary Spike'
            - value: '8'
              newvalue: 'Large Momentary Spike'
            - value: '9'
              newvalue: 'Self Test'
            - value: '10'
              newvalue: 'Rate of Voltage Change'
        - uuid: f801d4fb07c644e4be1f01e99ba48aa7
          name: 'PowerNet-MIB::upsBasicBatteryStatus'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Normal
            - value: '3'
              newvalue: Low
            - value: '4'
              newvalue: 'In Fault Condition'
        - uuid: 28964e9cf2b849fbb2f8d998cecdacda
          name: 'PowerNet-MIB::upsBasicOutputStatus'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Online
            - value: '3'
              newvalue: 'On Battery'
            - value: '4'
              newvalue: 'On Smart Boost'
            - value: '5'
              newvalue: 'Timed Sleeping'
            - value: '6'
              newvalue: 'Software Bypass'
            - value: '7'
              newvalue: 'Off'
            - value: '8'
              newvalue: Rebooting
            - value: '9'
              newvalue: 'Switched Bypass'
            - value: '10'
              newvalue: 'Hardware Failure Bypass'
            - value: '11'
              newvalue: 'Sleeping Until Power Return'
            - value: '12'
              newvalue: 'On Smart Trim'
            - value: '13'
              newvalue: 'Eco Mode'
            - value: '14'
              newvalue: 'Hot Standby'
            - value: '15'
              newvalue: 'On Battery Test'
            - value: '16'
              newvalue: 'Emergency Static Bypass'
            - value: '17'
              newvalue: 'Static Bypass Standby'
            - value: '18'
              newvalue: 'Power Saving Mode'
            - value: '19'
              newvalue: 'Spot Mode'
            - value: '20'
              newvalue: E-Conversion
            - value: '21'
              newvalue: 'Charger Spotmode'
            - value: '22'
              newvalue: 'Inverter Spotmode'
            - value: '23'
              newvalue: 'Active Load'
            - value: '24'
              newvalue: 'Battery Discharge Spotmode'
            - value: '25'
              newvalue: 'Inverter Standby'
            - value: '26'
              newvalue: 'Charger Only'
        - uuid: 12058346f9e046388767c2939bbed2cf
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 6f0fbe74ad4945e987e7ffdfa741d92f
      expression: |
        (last(/APC Smart-UPS SRT 8000 by SNMP/system.hw.uptime[hrSystemUptime.0])>0 and last(/APC Smart-UPS SRT 8000 by SNMP/system.hw.uptime[hrSystemUptime.0])<10m)
        or (last(/APC Smart-UPS SRT 8000 by SNMP/system.hw.uptime[hrSystemUptime.0])=0 and last(/APC Smart-UPS SRT 8000 by SNMP/system.net.uptime[sysUpTime.0])<10m)
      name: 'APC Smart-UPS: Host has been restarted'
      event_name: 'APC Smart-UPS: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'APC Smart-UPS: No SNMP data collection'
          expression: 'max(/APC Smart-UPS SRT 8000 by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
  graphs:
    - uuid: e040a4ac7b024c4c878c8145b34969aa
      name: 'APC Smart-UPS SRT 8000: Capacity of the UPS batteries'
      type: PIE
      graph_items:
        - color: 199C0D
          item:
            host: 'APC Smart-UPS SRT 8000 by SNMP'
            key: 'battery.capacity[upsHighPrecBatteryCapacity]'
    - uuid: 7cd3c6f5dcaf40e28cbc0ac9e3c35d7a
      name: 'APC Smart-UPS SRT 8000: Output'
      graph_items:
        - color: 199C0D
          item:
            host: 'APC Smart-UPS SRT 8000 by SNMP'
            key: 'output.current[upsHighPrecOutputCurrent]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'APC Smart-UPS SRT 8000 by SNMP'
            key: 'output.load[upsHighPrecOutputLoad]'
    - uuid: 2fe4eba0af2745c994ad3d6abfe30140
      name: 'APC Smart-UPS SRT 8000: Voltage'
      graph_items:
        - color: 199C0D
          item:
            host: 'APC Smart-UPS SRT 8000 by SNMP'
            key: 'input.voltage[upsHighPrecInputLineVoltage]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'APC Smart-UPS SRT 8000 by SNMP'
            key: 'output.voltage[upsHighPrecOutputVoltage]'
