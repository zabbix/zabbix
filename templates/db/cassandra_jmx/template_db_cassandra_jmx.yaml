zabbix_export:
  version: '6.0'
  date: '2022-04-06T19:27:01Z'
  groups:
    -
      uuid: 748ad4d098d447d492bb935c907f652f
      name: Templates/Databases
  templates:
    -
      uuid: 5c42de26643c4b43b23a11159df021ce
      template: 'Apache Cassandra by JMX'
      name: 'Apache Cassandra by JMX'
      description: |
        The template to monitor Apache Cassandra by Zabbix that work without any external scripts.
        It works with both standalone and cluster instances.
        The metrics are collected by JMX.
        You can set {$CASSANDRA.USER} and {$CASSANDRA.PASSWORD} macros in the template for using on the host level.
        
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/410057-discussion-thread-for-official-zabbix-template-apache-cassandra
        
        Template tooling version used: 0.41
      groups:
        -
          name: Templates/Databases
      items:
        -
          uuid: 147ba5946b994324b1f6d88a8d3b6541
          name: 'Cluster: Name'
          type: JMX
          key: 'jmx["org.apache.cassandra.db:type=StorageService","ClusterName"]'
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cluster
        -
          uuid: 1bd80c1ce70045cbadf60ee06a09a989
          name: Version
          type: JMX
          key: 'jmx["org.apache.cassandra.db:type=StorageService","ReleaseVersion"]'
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: application
          triggers:
            -
              uuid: 855abdc321c74b6baf672c67f6483c1c
              expression: 'last(/Apache Cassandra by JMX/jmx["org.apache.cassandra.db:type=StorageService","ReleaseVersion"],#1)<>last(/Apache Cassandra by JMX/jmx["org.apache.cassandra.db:type=StorageService","ReleaseVersion"],#2) and length(last(/Apache Cassandra by JMX/jmx["org.apache.cassandra.db:type=StorageService","ReleaseVersion"]))>0'
              name: 'Version has changed'
              event_name: 'Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Cassandra version has changed. Ack to close.'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: b202aa02d0b74e8da321a2a19fe33880
          name: 'Compaction: Number of completed tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=CompletedTasks,type=Compaction","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of completed compactions since server [re]start.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: compactions
        -
          uuid: 7176e7e8241648d1b7e81a0b4d2d329c
          name: 'Commitlog: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=PendingTasks,type=CommitLog","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of commit log messages written but yet to be fsync''d.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: commitlog
        -
          uuid: 6e4ad2b5249c465894b87006a38b9542
          name: 'Latency: Read median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - median.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: a8b0499f15a74102b6ca486dee07e99b
          name: 'Latency: Read 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - p75.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: 5e3a95a9119149889365691d932b8407
          name: 'Latency: Read 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - p95.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: 70eebcf7274942eeae0a80911b7c9095
          name: 'Commitlog: Total size'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=TotalCommitLogSize,type=CommitLog","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Current size, in bytes, used by all the commit log segments.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: commitlog
        -
          uuid: 24e44d0bf8254131a032406ffad86732
          name: 'Compaction: Total compactions completed'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=TotalCompactionsCompleted,type=Compaction","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Throughput of completed compactions since server [re]start.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: compactions
        -
          uuid: 31ccd8b50bcb412893e91accb853d755
          name: 'Latency: Write median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - median.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: 8f0aa624a54d45f5b6c8ead24694fc58
          name: 'Latency: Write 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - p75.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: cc084d0142a94262b585d6b4a7b06468
          name: 'Latency: Write 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - p95.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: disk
        -
          uuid: 934eb483047649449bfa221e3cc610d3
          name: 'KeyCache: Capacity'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Capacity","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Cache capacity in bytes.'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: c4f8435dfef0426682781711addbf075
          name: 'KeyCache: Entries'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Entries","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total number of cache entries.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: b3351f07502d4cb8a16d4fa730a72a6a
          name: 'KeyCache: HitRate'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=HitRate","Value"]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'All time cache hit rate.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '100'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: 3980ae66ea1b415baa24078d26ebeaee
          name: 'KeyCache: Hits per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Hits","Count"]'
          history: 7d
          value_type: FLOAT
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Rate of cache hits.'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: 6f6980f9267b4bef93e3a37153ef2184
          name: 'KeyCache: requests per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Requests","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Rate of cache requests.'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: f8fed6058d4b45a7afcaf5a057622c19
          name: 'KeyCache: Size'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Size","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total size of occupied cache, in bytes.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cache
        -
          uuid: 574ff464fe6b43cfb1d07e4ad1383c33
          name: 'Client connections: Native'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedNativeClients","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of clients connected to this nodes native protocol server.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: connections
        -
          uuid: 15d5bd0e534246a7922f8dbcc2a96a21
          name: 'Client connections: Trifts'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedThriftClients","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of connected to this nodes thrift clients.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: connections
        -
          uuid: 6c1cf4b7835d4c66ac1e42840199594c
          name: 'Latency: Client request read median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - median.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: c0606810baad4e438f6d69508cf11581
          name: 'Latency: Client request read 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - p75.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: 4ed583b0546c4897b9ff423e36097046
          name: 'Latency: Client request read 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - p95.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: 4f68953ebaca4d089a11c78e04c9170f
          name: 'Client request: Read per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'The number of client requests per second.'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: 72cdc0188682483d8c1d837f2c9c475b
          name: 'Latency: Client request write median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - median.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: a63545e0bf8d4c87818fe719c299b508
          name: 'Latency: Client request write 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - p75.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: 955f1f2615a14694bb20eedd07963ada
          name: 'Latency: Client request write 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - p95.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: d914d6cd66ad48d09197a30819a386f9
          name: 'Client request: Write per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'The number of local write requests per second.'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: 30b3ba5b576045dabda9b3a0914a1dc6
          name: 'Client request: Write Timeouts'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Timeouts","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of write requests timeouts encountered.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: requests
        -
          uuid: e55942a9ef3c41e8993e8c8d849ff026
          name: 'Compaction: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Estimated number of compactions remaining to perform.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: compactions
          triggers:
            -
              uuid: 885035b2fc804615a54bf2eaca19beee
              expression: 'min(/Apache Cassandra by JMX/jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"],15m)>{$CASSANDRA.PENDING_TASKS.MAX.WARN}'
              name: 'Many pending tasks'
              event_name: 'Many pending tasks (over {$CASSANDRA.PENDING_TASKS.MAX.WARN} for 15m)'
              priority: WARNING
              dependencies:
                -
                  name: 'Too many pending tasks'
                  expression: 'min(/Apache Cassandra by JMX/jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"],15m)>{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
              tags:
                -
                  tag: scope
                  value: performance
            -
              uuid: f6696c41e9d24144a1a95f74c94728ae
              expression: 'min(/Apache Cassandra by JMX/jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"],15m)>{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
              name: 'Too many pending tasks'
              event_name: 'Too many pending tasks (over {$CASSANDRA.PENDING_TASKS.MAX.HIGH} for 15m)'
              priority: AVERAGE
              tags:
                -
                  tag: scope
                  value: performance
        -
          uuid: f4686c81fe1b42c2bbe049ec421b4533
          name: 'Dropped messages: Write (Mutation)'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=MUTATION,name=Dropped","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of dropped regular writes messages.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: messages
        -
          uuid: 2001c9fa67bc4ec4b693d289edc38cfa
          name: 'Dropped messages: Read'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=READ,name=Dropped","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of dropped regular reads messages.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: messages
        -
          uuid: b15aa6f290d14fd1bee094325c444e8b
          name: 'Storage: Errors'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=Exceptions","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of internal exceptions caught. Under normal exceptions this should be zero.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: storage
          triggers:
            -
              uuid: c7980b33dc794a70a116bd12219f66c3
              expression: 'min(/Apache Cassandra by JMX/jmx["org.apache.cassandra.metrics:type=Storage,name=Exceptions","Count"],5m)>0'
              name: 'Too many storage exceptions'
              priority: WARNING
              tags:
                -
                  tag: scope
                  value: performance
        -
          uuid: 31fabd5575074957946328b0257568c6
          name: 'Storage: Used (bytes)'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=Load","Count"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Size, in bytes, of the on disk data size this node manages.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: storage
          triggers:
            -
              uuid: bda8e216175044ed829670b6bd272785
              expression: 'nodata(/Apache Cassandra by JMX/jmx["org.apache.cassandra.metrics:type=Storage,name=Load","Count"],15m)=1'
              name: 'Failed to fetch info data'
              event_name: 'Failed to fetch info data (or no data for 15m)'
              priority: WARNING
              description: 'Zabbix has not received data for items for the last 15 minutes'
              tags:
                -
                  tag: scope
                  value: availability
        -
          uuid: 3e0332f3770046b5b3ba4216111f3b3f
          name: 'Storage: Hints'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=TotalHints","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of hint messages written to this node since [re]start. Includes one entry for each host to be hinted per hint.'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 6c9721f341904c5abb4d4a4637f6c80c
          name: 'Thread pool HintsDispatcher: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            HintsDispatcher: Performs hinted handoff.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 0efbb0ab0e3244428f5e5917fa73437c
          name: 'Thread pool HintsDispatcher: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            HintsDispatcher: Performs hinted handoff.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 4eb4e405cc564c9c8a694f085b1905dd
          name: 'Thread pool HintsDispatcher: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            HintsDispatcher: Performs hinted handoff.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 7fd397d3d09a494fb0032d97c93dc462
          name: 'Thread pool MemtableFlushWriter: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MemtableFlushWriter: Writes memtables to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: c0eaf8af68114b0eb1f16e7cb456a442
          name: 'Thread pool MemtableFlushWriter: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MemtableFlushWriter: Writes memtables to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 3e402261b410467cb177b3c02dd237f3
          name: 'Thread pool MemtableFlushWriter: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MemtableFlushWriter: Writes memtables to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 868e8d31c8424607a7f0aafd4eff46cf
          name: 'Thread pool MemtablePostFlush: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MemtablePostFlush: Cleans up commit log after memtable is written to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 9ddfd1f388ed4c3a9e81558e626f9525
          name: 'Thread pool MemtablePostFlush: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MemtablePostFlush: Cleans up commit log after memtable is written to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: e00f5f7ac9904ea4981c44a506005d62
          name: 'Thread pool MemtablePostFlush: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MemtablePostFlush: Cleans up commit log after memtable is written to disk.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 480f3d158c764cd3877e0b04189eb60c
          name: 'Thread pool MigrationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MigrationStage: Runs schema migrations.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: f9b504b8b9f34f70a15691a16ee69e39
          name: 'Thread pool MigrationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MigrationStage: Runs schema migrations.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 79bc07acfef846768a036243efd3d954
          name: 'Thread pool MigrationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MigrationStage: Runs schema migrations.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 94360cbf59cc4978ab64872f9d0a9100
          name: 'Thread pool MiscStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MiscStage: Miscellaneous tasks run here.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 0a0ee6e0a2de4da5acfa715959dbae9f
          name: 'Thread pool MiscStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MiscStage: Miscellaneous tasks run here.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 807494ed64b54f9a95961fa7031e7d7f
          name: 'Thread pool MiscStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MiscStage: Miscellaneous tasks run here.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 18b83c6b48164e1f9b8f9ae6058da276
          name: 'Thread pool SecondaryIndexManagement: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            SecondaryIndexManagement: Performs updates to secondary indexes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 622728098a35433bb00b7ab1614665bc
          name: 'Thread pool SecondaryIndexManagement: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            SecondaryIndexManagement: Performs updates to secondary indexes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 0dbd7303e9a64bc581ef8c6619876d2b
          name: 'Thread pool SecondaryIndexManagement: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            SecondaryIndexManagement: Performs updates to secondary indexes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 1ff2b0f1c6a04cfca0d40a68c5a39476
          name: 'Thread pool CounterMutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            CounterMutationStage: Responsible for counter writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: b0cc87b96d0e4f3c8ff2023665d90379
          name: 'Thread pool CounterMutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            CounterMutationStage: Responsible for counter writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: ab2b8d88ecf54b028b88cd757581a419
          name: 'Thread pool CounterMutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            CounterMutationStage: Responsible for counter writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: ef7d71b026ec4e948acf8d7469b21ee2
          name: 'Thread pool MutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MutationStage: Responsible for writes (exclude materialized and counter writes).
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: b2eb10fe498847c88b395013e4fb516c
          name: 'Thread pool.MutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MutationStage: Responsible for writes (exclude materialized and counter writes).
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: c6e48ac0ece74e31803dd72310306330
          name: 'Thread pool MutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MutationStage: Responsible for writes (exclude materialized and counter writes).
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: e588e58881b74123bfa6f2d5d948da93
          name: 'Thread pool ReadStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            ReadStage: Local reads run on this thread pool.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 2770bde0ee834ddebcd773e265fa0aef
          name: 'Thread pool ReadStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            ReadStage: Local reads run on this thread pool.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 9d9b20c6994c40849048cb5d0fe407ad
          name: 'Thread pool ReadStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            ReadStage: Local reads run on this thread pool.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 49df0b39c6a944d5ab96a946b233c380
          name: 'Thread pool ViewMutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            ViewMutationStage: Responsible for materialized view writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 967065e24d2c44be96687cd829ea928c
          name: 'Thread pool ViewMutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            ViewMutationStage: Responsible for materialized view writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: 5e6719076bbd46f78d3fb9b625a0cdda
          name: 'Thread pool ViewMutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            ViewMutationStage: Responsible for materialized view writes.
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: thread-pools
        -
          uuid: f131a5faad964307aa860e3932ba781d
          name: 'Cluster: Nodes down'
          type: JMX
          key: 'jmx["org.apache.cassandra.net:type=FailureDetector","DownEndpointCount"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cluster
          triggers:
            -
              uuid: 42b527f9cf4e444b82575f2ab48926c0
              expression: 'last(/Apache Cassandra by JMX/jmx["org.apache.cassandra.net:type=FailureDetector","DownEndpointCount"])>0'
              name: 'There are down nodes in cluster'
              priority: AVERAGE
              tags:
                -
                  tag: scope
                  value: availability
        -
          uuid: fb35aef03e254d98a3d29e8180a1a5a5
          name: 'Cluster: Nodes up'
          type: JMX
          key: 'jmx["org.apache.cassandra.net:type=FailureDetector","UpEndpointCount"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: component
              value: cluster
      discovery_rules:
        -
          uuid: 504e40d04a024249bfd4ac67891f8a21
          name: Tables
          type: JMX
          key: 'jmx.discovery[beans,"org.apache.cassandra.metrics:type=Table,keyspace=*,scope=*,name=ReadLatency"]'
          delay: 1h
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#JMXKEYSPACE}'
                value: '{$CASSANDRA.KEY_SPACE.MATCHES}'
                formulaid: A
              -
                macro: '{#JMXKEYSPACE}'
                value: '{$CASSANDRA.KEY_SPACE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Info about keyspaces and tables'
          item_prototypes:
            -
              uuid: 22c24ee8cfd34623b137c6cad5a2299d
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Bloom filter false ratio'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=BloomFilterFalseRatio","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The ratio of Bloom filter false positives to total checks.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 417a27c1779a4d08b5673320b1542ad8
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Bytes flushed'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=BytesFlushed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The amount of data that was flushed since (re)start.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: b6623ca2ba0c4dd9ad2be5fa263896f5
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Col update time delta75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ColUpdateTimeDeltaHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The column update time delta - p75.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 685e1bbe10044d9d9ae2b02357ba2934
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Col update time delta 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ColUpdateTimeDeltaHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The column update time delta - p95.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 71b3b14f8ce7414786fa0bcd471e8842
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Compaction bytes written'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=CompactionBytesWritten","Count"]'
              history: 7d
              value_type: FLOAT
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The amount of data that was compacted since (re)start.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 9721c8cd9d0f415d9d5ddfeb417cee01
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Compression ratio'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=CompressionRatio","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The compression ratio for all SSTables.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: b43134f2d2a043f2a61919467619efe2
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: KeyCache hit rate'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=KeyCacheHitRate","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The key cache hit rate.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: b69ac0bb285a4e8fa82a98f4de2645d2
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Live disk space used'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=LiveDiskSpaceUsed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The disk space used by "live" SSTables (only counts in use files).'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: bf733ba7ab2045d38a88c6f0650ba1f2
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Live SS Table'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=LiveSSTableCount","Value"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of "live" (in use) SSTables.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: c447d219390a48f2bbbe0d19211472c8
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Max sartition size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=MaxPartitionSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The size of the largest compacted partition.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: bdf111fbca884f49a6cda263b8b07feb
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Mean partition size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=MeanPartitionSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The average size of compacted partition.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 1f44ed6c453d44fc811ae310701df4bf
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Pending compactions'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=PendingCompactions","Value"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of pending compactions.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 7e287e5459644536b9420263b4096dd1
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Pending flushes'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=PendingFlushes","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of pending flushes.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 1d240e1fe4b245b0b1b2b30d42e5077e
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read latency 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency read from disk in milliseconds.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 38d31a8a16f04c39a64ee36940ae7eb8
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read latency 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency read from disk in milliseconds.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: fdec15a1f86b4943bbd72fb992dfce90
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read per second'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","Count"]'
              history: 7d
              value_type: FLOAT
              units: rps
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of client requests per second.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: a73d2b8f38184698a3ab7a4bb3742b4a
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Row cache hits'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheHit","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of row cache hits.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 213ecd18728a40ffbdbeac07daf0e26f
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Out of row cache hits'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheHitOutOfRange","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of row cache hits that do not satisfy the query filter and went to disk.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 32df58c8fa3a4ad3ba2e70fc056895ad
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Row cache misses'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheMiss","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of table row cache misses.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 529e7683300b4fe9bb46e3f9ed8a9552
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Snapshots size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SnapshotsSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The disk space truly used by snapshots.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 53e4852850a74163ad797969d3366eb0
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: SS Tables per read 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SSTablesPerReadHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of SSTable data files accessed per read - p75.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 187487b9d35444da989f9e0e3814798a
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: SS Tables per read 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SSTablesPerReadHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of SSTable data files accessed per read - p95.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 592bde2f9eb24d7e80b45f3db965b2e0
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Tombstone scanned 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TombstoneScannedHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of tombstones scanned per read - p75.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 70fedfc2310e4eb19195da72c9ada63d
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Tombstone scanned 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TombstoneScannedHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of tombstones scanned per read - p95.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: a20ace3047bd4a238644dbc55d2f8fed
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Disk space used'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TotalDiskSpaceUsed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Disk space used.'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: b599e354a5ee417cb056dea424a5792d
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Waiting on free memtable space 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WaitingOnFreeMemtableSpace","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The time spent waiting for free memtable space either on- or off-heap - p75.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: af19509867e54f19a64a4b66d054e0cf
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Waiting on free memtable space95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WaitingOnFreeMemtableSpace","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The time spent waiting for free memtable space either on- or off-heap - p95.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 141b38b299e14068abc0c175ae4023e6
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write latency 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency write to disk in milliseconds.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: 8d79071ab7ad49c483efbb7503a4b308
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write latency 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency write to disk in milliseconds.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
            -
              uuid: c1a9748ab9824626b9a59c323aff9a3d
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write per second'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","Count"]'
              history: 7d
              value_type: FLOAT
              units: rps
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of local write requests per second.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: component
                  value: tables
                -
                  tag: keyspace
                  value: '{#JMXKEYSPACE}'
                -
                  tag: table
                  value: '{#JMXSCOPE}'
          graph_prototypes:
            -
              uuid: 5e293f31be1e46e2ac406afda9ba4d95
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read\Write latency'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","75thPercentile"]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","95thPercentile"]'
                -
                  sortorder: '2'
                  color: F63100
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","75thPercentile"]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","95thPercentile"]'
            -
              uuid: 1db58a329f9c4306921fbeb6a089cfcf
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Requests rate'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","Count"]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","Count"]'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
      tags:
        -
          tag: class
          value: database
        -
          tag: target
          value: apache-cassandra
      macros:
        -
          macro: '{$CASSANDRA.KEY_SPACE.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable key spaces'
        -
          macro: '{$CASSANDRA.KEY_SPACE.NOT_MATCHES}'
          value: (system|system_auth|system_distributed|system_schema)
          description: 'Filter to exclude discovered key spaces'
        -
          macro: '{$CASSANDRA.PASSWORD}'
          value: zabbix
        -
          macro: '{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
          value: '500'
        -
          macro: '{$CASSANDRA.PENDING_TASKS.MAX.WARN}'
          value: '350'
        -
          macro: '{$CASSANDRA.USER}'
          value: zabbix
  graphs:
    -
      uuid: 445735b15ac84e42b21dbe7c44dce812
      name: 'Client connections'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedNativeClients","Value"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedThriftClients","Value"]'
    -
      uuid: 2ce1833420ba4abc9bdea906d2c1238b
      name: 'Client requests rate'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","Count"]'
    -
      uuid: c30ffc0f46304bf6aab699d39d8d6d4c
      name: 'Client requests Read\Write latency'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","50thPercentile"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","50thPercentile"]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","75thPercentile"]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","95thPercentile"]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","75thPercentile"]'
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","95thPercentile"]'
    -
      uuid: 5397e6b2349f45169b155e9a99b2b295
      name: 'Dropped Messages'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=READ,name=Dropped","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=MUTATION,name=Dropped","Count"]'
    -
      uuid: f82e4d8e2f84434e90baff030d46d10e
      name: 'KeyCache Hit rate'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Hits","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Requests","Count"]'
    -
      uuid: 0f0f2544748d460b9d526573f7b11d70
      name: 'Nodes state'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.net:type=FailureDetector","UpEndpointCount"]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.net:type=FailureDetector","DownEndpointCount"]'
    -
      uuid: f499150da9ad4376ba528cd4be3af89a
      name: 'Tables Read\Write latency'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","50thPercentile"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","50thPercentile"]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","75thPercentile"]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","95thPercentile"]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","75thPercentile"]'
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","95thPercentile"]'
