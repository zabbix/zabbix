<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
   <version>3.4</version>
   <date>2015-12-30T14:41:30Z</date>
   <groups>
      <group>
         <name>Templates/Dependencies</name>
      </group>
   </groups>
   <templates>
      <template>
         <template>Template SNMP Generic SNMPv1</template>
         <name>Template SNMP Generic SNMPv1</name>
         <description>Template SNMP Generic version: 0.8</description>
         <groups>
            <group>
               <name>Templates/Dependencies</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>General</name>
            </application>
         </applications>
         <items>
            <item>
               <name>Device uptime</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
               <key>system.uptime</key>
               <delay>30</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>3</value_type>
               <allowed_hosts/>
               <units>uptime</units>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing>
                  <step>
                     <type>1</type>
                     <params>0.01</params>
                  </step>
               </preprocessing>
            </item>
            <item>
               <name>SNMP traps (fallback)</name>
               <type>17</type>
               <snmp_community/>
               <snmp_oid/>
               <key>snmptrap.fallback</key>
               <delay>300</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>2</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>Item is used to collect all SNMP traps unmatched by other snmptrap items
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt>hh:mm:sszyyyy/MM/dd</logtimefmt>
               <preprocessing/>
            </item>
            <item>
               <name>Device location</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
               <key>system.location</key>
               <delay>3600</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>1</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
 The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
</description>
               <inventory_link>24</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>Device contact details</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
               <key>system.contact</key>
               <delay>3600</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>1</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
</description>
               <inventory_link>23</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>System object ID</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.2.0</snmp_oid>
               <key>system.objectid</key>
               <delay>3600</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>1</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
 The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>Device name</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
               <key>system.name</key>
               <delay>3600</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>1</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
</description>
               <inventory_link>3</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>Device description</name>
               <type>1</type>
               <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
               <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
               <key>system.descr</key>
               <delay>3600</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>1</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>MIB: SNMPv2-MIB
A textual description of the entity.  This value should
include the full name and version identification of thesystem's hardware type, software operating-system, and
networking software.
</description>
               <inventory_link>14</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>SNMP availability</name>
               <type>5</type>
               <snmp_community/>
               <snmp_oid/>
               <key>zabbix[host,snmp,available]</key>
               <delay>60</delay>
               <history>14d</history>
               <trends>0d</trends>
               <status>0</status>
               <value_type>3</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>General</name>
                  </application>
               </applications>
               <valuemap>
                  <name>zabbix.host.available</name>
               </valuemap>
               <logtimefmt/>
               <preprocessing/>
            </item>
         </items>
         <discovery_rules/>
         <httptests/>
         <macros>
            <macro>
               <macro>{$SNMP_TIMEOUT}</macro>
               <value>3m</value>
            </macro>
            <macro>
               <macro>{$SNMP_PORT}</macro>
               <value>161</value>
            </macro>
         </macros>
         <templates>
            <template>
		  		         <name>Template ICMP Ping</name>
		  	       </template>
         </templates>
         <screens/>
      </template>
      <template>
         <template>Template ICMP Ping</template>
         <name>Template ICMP Ping</name>
         <description>Template ICMP Ping version: 0.8</description>
         <groups>
            <group>
               <name>Templates/Dependencies</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>Status</name>
            </application>
         </applications>
         <items>
            <item>
               <name>ICMP ping</name>
               <type>3</type>
               <snmp_community/>
               <snmp_oid/>
               <key>icmpping</key>
               <delay>60</delay>
               <history>7d</history>
               <trends>365d</trends>
               <status>0</status>
               <value_type>3</value_type>
               <allowed_hosts/>
               <units/>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <valuemap>
                  <name>Service state</name>
               </valuemap>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>ICMP loss</name>
               <type>3</type>
               <snmp_community/>
               <snmp_oid/>
               <key>icmppingloss</key>
               <delay>60</delay>
               <history>7d</history>
               <trends>365d</trends>
               <status>0</status>
               <value_type>0</value_type>
               <allowed_hosts/>
               <units>%</units>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
            <item>
               <name>ICMP response time</name>
               <type>3</type>
               <snmp_community/>
               <snmp_oid/>
               <key>icmppingsec</key>
               <delay>60</delay>
               <history>7d</history>
               <trends>365d</trends>
               <status>0</status>
               <value_type>0</value_type>
               <allowed_hosts/>
               <units>s</units>
               <snmpv3_contextname/>
               <snmpv3_securityname/>
               <snmpv3_securitylevel>0</snmpv3_securitylevel>
               <snmpv3_authprotocol>0</snmpv3_authprotocol>
               <snmpv3_authpassphrase/>
               <snmpv3_privprotocol>0</snmpv3_privprotocol>
               <snmpv3_privpassphrase/>
               <params/>
               <ipmi_sensor/>
               <authtype>0</authtype>
               <username/>
               <password/>
               <publickey/>
               <privatekey/>
               <port>{$SNMP_PORT}</port>
               <description>
</description>
               <inventory_link>0</inventory_link>
               <applications>
                  <application>
                     <name>Status</name>
                  </application>
               </applications>
               <valuemap/>
               <logtimefmt/>
               <preprocessing/>
            </item>
         </items>
         <discovery_rules/>
         <httptests/>
         <macros>
            <macro>
               <macro>{$ICMP_LOSS_WARN}</macro>
               <value>20</value>
            </macro>
            <macro>
               <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
               <value>0.15</value>
            </macro>
         </macros>
         <templates/>
         <screens/>
      </template>
   </templates>
   <graphs/>
   <triggers>
      <trigger>
         <expression>{TRIGGER.VALUE}=0 and ({Template SNMP Generic SNMPv1:system.uptime.avg(1s)}&lt;10m or
{Template SNMP Generic SNMPv1:snmptrap.fallback.str(".1.3.6.1.6.3.1.1.4.1.0         type=6  value=OID: .1.3.6.1.6.3.1.1.5.1",1s)}=1 or
{Template SNMP Generic SNMPv1:snmptrap.fallback.str("coldStart",1s)}=1)</expression>
         <recovery_mode>1</recovery_mode>
         <recovery_expression>{TRIGGER.VALUE}=1 and ({Template SNMP Generic SNMPv1:system.uptime.avg(1s)}&gt;10m)</recovery_expression>
         <name> The {HOST.NAME} has just been  restarted</name>
         <correlation_mode>0</correlation_mode>
         <correlation_tag/>
         <url/>
         <status>0</status>
         <priority>2</priority>
         <description>Last value: {ITEM.LASTVALUE1}.
The device uptime is less then 10 minutes or SNMP trap(coldStart) received</description>
         <type>0</type>
         <manual_close>1</manual_close>
         <dependencies>
            <dependency>
               <name> No SNMP data collection</name>
               <expression>{Template SNMP Generic SNMPv1:zabbix[host,snmp,available].max({$SNMP_TIMEOUT})}=0</expression>
               <recovery_expression/>
            </dependency>
         </dependencies>
         <tags/>
      </trigger>
      <trigger>
         <expression>{Template SNMP Generic SNMPv1:zabbix[host,snmp,available].max({$SNMP_TIMEOUT})}=0</expression>
         <recovery_mode>0</recovery_mode>
         <recovery_expression/>
         <name> No SNMP data collection</name>
         <correlation_mode>0</correlation_mode>
         <correlation_tag/>
         <url/>
         <status>0</status>
         <priority>2</priority>
         <description>Last value: {ITEM.LASTVALUE1}.
SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
         <type>0</type>
         <manual_close>0</manual_close>
         <dependencies>
            <dependency>
               <name>Unavailable by ICMP ping</name>
               <expression>{Template SNMP Generic SNMPv1:icmpping.max(#3)}=0</expression>
               <recovery_expression/>
            </dependency>
         </dependencies>
         <tags/>
      </trigger>
      <trigger>
         <expression>{Template ICMP Ping:icmpping.max(#3)}=0</expression>
         <recovery_mode>0</recovery_mode>
         <recovery_expression/>
         <name>Unavailable by ICMP ping</name>
         <correlation_mode>0</correlation_mode>
         <correlation_tag/>
         <url/>
         <status>0</status>
         <priority>4</priority>
         <description>Last value: {ITEM.LASTVALUE1}.
Last three attempts returned timeout.  Please check device connectivity.</description>
         <type>0</type>
         <manual_close>0</manual_close>
         <dependencies/>
         <tags/>
      </trigger>
      <trigger>
         <expression>{Template ICMP Ping:icmppingloss.min(5m)}&gt;{$ICMP_LOSS_WARN}</expression>
         <recovery_mode>0</recovery_mode>
         <recovery_expression/>
         <name>High ICMP ping loss (now: {ITEM.LASTVALUE1})</name>
         <correlation_mode>0</correlation_mode>
         <correlation_tag/>
         <url/>
         <status>0</status>
         <priority>2</priority>
         <description/>
         <type>0</type>
         <manual_close>0</manual_close>
         <dependencies>
            <dependency>
               <name>Unavailable by ICMP ping</name>
               <expression>{Template ICMP Ping:icmpping.max(#3)}=0</expression>
               <recovery_expression/>
            </dependency>
         </dependencies>
         <tags/>
      </trigger>
      <trigger>
         <expression>{Template ICMP Ping:icmppingsec.avg(5m)}&gt;{$ICMP_RESPONSE_TIME_WARN}</expression>
         <recovery_mode>0</recovery_mode>
         <recovery_expression/>
         <name>High response time (now: {ITEM.LASTVALUE1})</name>
         <correlation_mode>0</correlation_mode>
         <correlation_tag/>
         <url/>
         <status>0</status>
         <priority>2</priority>
         <description/>
         <type>0</type>
         <manual_close>0</manual_close>
         <dependencies>
            <dependency>
               <name>Unavailable by ICMP ping</name>
               <expression>{Template ICMP Ping:icmpping.max(#3)}=0</expression>
               <recovery_expression/>
            </dependency>
            <dependency>
               <name>High ICMP ping loss (now: {ITEM.LASTVALUE1})</name>
               <expression>{Template ICMP Ping:icmppingloss.min(5m)}&gt;{$ICMP_LOSS_WARN}</expression>
               <recovery_expression/>
            </dependency>
         </dependencies>
         <tags/>
      </trigger>
   </triggers>
   <value_maps>
      <value_map>
  		     <name>zabbix.host.available</name>
  		     <mappings>
           <mapping>
               <value>0</value>
               <newvalue>not available</newvalue>
           </mapping>
           <mapping>
               <value>1</value>
               <newvalue>available</newvalue>
           </mapping>
           <mapping>
               <value>2</value>
               <newvalue>unknown</newvalue>
           </mapping>
  		     </mappings>
  	   </value_map>
   </value_maps>
</zabbix_export>
