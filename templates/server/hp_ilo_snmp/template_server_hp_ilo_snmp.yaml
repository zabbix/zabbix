zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: c2a7ddca051d4b4a9553f339c57e47a9
      template: 'HP iLO by SNMP'
      name: 'HP iLO by SNMP'
      description: |
        Template Server HP iLO
        MIBs used:
        HOST-RESOURCES-MIB
        CPQHLTH-MIB
        SNMPv2-MIB
        CPQSINFO-MIB
        CPQIDA-MIB
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-2
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 5abff4175d1640b9b633c4d9184bd243
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          description: |
            The host accessibility by ICMP ping.
            
            0 - ICMP ping fails;
            1 - ICMP ping successful.
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 755a4c5e809d418cbb1162102b0d1c26
              expression: 'max(/HP iLO by SNMP/icmpping,#3)=0'
              name: 'HP iLO: Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout. Please check device connectivity.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 1db2fcdd357e4d15a989c0511bbed8bd
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          value_type: FLOAT
          units: '%'
          description: 'The percentage of lost packets.'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 0492380bc6374f24b92b4661b27d8f2c
              expression: 'min(/HP iLO by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/HP iLO by SNMP/icmppingloss,5m)<100'
              name: 'HP iLO: High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'ICMP packets loss detected.'
              dependencies:
                - name: 'HP iLO: Unavailable by ICMP ping'
                  expression: 'max(/HP iLO by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 8be612f43d1d40ce9efd3c36d18e6a20
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          value_type: FLOAT
          units: s
          description: 'The ICMP ping response time (in seconds).'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: a869db9f341c479c80dca50bac0ff309
              expression: 'avg(/HP iLO by SNMP/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'HP iLO: High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Average ICMP response time is too high.'
              dependencies:
                - name: 'HP iLO: High ICMP ping loss'
                  expression: 'min(/HP iLO by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/HP iLO by SNMP/icmppingloss,5m)<100'
                - name: 'HP iLO: Unavailable by ICMP ping'
                  expression: 'max(/HP iLO by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 399110973c134983bd5020b9e5b509f4
          name: 'System temperature status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.1.0]'
          key: 'sensor.temp.status[cpqHeThermalCondition.0]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            This value specifies the overall condition of the system's thermal environment.
            This value will be one of the following:
            other(1)  Temperature could not be determined.
            ok(2)  The temperature sensor is within normal operating range.
            degraded(3)  The temperature sensor is outside of normal operating range.
            failed(4)  The temperature sensor detects a condition that could  permanently damage the system.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: temperature
        - uuid: 0107bcd0d6b840c4a64061ee83e69f11
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 2203e586148a418f9e2f06b38c340b53
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: 'system.contact[sysContact.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 03ff0b6d9c7a483eaae565d90473d291
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 2708e6cb2ba240a791685ebdcab3407f
          name: 'Hardware model name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.2.2.4.2.0]'
          key: system.hw.model
          value_type: CHAR
          trends: '0'
          description: |
            MIB: CPQSINFO-MIB
            The machine product name.The name of the machine used in this system.
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 96e27ad668944845a7f598f35b577d18
          name: 'Hardware serial number'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.2.2.2.1.0]'
          key: system.hw.serialnumber
          value_type: CHAR
          trends: '0'
          description: |
            MIB: CPQSINFO-MIB
            The serial number of the physical system unit. The string will be empty if the system does not report the serial number function.
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 7e8d377e1b49469a8b19b94e6dad97ce
              expression: 'last(/HP iLO by SNMP/system.hw.serialnumber,#1)<>last(/HP iLO by SNMP/system.hw.serialnumber,#2) and length(last(/HP iLO by SNMP/system.hw.serialnumber))>0'
              name: 'HP iLO: Device has been replaced'
              event_name: 'HP iLO: Device has been replaced (new serial number received)'
              priority: INFO
              description: 'Device serial number has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 02e21fa19e814d529ae24f89e3bbf947
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.25.1.1.0]'
          key: 'system.hw.uptime[hrSystemUptime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 84ed489ba1be43738be79f8a71b60381
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: 'system.location[sysLocation.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            Physical location of the node (e.g., `equipment room`, `3rd floor`). If not provided, the value is a zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 88baf9f1da184fc78a49b064f0b4de85
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: system.name
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: df3c9e64b0f844ddac8f40f6df956595
              expression: 'last(/HP iLO by SNMP/system.name,#1)<>last(/HP iLO by SNMP/system.name,#2) and length(last(/HP iLO by SNMP/system.name))>0'
              name: 'HP iLO: System name has changed'
              event_name: 'HP iLO: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: 05166eb015534cae9798f9266d3d0a6b
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: 'system.net.uptime[sysUpTime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            Time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: d02b8e2d5c7a4afabc2fbadc8674288c
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.2.0]'
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity. This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 5f30715570c449ecb4e07858256a3e05
          name: 'Overall system health status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.6.1.3.0]'
          key: 'system.status[cpqHeMibCondition.0]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            The overall condition. This object represents the overall status of the server information represented by this MIB.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 6d0d0554e1c945dc90701aebd531f9cb
              expression: 'count(/HP iLO by SNMP/system.status[cpqHeMibCondition.0],#1,"eq","{$HEALTH_CRIT_STATUS}")=1'
              name: 'HP iLO: System status is in critical state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for errors'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
            - uuid: 273c27c7929649f1a45ddc92c09ab982
              expression: 'count(/HP iLO by SNMP/system.status[cpqHeMibCondition.0],#1,"eq","{$HEALTH_WARN_STATUS}")=1'
              name: 'HP iLO: System status is in warning state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Please check the device for warnings'
              dependencies:
                - name: 'HP iLO: System status is in critical state'
                  expression: 'count(/HP iLO by SNMP/system.status[cpqHeMibCondition.0],#1,"eq","{$HEALTH_CRIT_STATUS}")=1'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: e5ebd75f34f24502b3cdc2a707fb24c5
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible values:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 8870beab300f41ea8d54619fd2bf0371
              expression: 'max(/HP iLO by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'HP iLO: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              dependencies:
                - name: 'HP iLO: Unavailable by ICMP ping'
                  expression: 'max(/HP iLO by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 7589f2f30c7e4cf88bb7cd1d57f543a4
          name: 'Array Controller Cache Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#CACHE_STATUS},1.3.6.1.4.1.232.3.2.2.2.1.2,{#CACHE_CNTRL_INDEX},1.3.6.1.4.1.232.3.2.2.2.1.1]'
          key: array.cache.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaAccelTable'
          item_prototypes:
            - uuid: f212a5a7f2754d49aab4d4a4a6a5ca44
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.2.1.6.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module Board Backup Power Status. This monitors the status of each backup power source on the board.
                The backup power source can only recharge when the system has power applied. The type of backup power source used is indicated by cpqDaAccelBackupPowerSource.
                The following values are valid:
                Other (1)  Indicates that the instrument agent does not recognize  backup power status.  You may need to update your software.
                
                Ok (2)  The backup power source is fully charged.
                
                Recharging (3)  The array controller has one or more cache module backup power  sources that are recharging.
                Cache module operations such as Battery/Flash Backed Write Cache, Expansion, Extension and Migration are temporarily suspended until the backup power source is fully charged.
                Cache module operations will automatically resume  when charging is complete.
                
                Failed (4)  The battery pack is below the sufficient voltage level and  has not recharged in 36 hours.
                Your Cache Module board  needs to be serviced.
                
                Degraded (5)  The battery is still operating, however, one of the batteries  in the pack has failed to recharge properly.
                Your Cache  Module board should be serviced as soon as possible.
                
                NotPresent (6)  A backup power source is not present on the cache module board. Some controllers do not have backup power sources.
                
                Capacitor Failed (7)  The flash backed cache module capacitor is below the sufficient voltage level and has not recharged in 10 minutes.  Your Cache Module board needs to be serviced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelBattery'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: b3049aa19e5d45d28937c1af262aba3e
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:\"failed\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:\"capacitorFailed\"}")=1'
                  name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 384fd446bcb042f89ca348ec7459f1aa
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:\"degraded\"}")=1'
                  name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state!'
                      expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:\"failed\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:\"capacitorFailed\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: 2e20ec1d27374dceb363a6cdd568d23d
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.2.1.2.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module/Operations Status. This describes the status of the cache module and/or cache operations.
                Note that for some controller models, a cache module board that physically attaches to the controller or chipset may not be an available option.
                The status can be:
                
                Other (1)
                 Indicates that the instrument agent does not recognize the status of the cache module. You may need to upgrade the instrument agent.
                
                Invalid (2)
                 Indicates that a cache module board has not been installed in this system or is present but not configured.
                
                Enabled (3)
                 Indicates that cache operations are currently configured and enabled for at least one logical drive.
                
                Temporarily Disabled (4)
                 Indicates that cache operations have been temporarily disabled. View the cache module board error code object to determine why the write cache operations have been temporarily disabled.
                
                Permanently Disabled (5)
                 Indicates that cache operations have been permanently disabled. View the cache module board error code object to determine why the write cache operations have been disabled.
                
                Cache Module Flash Memory Not Attached (6)
                 Indicates that the flash memory component of the flash backed cache module is not attached. This status will be set when the flash memory is not attached and the Supercap is attached. This value is only used on flash backed cache modules that support removable flash memory.
                
                Cache Module Degraded Failsafe Speed (7)
                 Indicates that the cache module board is currently degraded and operating at a failsafe speed. View variables cpqDaCacheMemoryDataWidth and cpqDaCacheMemoryTransferRate to obtain the cache module board`s current memory data width and memory transfer rate.
                
                Cache Module Critical Failure (8)
                 Indicates that the cache module board has encountered a critical failure. The controller is currently operating in Zero Memory Raid mode.
                
                Read Cache Could Not Be Mapped (9)
                 Indicates that the read cache memory in a split cache configuration could not be mapped by the operating system and as a result is not available. This status may be caused by virtual space limitations in certain operating systems and is only applicable to B-Series controllers.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: a4c81fb1ef6140199bbde241691183cd
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_CRIT_STATUS:\"cacheModCriticalFailure\"}")=1'
                  name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  tags:
                    - tag: component
                      value: array
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 7370a7c6388c4ff8b094959ca0c34a72
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheModDegradedFailsafeSpeed\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheReadCacheNotMapped\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheModFlashMemNotAttached\"}")=1'
                  name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_CRIT_STATUS:\"cacheModCriticalFailure\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 4db3b402580c43eba0d9dc6349cf95ca
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"ne","{$DISK_ARRAY_CACHE_OK_STATUS:\"enabled\"}")=1 and last(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])<>{$DISK_ARRAY_CACHE_WARN_STATUS:"invalid"}'
                  name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_CRIT_STATUS:\"cacheModCriticalFailure\"}")=1'
                    - name: 'HP iLO: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                      expression: 'count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheModDegradedFailsafeSpeed\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheReadCacheNotMapped\"}")=1 or count(/HP iLO by SNMP/system.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_WARN_STATUS:\"cacheModFlashMemNotAttached\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: bfbfb003935f4a2da4ff253f1f01cda9
          name: 'Array Controller Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.2.1.1.1,{#CNTLR_SLOT},1.3.6.1.4.1.232.3.2.2.1.1.5,{#CNTLR_LOCATION},1.3.6.1.4.1.232.3.2.2.1.1.20]'
          key: array.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaCntlrTable'
          item_prototypes:
            - uuid: 72e008704de649bbb10df34d38158b69
              name: '{#CNTLR_LOCATION}: Disk array controller model'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.1.1.2.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.model[cpqDaCntlrModel.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Array Controller Model. The type of controller card.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaCntlrModel'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 71ae1496057044819a80f0660d838083
              name: '{#CNTLR_LOCATION}: Disk array controller status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.1.1.6.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                This value represents the overall condition of this controller,
                and any associated logical drives,physical drives, and array accelerators.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: a318564fe4eb488eba251f3cba3d31b6
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS}")=1'
                  name: 'HP iLO: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 6b65d2b2477c4567953fcec31b1ab9a3
                  expression: 'count(/HP iLO by SNMP/system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_WARN_STATUS}")=1'
                  name: 'HP iLO: {#CNTLR_LOCATION}: Disk array controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'HP iLO: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                      expression: 'count(/HP iLO by SNMP/system.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: dd52cf7724f7471cabf1970707a6fdd6
          name: 'FAN Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.7.1.9]'
          key: fan.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolFanCondition'
          item_prototypes:
            - uuid: 2173681feff54bbbb27bca1c82fab363
              name: 'Fan {#SNMPINDEX}: Fan status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.7.1.9.{#SNMPINDEX}]'
              key: 'sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the fan.
                This value will be one of the following:
                other(1)  Fan status detection is not supported by this system or driver.
                ok(2)  The fan is operating properly.
                degraded(2)  A redundant fan is not operating properly.
                failed(4)  A non-redundant fan is not operating properly.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: 0731e25040504428acb466b0d4e2803a
                  expression: 'count(/HP iLO by SNMP/sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS}")=1'
                  name: 'HP iLO: Fan {#SNMPINDEX}: Fan is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: c8c9ea062fa849b0b550ad4dd1d2cec7
                  expression: 'count(/HP iLO by SNMP/sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS}")=1'
                  name: 'HP iLO: Fan {#SNMPINDEX}: Fan is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit'
                  dependencies:
                    - name: 'HP iLO: Fan {#SNMPINDEX}: Fan is in critical state'
                      expression: 'count(/HP iLO by SNMP/sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 5b68bccba85349beb2800bbb99ba5e13
          name: 'Physical Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.5.1.1.5,{#DISK_LOCATION},1.3.6.1.4.1.232.3.2.5.1.1.64]'
          key: physicalDisk.discovery
          delay: 1h
          description: 'Scanning  table of physical drive entries CPQIDA-MIB::cpqDaPhyDrvTable.'
          item_prototypes:
            - uuid: a6dfc1cf30e141b6b47d463d436f14b6
              name: '{#DISK_LOCATION}: Physical disk media type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.69.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.media_type[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Drive Array Physical Drive Media Type.The following values are defined:
                other(1)  The instrument agent is unable to determine the physical drive's media type.
                rotatingPlatters(2)  The physical drive media is composed of rotating platters.
                solidState(3)  The physical drive media is composed of solid state electronics.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 82f09b232147488fb9bd7253ce1432c2
              name: '{#DISK_LOCATION}: Physical disk model name'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.3.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.model[cpqDaPhyDrvModel.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Model.This is a text description of the physical drive.
                The text that appears depends upon who manufactured the drive and the drive type.
                If a drive fails, note the model to identify the type of drive necessary for replacement.
                If a model number is not present, you may not have properly initialized the drive array to which the physical drive is attached for monitoring.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 5eca1a95575f4cb891545bde063aae7b
              name: '{#DISK_LOCATION}: Physical disk serial number'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.51.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Serial Number.
                This is the serial number assigned to the physical drive.
                This value is based upon the serial number as returned by the SCSI inquiry command
                but may have been modified due to space limitations.  This can be used for identification purposes.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 87bcd812474b44729da19f49344ba976
                  expression: 'last(/HP iLO by SNMP/system.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#1)<>last(/HP iLO by SNMP/system.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#2) and length(last(/HP iLO by SNMP/system.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]))>0'
                  name: 'HP iLO: {#DISK_LOCATION}: Disk has been replaced'
                  event_name: 'HP iLO: {#DISK_LOCATION}: Disk has been replaced (new serial number received)'
                  priority: INFO
                  description: 'Disk serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 03cf9c027f9b4557a0d0a233347c58d2
              name: '{#DISK_LOCATION}: Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.45.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.size[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Size in MB.
                This is the size of the physical drive in megabytes.
                This value is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ
                from the advertised size of a drive. This field is only applicable for controllers which support SCSI drives,
                and therefore is not supported by the IDA or IDA-2 controllers. The field will contain 0xFFFFFFFF if the drive capacity cannot be calculated
                or if the controller does not support SCSI drives.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: e0864c9d70204f048fc0c597a996b19f
              name: '{#DISK_LOCATION}: Physical disk S.M.A.R.T. status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.57.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive S.M.A.R.T Status.The following values are defined:
                other(1)  The agent is unable to determine if the status of S.M.A.R.T  predictive failure monitoring for this drive.
                ok(2)  Indicates the drive is functioning properly.
                replaceDrive(3)  Indicates that the drive has a S.M.A.R.T predictive failure  error and should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 180f8f9124a041d0bf1c350d0226c3d3
                  expression: 'count(/HP iLO by SNMP/system.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}],#1,"eq","{$DISK_SMART_FAIL_STATUS:\"replaceDrive\"}")=1 or count(/HP iLO by SNMP/system.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}],#1,"eq","{$DISK_SMART_FAIL_STATUS:\"replaceDriveSSDWearOut\"}")=1'
                  name: 'HP iLO: {#DISK_LOCATION}: Physical disk S.M.A.R.T. failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Disk probably requires replacement.'
                  dependencies:
                    - name: 'HP iLO: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'count(/HP iLO by SNMP/system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: d88cd26724fd4f19b899b4767fb33814
              name: '{#DISK_LOCATION}: Physical disk status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.6.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Status. This shows the status of the physical drive. The following values are valid for the physical drive status:
                other (1)  Indicates that the instrument agent does not recognize  the drive.
                You may need to upgrade your instrument agent  and/or driver software.
                ok (2)  Indicates the drive is functioning properly.
                failed (3)  Indicates that the drive is no longer operating and  should be replaced.
                predictiveFailure(4)  Indicates that the drive has a predictive failure error and  should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 95e887baa0b9480a8a59848b07418c6b
                  expression: 'count(/HP iLO by SNMP/system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS}")=1'
                  name: 'HP iLO: {#DISK_LOCATION}: Physical disk failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 857540089794495799eb1a04b172c70c
                  expression: 'count(/HP iLO by SNMP/system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}],#1,"eq","{$DISK_WARN_STATUS}")=1'
                  name: 'HP iLO: {#DISK_LOCATION}: Physical disk is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check physical disk for warnings or errors'
                  dependencies:
                    - name: 'HP iLO: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'count(/HP iLO by SNMP/system.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: a77e77fc862847078ff3328f4d331747
          name: 'PSU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.9.3.1.5,{#CHASSIS_NUM},1.3.6.1.4.1.232.6.2.9.3.1.1,{#BAY_NUM},1.3.6.1.4.1.232.6.2.9.3.1.2]'
          key: psu.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolPowerSupplyStatus'
          item_prototypes:
            - uuid: 45d3144d0e5342c6a98b6aca01f4a907
              name: 'Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.9.3.1.4.{#SNMPINDEX}]'
              key: 'sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the power supply. This value will be one of the following:
                other(1)  The status could not be determined or not present.
                ok(2)  The power supply is operating normally.
                degraded(3)  A temperature sensor, fan or other power supply component is  outside of normal operating range.
                failed(4)  A power supply component detects a condition that could  permanently damage the system.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 7a34714fcbb74294af97bc4f39c21413
                  expression: 'count(/HP iLO by SNMP/sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS}")=1'
                  name: 'HP iLO: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the power supply unit for errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: db7679204aa544cb8ffe38df5c68b7ce
                  expression: 'count(/HP iLO by SNMP/sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}],#1,"eq","{$PSU_WARN_STATUS}")=1'
                  name: 'HP iLO: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the power supply unit for errors'
                  dependencies:
                    - name: 'HP iLO: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                      expression: 'count(/HP iLO by SNMP/sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: d39d17234d34419ab9bb0c1d90505bff
          name: 'Temperature Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: (4|8|9|12|13)
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable'
          item_prototypes:
            - uuid: ac352f7b00d6478daf601d0f7cb508e4
              name: '{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.
                If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: b7786ff4c57a4143b79e95bfc5470dcd
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: {#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 11365923a7b242fea930250e26fcc548
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: {#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: dd0fd44bd7bb43bd85fdd63a199e0e69
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: {#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 63fd55c6dee6427bbba7daa023d8f91a
              name: '{#SNMPINDEX}: Temperature sensor location'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.3.{#SNMPINDEX}]'
              key: 'sensor.temp.locale[cpqHeTemperatureLocale.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                This specifies the location of the temperature sensor present in the system.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
            - uuid: 7c7d2807f0714bca8c8f263c2a4be8e6
              name: '{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: {#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 279cdcdb6d304a7fb6ba0667c55fc774
          name: 'Temperature Discovery Ambient'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.ambient
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '11'
                formulaid: A
              - macro: '{#SNMPINDEX}'
                value: 0\.1
                formulaid: B
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with ambient(11) and 0.1 index filter'
          item_prototypes:
            - uuid: da102e6fc86b49c7bd57c2805ca08675
              name: 'Ambient: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: e955550a2496435eb799d317f2036c55
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: Ambient: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 8cd2c8b62b164923afed02da2be52dcc
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: Ambient: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: d11e13c5714a42d49bea54d837f9f418
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: Ambient: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: fd9c9a22a2a946ef895f92300de12004
              name: 'Ambient: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Ambient
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 8a0f24370b2246799b3db8c547f34d3e
          name: 'Temperature Discovery CPU'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.cpu
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '6'
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with cpu(6) filter'
          item_prototypes:
            - uuid: 4cad241ca3bd4382879bebabc4f42201
              name: 'CPU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 512654c27ea94ed4993380793a67f68b
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: CPU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 7853d0c8ed4a4ebe98e38c7499417ebe
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: CPU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 0434d2a6a1b54cb7bcd0e6f58d973be4
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: CPU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 0bfe29bdf06e4432aafbbddb5bc02272
              name: 'CPU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: CPU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: b32425e531b444c69cdc3efc015286f2
          name: 'Temperature Discovery I/O'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.io
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '5'
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with ioBoard(5) filter'
          item_prototypes:
            - uuid: 51fbe5f6d6c1481e818eafa7cbe01295
              name: 'I/O-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 2875e5ebea474eccac8d53dd13539bd6
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 1'
                  name: 'HP iLO: I/O-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 593b167fe62e4a7fae35ebb508540325
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 4'
                  name: 'HP iLO: I/O-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: bf6a10f0596a45b4b8f8a2f0acf7c778
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 3'
                  name: 'HP iLO: I/O-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 5a37a9c96a9748468d10562bd1242aa0
              name: 'I/O-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius."I/O.{#SNMPINDEX}"]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: I/O-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: f35e84ec9cb74bd19610fa7fdc59433d
          name: 'Temperature Discovery Memory'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.memory
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '7'
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with memory(7) filter'
          item_prototypes:
            - uuid: 861d683a933b4eb5989b0f5484a9a93d
              name: 'Memory-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 881f28f6411c467493c56a64237d8ca8
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: Memory-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: c05402995e6146d28c53fc33e88d8164
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: Memory-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: bfac7287a9d842cb89d8089af72e2e12
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: Memory-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: feb78ed0e9c640f2b2e122bebca181a7
              name: 'Memory-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Memory-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: c12fc57ae86e434abd25e8ba8f6ca642
          name: 'Temperature Discovery PSU'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.psu
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '10'
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with powerSupply(10) filter'
          item_prototypes:
            - uuid: 01eea51183834c6a8ed7daf75abe6c87
              name: 'PSU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 14ab7adae80c4859952381bfe17a14a3
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: PSU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 97481f1183c3444c851fe99428bd7bf3
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: PSU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 8c7f5250756946a595b742519e4890a5
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: PSU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: d2e8eb2989364732b85dbef4eb7d1ce4
              name: 'PSU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: PSU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 4d513f2958ac483383ff803df781bd76
          name: 'Temperature Discovery System'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: tempDescr.discovery.system
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '3'
                formulaid: A
          description: 'Scanning table of Temperature Sensor Entries: CPQHLTH-MIB::cpqHeTemperatureTable with system(3) filter'
          item_prototypes:
            - uuid: 6adae921be5545c995cf24b2b900818c
              name: 'System-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: d161829ab0ec496bb4718ed156853c3f
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 1'
                  name: 'HP iLO: System-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: a65a8386fdd048f986a3aa3fcf29a959
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 4'
                  name: 'HP iLO: System-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 0b13f436c7984eef9624632bb5f43970
                  expression: 'last(/HP iLO by SNMP/sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 3'
                  name: 'HP iLO: System-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: aa985d3fb0084e24bd9f3e81c249cae4
              name: 'System-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: System-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: f8ddad8119414bdbb695feaa788aa89e
          name: 'Virtual Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.3.1.1.2,{#DISK_NAME},1.3.6.1.4.1.232.3.2.3.1.1.14]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'CPQIDA-MIB::cpqDaLogDrvTable'
          item_prototypes:
            - uuid: 3d06c600df19479abc35c47832f1abc2
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Layout type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.3.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.layout[cpqDaLogDrvFaultTol.{#SNMPINDEX}]'
              description: |
                Logical Drive Fault Tolerance.
                This shows the fault tolerance mode of the logical drive.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 39add64d1cef451091f5416440ea0adc
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.9.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.size[cpqDaLogDrvSize.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                Logical Drive Size.
                This is the size of the logical drive in megabytes.  This value
                is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a
                megabyte when giving drive capacities so this value may
                differ from the advertised size of a drive.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: e0de2e2cc2ac423c95bcca5c77b1a53c
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.4.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}]'
              description: 'Logical Drive Status.'
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 3f809df0d34f47a2bc1addbf2f4387ac
                  expression: 'count(/HP iLO by SNMP/system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}],#1,"eq","{$VDISK_CRIT_STATUS}")=1'
                  name: 'HP iLO: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check virtual disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 439b8dfa246f42d190d8f4deeebfeb53
                  expression: 'count(/HP iLO by SNMP/system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}],#1,"ne","{$VDISK_OK_STATUS}")=1'
                  name: 'HP iLO: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk is not in OK state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check virtual disk for warnings or errors'
                  dependencies:
                    - name: 'HP iLO: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                      expression: 'count(/HP iLO by SNMP/system.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}],#1,"eq","{$VDISK_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: hp
        - tag: target
          value: ilo
      macros:
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:"capacitorFailed"}'
          value: '7'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS:"failed"}'
          value: '4'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:"degraded"}'
          value: '5'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS:"notPresent"}'
          value: '6'
        - macro: '{$DISK_ARRAY_CACHE_CRIT_STATUS:"cacheModCriticalFailure"}'
          value: '8'
        - macro: '{$DISK_ARRAY_CACHE_OK_STATUS:"enabled"}'
          value: '3'
        - macro: '{$DISK_ARRAY_CACHE_WARN_STATUS:"cacheModDegradedFailsafeSpeed"}'
          value: '7'
        - macro: '{$DISK_ARRAY_CACHE_WARN_STATUS:"cacheModFlashMemNotAttached"}'
          value: '6'
        - macro: '{$DISK_ARRAY_CACHE_WARN_STATUS:"cacheReadCacheNotMapped"}'
          value: '9'
        - macro: '{$DISK_ARRAY_CACHE_WARN_STATUS:"invalid"}'
          value: '2'
        - macro: '{$DISK_ARRAY_CRIT_STATUS}'
          value: '4'
        - macro: '{$DISK_ARRAY_WARN_STATUS}'
          value: '3'
        - macro: '{$DISK_FAIL_STATUS}'
          value: '3'
        - macro: '{$DISK_SMART_FAIL_STATUS:"replaceDrive"}'
          value: '3'
        - macro: '{$DISK_SMART_FAIL_STATUS:"replaceDriveSSDWearOut"}'
          value: '4'
        - macro: '{$DISK_WARN_STATUS}'
          value: '4'
        - macro: '{$FAN_CRIT_STATUS}'
          value: '4'
        - macro: '{$FAN_WARN_STATUS}'
          value: '3'
        - macro: '{$HEALTH_CRIT_STATUS}'
          value: '4'
        - macro: '{$HEALTH_WARN_STATUS}'
          value: '3'
        - macro: '{$ICMP_LOSS_WARN}'
          value: '20'
          description: 'Warning threshold of ICMP packet loss in %.'
        - macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
          description: 'Warning threshold of the average ICMP response time in seconds.'
        - macro: '{$PSU_CRIT_STATUS}'
          value: '4'
        - macro: '{$PSU_WARN_STATUS}'
          value: '3'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'Time interval for the SNMP availability trigger.'
        - macro: '{$VDISK_CRIT_STATUS}'
          value: '3'
        - macro: '{$VDISK_OK_STATUS}'
          value: '2'
      valuemaps:
        - uuid: 1a03c5602a4a49f8839d820c666434fc
          name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: f1e590a8cc744e22b900595851833357
          name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: system
            - value: '4'
              newvalue: systemBoard
            - value: '5'
              newvalue: ioBoard
            - value: '6'
              newvalue: cpu
            - value: '7'
              newvalue: memory
            - value: '8'
              newvalue: storage
            - value: '9'
              newvalue: removableMedia
            - value: '10'
              newvalue: powerSupply
            - value: '11'
              newvalue: ambient
            - value: '12'
              newvalue: chassis
            - value: '13'
              newvalue: bridgeCard
        - uuid: 7502d61cf7644a2d9cff7462f53569ee
          name: 'CPQIDA-MIB::cpqDaAccelBattery'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: Ok
            - value: '3'
              newvalue: Recharging
            - value: '4'
              newvalue: Failed
            - value: '5'
              newvalue: Degraded
            - value: '6'
              newvalue: 'Not Present'
            - value: '7'
              newvalue: 'Capacitor failed'
        - uuid: 20d96ea63e994ba49244b94a4c24aec3
          name: 'CPQIDA-MIB::cpqDaAccelStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: invalid
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: tmpDisabled
            - value: '5'
              newvalue: permDisabled
            - value: '6'
              newvalue: cacheModFlashMemNotAttached
            - value: '7'
              newvalue: cacheModDegradedFailsafeSpeed
            - value: '8'
              newvalue: cacheModCriticalFailure
            - value: '9'
              newvalue: cacheReadCacheNotMapped
        - uuid: 140a21785b764c95a3f78c8c05ed0844
          name: 'CPQIDA-MIB::cpqDaCntlrModel'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ida
            - value: '3'
              newvalue: idaExpansion
            - value: '4'
              newvalue: ida-2
            - value: '5'
              newvalue: smart
            - value: '6'
              newvalue: smart-2e
            - value: '7'
              newvalue: smart-2p
            - value: '8'
              newvalue: smart-2sl
            - value: '9'
              newvalue: smart-3100es
            - value: '10'
              newvalue: smart-3200
            - value: '11'
              newvalue: smart-2dh
            - value: '12'
              newvalue: smart-221
            - value: '13'
              newvalue: sa-4250es
            - value: '14'
              newvalue: sa-4200
            - value: '15'
              newvalue: sa-integrated
            - value: '16'
              newvalue: sa-431
            - value: '17'
              newvalue: sa-5300
            - value: '18'
              newvalue: raidLc2
            - value: '19'
              newvalue: sa-5i
            - value: '20'
              newvalue: sa-532
            - value: '21'
              newvalue: sa-5312
            - value: '22'
              newvalue: sa-641
            - value: '23'
              newvalue: sa-642
            - value: '24'
              newvalue: sa-6400
            - value: '25'
              newvalue: sa-6400em
            - value: '26'
              newvalue: sa-6i
            - value: '27'
              newvalue: sa-generic
            - value: '29'
              newvalue: sa-p600
            - value: '30'
              newvalue: sa-p400
            - value: '31'
              newvalue: sa-e200
            - value: '32'
              newvalue: sa-e200i
            - value: '33'
              newvalue: sa-p400i
            - value: '34'
              newvalue: sa-p800
            - value: '35'
              newvalue: sa-e500
            - value: '36'
              newvalue: sa-p700m
            - value: '37'
              newvalue: sa-p212
            - value: '38'
              newvalue: sa-p410
            - value: '39'
              newvalue: sa-p410i
            - value: '40'
              newvalue: sa-p411
            - value: '41'
              newvalue: sa-b110i
            - value: '42'
              newvalue: sa-p712m
            - value: '43'
              newvalue: sa-p711m
            - value: '44'
              newvalue: sa-p812
            - value: '45'
              newvalue: sw-1210m
            - value: '46'
              newvalue: sa-p220i
            - value: '47'
              newvalue: sa-p222
            - value: '48'
              newvalue: sa-p420
            - value: '49'
              newvalue: sa-p420i
            - value: '50'
              newvalue: sa-p421
            - value: '51'
              newvalue: sa-b320i
            - value: '52'
              newvalue: sa-p822
            - value: '53'
              newvalue: sa-p721m
            - value: '54'
              newvalue: sa-b120i
            - value: '55'
              newvalue: hps-1224
            - value: '56'
              newvalue: hps-1228
            - value: '57'
              newvalue: hps-1228m
            - value: '58'
              newvalue: sa-p822se
            - value: '59'
              newvalue: hps-1224e
            - value: '60'
              newvalue: hps-1228e
            - value: '61'
              newvalue: hps-1228em
            - value: '62'
              newvalue: sa-p230i
            - value: '63'
              newvalue: sa-p430i
            - value: '64'
              newvalue: sa-p430
            - value: '65'
              newvalue: sa-p431
            - value: '66'
              newvalue: sa-p731m
            - value: '67'
              newvalue: sa-p830i
            - value: '68'
              newvalue: sa-p830
            - value: '69'
              newvalue: sa-p831
            - value: '70'
              newvalue: sa-p530
            - value: '71'
              newvalue: sa-p531
            - value: '72'
              newvalue: sa-p244br
            - value: '73'
              newvalue: sa-p246br
            - value: '74'
              newvalue: sa-p440
            - value: '75'
              newvalue: sa-p440ar
            - value: '76'
              newvalue: sa-p441
            - value: '77'
              newvalue: sa-p741m
            - value: '78'
              newvalue: sa-p840
            - value: '79'
              newvalue: sa-p841
            - value: '80'
              newvalue: sh-h240ar
            - value: '81'
              newvalue: sh-h244br
            - value: '82'
              newvalue: sh-h240
            - value: '83'
              newvalue: sh-h241
            - value: '84'
              newvalue: sa-b140i
            - value: '85'
              newvalue: sh-generic
            - value: '88'
              newvalue: sa-p840ar
        - uuid: 442c9095de9f4aa5bcca659292b2c12b
          name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
          mappings:
            - value: '0'
              newvalue: other
            - value: '2'
              newvalue: none
            - value: '3'
              newvalue: RAID-1/RAID-10
            - value: '4'
              newvalue: RAID-4
            - value: '5'
              newvalue: RAID-5
            - value: '7'
              newvalue: RAID-6
            - value: '8'
              newvalue: RAID-50
            - value: '9'
              newvalue: RAID-60
            - value: '10'
              newvalue: 'RAID-1 ADM'
            - value: '11'
              newvalue: 'RAID-10 ADM'
        - uuid: 8db38b47aba64739ae9f078f43b42888
          name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: unconfigured
            - value: '5'
              newvalue: recovering
            - value: '6'
              newvalue: readyForRebuild
            - value: '7'
              newvalue: rebuilding
            - value: '8'
              newvalue: wrongDrive
            - value: '9'
              newvalue: badConnect
            - value: '10'
              newvalue: overheating
            - value: '11'
              newvalue: shutdown
            - value: '12'
              newvalue: expanding
            - value: '13'
              newvalue: notAvailable
            - value: '14'
              newvalue: queuedForExpansion
            - value: '15'
              newvalue: multipathAccessDegraded
            - value: '16'
              newvalue: erasing
            - value: '17'
              newvalue: predictiveSpareRebuildReady
            - value: '18'
              newvalue: rapidParityInitInProgress
            - value: '19'
              newvalue: rapidParityInitPending
            - value: '20'
              newvalue: noAccessEncryptedNoCntlrKey
            - value: '21'
              newvalue: unencryptedToEncryptedInProgress
            - value: '22'
              newvalue: newLogDrvKeyRekeyInProgress
            - value: '23'
              newvalue: noAccessEncryptedCntlrEncryptnNotEnbld
            - value: '24'
              newvalue: unencryptedToEncryptedNotStarted
            - value: '25'
              newvalue: newLogDrvKeyRekeyRequestReceived
        - uuid: 8351a024aa4d42d1915b44abe8acc4aa
          name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: rotatingPlatters
            - value: '3'
              newvalue: solidState
        - uuid: 54b288da67e1431c9d401cf47a518bcc
          name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: replaceDrive
            - value: '4'
              newvalue: replaceDriveSSDWearOut
        - uuid: 68bc7370fb8a43ee9957240e29636562
          name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: predictiveFailure
        - uuid: 8374297ea234491b980591a8daa88e1f
          name: 'CPQSINFO-MIB::status'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: 98d8b8c35272455281f6ae0775691117
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: 1d84ec840bfb4ca0a8e98d11008e8423
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 261749b9936c4a26b48d660f01435fb7
      expression: '(last(/HP iLO by SNMP/system.hw.uptime[hrSystemUptime.0])>0 and last(/HP iLO by SNMP/system.hw.uptime[hrSystemUptime.0])<10m) or (last(/HP iLO by SNMP/system.hw.uptime[hrSystemUptime.0])=0 and last(/HP iLO by SNMP/system.net.uptime[sysUpTime.0])<10m)'
      name: 'HP iLO: Host has been restarted'
      event_name: 'HP iLO: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'HP iLO: No SNMP data collection'
          expression: 'max(/HP iLO by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
