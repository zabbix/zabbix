zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: 379aaf7e87574debb4f5c3947a22ec68
      template: 'HPE ProLiant DL380 by SNMP'
      name: 'HPE ProLiant DL380 by SNMP'
      description: |
        Template for HPE ProLiant DL380 servers with HP iLO version 4 and later.
        
        MIBs used:
        HOST-RESOURCES-MIB
        CPQHLTH-MIB
        SNMPv2-MIB
        CPQNIC-MIB
        CPQSINFO-MIB
        CPQIDA-MIB
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.4-1
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 19ed955aeefa493883a151ddb550b8ff
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: 'hp.server.contact[sysContact]'
          delay: 1h
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 7b9fc7a143c74d1b812d14413c1f53b0
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: 'hp.server.descr[sysDescr]'
          delay: 1h
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: d2cad986747643658bee67492d90d106
          name: 'Hardware model name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.2.2.4.2.0]'
          key: 'hp.server.hw.model[cpqSiProductName]'
          value_type: CHAR
          description: |
            MIB: CPQSINFO-MIB
            The machine product name. The name of the machine used in this system.
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 6cdacf190c584227b822fee9c112b849
          name: 'Hardware serial number'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.2.2.2.1.0]'
          key: 'hp.server.hw.serialnumber[cpqSiSysSerialNum]'
          value_type: CHAR
          description: |
            MIB: CPQSINFO-MIB
            The serial number of the physical system unit. The string will be empty if the system does not report the serial number function.
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: bd81b8c420904f0bafa4fbf90d195967
              expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.serialnumber[cpqSiSysSerialNum],#1)<>last(/HPE ProLiant DL380 by SNMP/hp.server.hw.serialnumber[cpqSiSysSerialNum],#2) and length(last(/HPE ProLiant DL380 by SNMP/hp.server.hw.serialnumber[cpqSiSysSerialNum]))>0'
              name: 'HPE ProLiant DL380: Device has been replaced'
              event_name: 'HPE ProLiant DL380: Device has been replaced (new serial number received)'
              priority: INFO
              description: 'Device serial number has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 437a251079a44869ba9b11b2184d85e7
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.25.1.1.0]'
          key: 'hp.server.hw.uptime[hrSystemUptime]'
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 622dd9bef33b4db7bf5899a6f6ccb7b3
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: 'hp.server.location[sysLocation]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 2726dcd682d340b681f5dfa8d1e3ef07
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: 'hp.server.name[sysName]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 168b1742abc340558631a577a1a3c4d9
              expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.name[sysName],#1)<>last(/HPE ProLiant DL380 by SNMP/hp.server.name[sysName],#2) and length(last(/HPE ProLiant DL380 by SNMP/hp.server.name[sysName]))>0'
              name: 'HPE ProLiant DL380: System name has changed'
              event_name: 'HPE ProLiant DL380: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 5576766f3a004fd3894ff22da515aedc
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: 'hp.server.net.uptime[sysUpTime]'
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 1394f5cfccb64c53abd8cff0f095906f
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.2.0]'
          key: 'hp.server.objectid[sysObjectID]'
          delay: 15m
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 09930c5b67d44de49bedfe7465697d40
          name: 'System temperature status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.1.0]'
          key: 'hp.server.sensor.temp.status[cpqHeThermalCondition]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            This value specifies the overall condition of the system's thermal environment.
            This value will be one of the following:
            other(1)  Temperature could not be determined.
            ok(2)  The temperature sensor is within normal operating range.
            degraded(3)  The temperature sensor is outside of normal operating range.
            failed(4)  The temperature sensor detects a condition that could  permanently damage the system.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: temperature
        - uuid: e980a83b24bd4bdb9d2b7369d41c9aea
          name: 'Overall system health status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.232.6.1.3.0]'
          key: 'hp.server.status[cpqHeMibCondition]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            The overall condition. This object represents the overall status of the server information represented by this MIB.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: e9bf032edb2e45f0b64cb904bf8d8403
              expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.CRIT}'
              name: 'HPE ProLiant DL380: System status is in critical state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for errors.'
              tags:
                - tag: scope
                  value: available
            - uuid: 537c411a3d454a8b9dc64378e0e9a6cd
              expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.WARN}'
              name: 'HPE ProLiant DL380: System status is in warning state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Please check the device for warnings.'
              dependencies:
                - name: 'HPE ProLiant DL380: System status is in critical state'
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.CRIT}'
              tags:
                - tag: scope
                  value: available
        - uuid: 1170728f4f534d19acfa001d1b00dcc4
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          value_type: LOG
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items.'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 53bf83d6a797436da2d1d8498410a113
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          valuemap:
            name: zabbix.host.available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: 97c3665497ae46eb91d81c14c5f4ac06
              expression: 'max(/HPE ProLiant DL380 by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'HPE ProLiant DL380: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              tags:
                - tag: scope
                  value: available
      discovery_rules:
        - uuid: 43aa549fc1584a68a9d86375aa491b41
          name: 'Array controller cache discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#CACHE_STATUS},1.3.6.1.4.1.232.3.2.2.2.1.2,{#CACHE_CNTRL_INDEX},1.3.6.1.4.1.232.3.2.2.2.1.1]'
          key: array.cache.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaAccelTable'
          item_prototypes:
            - uuid: 11c4de648fe041c288ca7bcf062df6e4
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.2.1.6.{#SNMPINDEX}]'
              key: 'hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module Board Backup Power Status. This monitors the status of each backup power source on the board.
                The backup power source can only recharge when the system has power applied. The type of backup power source used is indicated by cpqDaAccelBackupPowerSource.
                The following values are valid:
                Other (1)  Indicates that the instrument agent does not recognize  backup power status.  You may need to update your software.
                
                Ok (2)  The backup power source is fully charged.
                
                Recharging (3)  The array controller has one or more cache module backup power  sources that are recharging.
                Cache module operations such as Battery/Flash Backed Write Cache, Expansion, Extension and Migration are temporarily suspended until the backup power source is fully charged.
                Cache module operations will automatically resume  when charging is complete.
                
                Failed (4)  The battery pack is below the sufficient voltage level and  has not recharged in 36 hours.
                Your Cache Module board  needs to be serviced.
                
                Degraded (5)  The battery is still operating, however, one of the batteries  in the pack has failed to recharge properly.
                Your Cache  Module board should be serviced as soon as possible.
                
                NotPresent (6)  A backup power source is not present on the cache module board. Some controllers do not have backup power sources.
                
                Capacitor Failed (7)  The flash backed cache module capacitor is below the sufficient voltage level and has not recharged in 10 minutes.  Your Cache Module board needs to be serviced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelBattery'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 4eb29401f4c7400ca87bb2449eb0f8e2
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
                  name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 0378b7339a3d482ea92f523f3d84c498
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"degraded"}'
                  name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 941ef3a8d3994186b16a1a82aed3649b
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.2.1.2.{#SNMPINDEX}]'
              key: 'hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module/Operations Status. This describes the status of the cache module and/or cache operations.
                Note that for some controller models, a cache module board that physically attaches to the controller or chipset may not be an available option.
                
                The status can be:
                Other (1)
                 Indicates that the instrument agent does not recognize the status of the cache module. You may need to upgrade the instrument agent.
                
                Invalid (2)
                 Indicates that a cache module board has not been installed in this system or is present but not configured.
                
                Enabled (3)
                 Indicates that cache operations are currently configured and enabled for at least one logical drive.
                
                Temporarily Disabled (4)
                 Indicates that cache operations have been temporarily disabled. View the cache module board error code object to determine why the write cache operations have been temporarily disabled.
                
                Permanently Disabled (5)
                 Indicates that cache operations have been permanently disabled. View the cache module board error code object to determine why the write cache operations have been disabled.
                
                Cache Module Flash Memory Not Attached (6)
                 Indicates that the flash memory component of the flash backed cache module is not attached. This status will be set when the flash memory is not attached and the Supercap is attached. This value is only used on flash backed cache modules that support removable flash memory.
                
                Cache Module Degraded Failsafe Speed (7)
                 Indicates that the cache module board is currently degraded and operating at a failsafe speed. View variables cpqDaCacheMemoryDataWidth and cpqDaCacheMemoryTransferRate to obtain the cache module board`s current memory data width and memory transfer rate.
                
                Cache Module Critical Failure (8)
                 Indicates that the cache module board has encountered a critical failure. The controller is currently operating in Zero Memory Raid mode.
                
                Read Cache Could Not Be Mapped (9)
                 Indicates that the read cache memory in a split cache configuration could not be mapped by the operating system and as a result is not available. This status may be caused by virtual space limitations in certain operating systems and is only applicable to B-Series controllers.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 26955f1b216a493c9faa95b95359aa79
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                  name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: fc24efc3b41f410e9b0e806692f3dcf6
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
                  name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                  tags:
                    - tag: scope
                      value: available
                - uuid: d5a1edb8f9ea46f08344a07a84bd8865
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])<>{$DISK.ARRAY.CACHE.STATUS.OK:"enabled"} and last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])<>{$DISK.ARRAY.CACHE.STATUS.WARN:"invalid"}'
                  name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                    - name: 'HPE ProLiant DL380: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: b35b69931e57486dbb40116512fd1242
          name: 'Array controller discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.2.1.1.1,{#CNTLR_SLOT},1.3.6.1.4.1.232.3.2.2.1.1.5,{#CNTLR_LOCATION},1.3.6.1.4.1.232.3.2.2.1.1.20]'
          key: array.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaCntlrTable'
          item_prototypes:
            - uuid: db28dbd324304d07b20de5055d158c82
              name: '{#CNTLR_LOCATION}: Disk array controller model'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.1.1.2.{#SNMPINDEX}]'
              key: 'hp.server.hw.diskarray.model[cpqDaCntlrModel.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Array Controller Model. The type of controller card.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaCntlrModel'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
            - uuid: 114e43daf33d4842aa435031aca2bf22
              name: '{#CNTLR_LOCATION}: Disk array controller status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.2.1.1.6.{#SNMPINDEX}]'
              key: 'hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                This value represents the overall condition of this controller,
                and any associated logical drives, physical drives, and array accelerators.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 0e57c741a6d248b69cdc70b75fc63a0f
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                  name: 'HPE ProLiant DL380: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 4a66354e25c949d4aaaad02114f09e44
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.WARN}'
                  name: 'HPE ProLiant DL380: {#CNTLR_LOCATION}: Disk array controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 850b34fb782e463a9a0fe75336c166f7
          name: 'FAN discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.7.1.9]'
          key: fan.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolFanCondition'
          item_prototypes:
            - uuid: f33c7ee5675f4f35ae6e781c693e03c4
              name: 'Fan {#SNMPINDEX}: Fan status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.7.1.9.{#SNMPINDEX}]'
              key: 'hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the fan.
                This value will be one of the following:
                other(1)  Fan status detection is not supported by this system or driver.
                ok(2)  The fan is operating properly.
                degraded(2)  A redundant fan is not operating properly.
                failed(4)  A non-redundant fan is not operating properly.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: f246a5184ea94ae3a793efec27998d5f
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.CRIT}'
                  name: 'HPE ProLiant DL380: Fan {#SNMPINDEX}: Fan is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: ba7f63e795764d77aae0b7ce62a19514
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.WARN}'
                  name: 'HPE ProLiant DL380: Fan {#SNMPINDEX}: Fan is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: Fan {#SNMPINDEX}: Fan is in critical state'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 647156a1894340a88bd6eb08c9ee60b6
          name: 'Network interface discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ADAPTER_INDEX},1.3.6.1.4.1.232.18.2.3.1.1.1,{#ADAPTER_NAME},1.3.6.1.4.1.232.18.2.3.1.1.39]'
          key: net.if.discovery
          delay: 1h
          description: 'CPQIDA-MIB::cpqNicIfPhysAdapterTable'
          item_prototypes:
            - uuid: 2b3d5fc665744319b247261f301ec5e9
              name: '{#ADAPTER_NAME} port {#ADAPTER_INDEX}: Status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.18.2.3.1.1.14.{#SNMPINDEX}]'
              key: 'hp.server.net.if.status[cpqNicIfPhysAdapterStatus.{#SNMPINDEX}]'
              description: |
                MIB: CPQNIC-MIB
                The physical adapter status. The following values are valid:
                unknown(1)
                  The instrument agent was not able to determine the status of the adapter. The instrument agent may need to be upgraded.
                ok(2)
                  The physical adapter is operating properly.
                generalFailure(3)
                  The physical adapter has failed.
                linkFailure(4)
                  The physical adapter has lost link. Check the cable connections to this adapter.
              valuemap:
                name: 'CPQNIC-MIB::cpqNicIfPhysAdapterStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: network
              trigger_prototypes:
                - uuid: 917ab8f90c3e43b887eb7fd851cf3b25
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.net.if.status[cpqNicIfPhysAdapterStatus.{#SNMPINDEX}])=3'
                  name: 'HPE ProLiant DL380: {#ADAPTER_NAME} port {#ADAPTER_INDEX}: Adapter has failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the physical adapter.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 51bb602b67624c5d932109a5e04068d3
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.net.if.status[cpqNicIfPhysAdapterStatus.{#SNMPINDEX}])=4'
                  name: 'HPE ProLiant DL380: {#ADAPTER_NAME} port {#ADAPTER_INDEX}: Adapter has lost link'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the cable connections to this adapter.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: {#ADAPTER_NAME} port {#ADAPTER_INDEX}: Adapter has failed'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.net.if.status[cpqNicIfPhysAdapterStatus.{#SNMPINDEX}])=3'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: b4c4a7f18ef44003acbccfc274f76a2d
          name: 'Physical disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.5.1.1.5,{#DISK_LOCATION},1.3.6.1.4.1.232.3.2.5.1.1.64]'
          key: physicaldisk.discovery
          delay: 1h
          description: 'Scanning  table of physical drive entries CPQIDA-MIB::cpqDaPhyDrvTable.'
          item_prototypes:
            - uuid: d5b6315a3faf471baa20b7a0a0d6691b
              name: '{#DISK_LOCATION}: Physical disk media type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.69.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.media_type[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Drive Array Physical Drive Media Type. The following values are defined:
                other(1)  The instrument agent is unable to determine the physical drive's media type.
                rotatingPlatters(2)  The physical drive media is composed of rotating platters.
                solidState(3)  The physical drive media is composed of solid state electronics.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 8d04fc4ffec947c5ad53d037c038ed1d
              name: '{#DISK_LOCATION}: Physical disk model name'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.3.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.model[cpqDaPhyDrvModel.{#SNMPINDEX}]'
              value_type: CHAR
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Model. This is a text description of the physical drive.
                The text that appears depends upon who manufactured the drive and the drive type.
                If a drive fails, note the model to identify the type of drive necessary for replacement.
                If a model number is not present, you may not have properly initialized the drive array to which the physical drive is attached for monitoring.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: aa090bf031f444508eae9c853cac1109
              name: '{#DISK_LOCATION}: Physical disk serial number'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.51.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]'
              value_type: CHAR
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Serial Number.
                This is the serial number assigned to the physical drive.
                This value is based upon the serial number as returned by the SCSI inquiry command
                but may have been modified due to space limitations.  This can be used for identification purposes.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 2b173fa3eec941e3b3d73c732740e210
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#1)<>last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#2) and length(last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]))>0'
                  name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Disk has been replaced'
                  event_name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Disk has been replaced (new serial number received)'
                  priority: INFO
                  description: 'Disk serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 3c4c4e680bb943c3a172e0e3e049aa8b
              name: '{#DISK_LOCATION}: Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.45.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.size[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Size in MB.
                This is the size of the physical drive in megabytes.
                This value is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ
                from the advertised size of a drive. This field is only applicable for controllers which support SCSI drives,
                and therefore is not supported by the IDA or IDA-2 controllers. The field will contain 0xFFFFFFFF if the drive capacity cannot be calculated
                or if the controller does not support SCSI drives.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: d4b7c6cb7c3d4c46a92028e80b564bf5
              name: '{#DISK_LOCATION}: Physical disk S.M.A.R.T. status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.57.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive S.M.A.R.T Status. The following values are defined:
                other(1)  The agent is unable to determine if the status of S.M.A.R.T  predictive failure monitoring for this drive.
                ok(2)  Indicates the drive is functioning properly.
                replaceDrive(3)  Indicates that the drive has a S.M.A.R.T predictive failure  error and should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 531875c8a5f54ca8ad2dabfa8a47b36b
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDrive"} or last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDriveSSDWearOut"}'
                  name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Physical disk S.M.A.R.T. failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Disk probably requires replacement.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 609c79d9a89e46778bc7c419a31db26b
              name: '{#DISK_LOCATION}: Physical disk status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.5.1.1.6.{#SNMPINDEX}]'
              key: 'hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Status. This shows the status of the physical drive. The following values are valid for the physical drive status:
                other (1)  Indicates that the instrument agent does not recognize  the drive.
                You may need to upgrade your instrument agent  and/or driver software.
                ok (2)  Indicates the drive is functioning properly.
                failed (3)  Indicates that the drive is no longer operating and  should be replaced.
                predictiveFailure(4)  Indicates that the drive has a predictive failure error and  should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 12eac58ddff14f7dbbdba48eca464a5f
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Physical disk failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 977a4d4fb6604877a0f02bb2455691c4
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.WARN}'
                  name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Physical disk is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check physical disk for warnings or errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 8e0a11054b46479c9124d03c89967618
          name: 'PSU discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.9.3.1.5,{#CHASSIS_NUM},1.3.6.1.4.1.232.6.2.9.3.1.1,{#BAY_NUM},1.3.6.1.4.1.232.6.2.9.3.1.2]'
          key: psu.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolPowerSupplyStatus'
          item_prototypes:
            - uuid: a86478d1584640f784e984ff90768cfa
              name: 'Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.9.3.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the power supply. This value will be one of the following:
                other(1)  The status could not be determined or not present.
                ok(2)  The power supply is operating normally.
                degraded(3)  A temperature sensor, fan or other power supply component is  outside of normal operating range.
                failed(4)  A power supply component detects a condition that could  permanently damage the system.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
              trigger_prototypes:
                - uuid: b42e415d5eb941989daaed3d1ac2e762
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.CRIT}'
                  name: 'HPE ProLiant DL380: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the power supply unit for errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: d5b8b12a72934bcfb7ad6675a68a5297
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.WARN}'
                  name: 'HPE ProLiant DL380: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the power supply unit for errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 718aebe90d154170b6d05d5fc97ac024
          name: 'Temperature ambient discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.ambient.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '11'
              - macro: '{#SNMPINDEX}'
                value: 0\.1
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with ambient(11) and 0.1 index filter
          item_prototypes:
            - uuid: 8d413e8e6aa54c2a94c3c59fd5190ced
              name: 'Ambient: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 1af0ddbc9ffd43b2b6800d634d8186bb
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: Ambient: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: c49e51ac10c941798213d0f086e0631f
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: Ambient: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: b1cfbc1702f54670b3f486da26c4887b
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: Ambient: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 29afae6dceac4eadbd7a0d67029e602c
              name: 'Ambient: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Ambient
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 79e388de30c64430ac9f15f94cf8fec2
          name: 'Temperature CPU discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.cpu.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '6'
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with cpu(6) filter
          item_prototypes:
            - uuid: 9d6e722dc01649199a8891d663b37f00
              name: 'CPU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: cpu
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 039ab34804f446e580b779d1ab25ed4f
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: CPU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 2cf8b917076440aa8209938cec69b905
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: CPU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: cf69b02334e541b7a912a14c182dd56a
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: CPU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 5bafde0dc89d483786cff3b1121fca55
              name: 'CPU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: CPU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: cpu
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: ee9de30ee97842fe801118cb42b92ab9
          name: 'Temperature discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: (4|8|9|12|13)
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable
          item_prototypes:
            - uuid: d3a32885e1c24b3688d768236d930dab
              name: '{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 6d7eb6bd348b43a2b584ceb1694c8bce
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: {#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 43911269576b435db928e83901a16c5a
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: {#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: b26842b776c545449354ccafb809d115
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: {#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: cd6b1ba3a2174a879a00507ce843acaa
              name: '{#SNMPINDEX}: Temperature sensor location'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.3.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.locale[cpqHeTemperatureLocale.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                This specifies the location of the temperature sensor present in the system.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
            - uuid: 1a9d8b9409e243c9b25ff434271d0049
              name: '{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: {#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 725c3cf3a398494faf3f330fb25a146c
          name: 'Temperature I/O discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.io.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '5'
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with ioBoard(5) filter
          item_prototypes:
            - uuid: 893efbae4cfa49dbae9fb6707e142cc1
              name: 'I/O-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: c8f2ef7311804357bff65d2d5c7f5d90
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 1'
                  name: 'HPE ProLiant DL380: I/O-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: dda9f8bf4a094b69bb30affb26e23dd3
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 4'
                  name: 'HPE ProLiant DL380: I/O-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: a0220dea091d4aca8d68a21a3d976496
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 3'
                  name: 'HPE ProLiant DL380: I/O-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 155afcc02e0443539683c193792c1770
              name: 'I/O-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius."I/O.{#SNMPINDEX}"]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: I/O-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 353c1660698744608f0e67b4cd27f0b3
          name: 'Temperature memory discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.memory.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '7'
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with memory(7) filter
          item_prototypes:
            - uuid: af4c1659d5ca4c07978baea386694989
              name: 'Memory-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: memory
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: eca9c54385084934b88f4dc9d914b2e2
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: Memory-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 70b139e0c8c644918c7f01cd09604078
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: Memory-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 89aab6bad94e4d188475d6e36084593e
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: Memory-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 400b357139a945c38cf222c5c1ce25cd
              name: 'Memory-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Memory-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: memory
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: e34420d2583145feafb4d89d010e067f
          name: 'Temperature PSU discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.psu.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '10'
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with powerSupply(10) filter
          item_prototypes:
            - uuid: d1552a2c2238453aa1d376482aaf2d1b
              name: 'PSU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: e792b530014d45b6ac7fc819db776c37
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: PSU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 803317e9eaf04b519e63b7d1b9bfd610
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: PSU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 98616a3bae174922a0108b7c90339f08
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: PSU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 146bf385738444bfb7faa60b073865f5
              name: 'PSU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: PSU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 043c4fa05fcb4bf7917cf56c2513fbdd
          name: 'Temperature system discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.6.2.6.8.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.system.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '3'
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with system(3) filter
          item_prototypes:
            - uuid: 7b7b07d52c144d23901ad9f636fca521
              name: 'System-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 2a0503b359904c71b355cb9e3da1b8fa
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL380: System-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 09287730b82a47c4b365c09047d0b8e2
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL380: System-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 5c7097cb91184a619fee33bd4faa296b
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL380: System-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 33793b349df841c1aa46fada307e4427
              name: 'System-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}]'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}]'
              value_type: FLOAT
              units: °C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: System-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 2fa5e2604e5649cca3f04c759dfe2321
          name: 'Virtual disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.232.3.2.3.1.1.2,{#DISK_NAME},1.3.6.1.4.1.232.3.2.3.1.1.14]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'CPQIDA-MIB::cpqDaLogDrvTable'
          item_prototypes:
            - uuid: a77031074aed4314b5b825c565f0ed67
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Layout type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.3.{#SNMPINDEX}]'
              key: 'hp.server.hw.virtualdisk.layout[cpqDaLogDrvFaultTol.{#SNMPINDEX}]'
              description: |
                Logical Drive Fault Tolerance.
                This shows the fault tolerance mode of the logical drive.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 33e1ea62016846b5ab97263605c4dcc5
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.9.{#SNMPINDEX}]'
              key: 'hp.server.hw.virtualdisk.size[cpqDaLogDrvSize.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                Logical Drive Size.
                This is the size of the logical drive in megabytes.  This value
                is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a
                megabyte when giving drive capacities so this value may
                differ from the advertised size of a drive.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 783532d2de814096ac0ce9b36c5d2552
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.232.3.2.3.1.1.4.{#SNMPINDEX}]'
              key: 'hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}]'
              description: 'Logical Drive Status.'
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
              trigger_prototypes:
                - uuid: a59f9e473b7a4afd900edce47b11443d
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])={$VDISK.STATUS.CRIT}'
                  name: 'HPE ProLiant DL380: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check virtual disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 776bff7fb02e4948be7d81347c0c8624
                  expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])<>{$VDISK.STATUS.OK}'
                  name: 'HPE ProLiant DL380: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk is not in OK state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check virtual disk for warnings or errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL380: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                      expression: 'last(/HPE ProLiant DL380 by SNMP/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])={$VDISK.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: hp
        - tag: target
          value: hp-dl380
      macros:
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
          value: '7'
          description: 'The critical status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"}'
          value: '4'
          description: 'The critical status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"degraded"}'
          value: '5'
          description: 'The warning status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"notPresent"}'
          value: '6'
          description: 'The warning status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
          value: '8'
          description: 'The critical status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.OK:"enabled"}'
          value: '3'
          description: 'The normal status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"}'
          value: '7'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
          value: '6'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"}'
          value: '9'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"invalid"}'
          value: '2'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.CRIT}'
          value: '4'
          description: 'The critical status of the disk array for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.WARN}'
          value: '3'
          description: 'The warning status of the disk array for trigger expression.'
        - macro: '{$DISK.SMART.STATUS.FAIL:"replaceDrive"}'
          value: '3'
          description: 'The critical S.M.A.R.T status of the disk for trigger expression.'
        - macro: '{$DISK.SMART.STATUS.FAIL:"replaceDriveSSDWearOut"}'
          value: '4'
          description: 'The critical S.M.A.R.T status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.FAIL}'
          value: '3'
          description: 'The critical status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.WARN}'
          value: '4'
          description: 'The warning status of the disk for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT}'
          value: '4'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.WARN}'
          value: '3'
          description: 'The warning value of the FAN sensor for trigger expression.'
        - macro: '{$HEALTH.STATUS.CRIT}'
          value: '4'
          description: 'The critical status of the health for trigger expression.'
        - macro: '{$HEALTH.STATUS.WARN}'
          value: '3'
          description: 'The warning status of the health for trigger expression.'
        - macro: '{$PSU.STATUS.CRIT}'
          value: '4'
          description: 'The critical value of the PSU sensor for trigger expression.'
        - macro: '{$PSU.STATUS.WARN}'
          value: '3'
          description: 'The warning value of the PSU sensor for trigger expression.'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        - macro: '{$VDISK.STATUS.CRIT}'
          value: '3'
          description: 'The critical status of the virtual disk for trigger expression.'
        - macro: '{$VDISK.STATUS.OK}'
          value: '2'
          description: 'The normal status of the virtual disk for trigger expression.'
      valuemaps:
        - uuid: 5655717fa32f4711b3062b97f1e5895b
          name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: ae1477baf3c046cbb5519346f28c7017
          name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: system
            - value: '4'
              newvalue: systemBoard
            - value: '5'
              newvalue: ioBoard
            - value: '6'
              newvalue: cpu
            - value: '7'
              newvalue: memory
            - value: '8'
              newvalue: storage
            - value: '9'
              newvalue: removableMedia
            - value: '10'
              newvalue: powerSupply
            - value: '11'
              newvalue: ambient
            - value: '12'
              newvalue: chassis
            - value: '13'
              newvalue: bridgeCard
        - uuid: af8340b5070f47e085eb91eb4580d728
          name: 'CPQIDA-MIB::cpqDaAccelBattery'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: Ok
            - value: '3'
              newvalue: Recharging
            - value: '4'
              newvalue: Failed
            - value: '5'
              newvalue: Degraded
            - value: '6'
              newvalue: 'Not Present'
            - value: '7'
              newvalue: 'Capacitor failed'
        - uuid: 4c4378c0d1af4a6693f8c03bfaa9ad40
          name: 'CPQIDA-MIB::cpqDaAccelStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: invalid
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: tmpDisabled
            - value: '5'
              newvalue: permDisabled
            - value: '6'
              newvalue: cacheModFlashMemNotAttached
            - value: '7'
              newvalue: cacheModDegradedFailsafeSpeed
            - value: '8'
              newvalue: cacheModCriticalFailure
            - value: '9'
              newvalue: cacheReadCacheNotMapped
        - uuid: 23a855763fc346ea8a3559399ffa7428
          name: 'CPQIDA-MIB::cpqDaCntlrModel'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ida
            - value: '3'
              newvalue: idaExpansion
            - value: '4'
              newvalue: ida-2
            - value: '5'
              newvalue: smart
            - value: '6'
              newvalue: smart-2e
            - value: '7'
              newvalue: smart-2p
            - value: '8'
              newvalue: smart-2sl
            - value: '9'
              newvalue: smart-3100es
            - value: '10'
              newvalue: smart-3200
            - value: '11'
              newvalue: smart-2dh
            - value: '12'
              newvalue: smart-221
            - value: '13'
              newvalue: sa-4250es
            - value: '14'
              newvalue: sa-4200
            - value: '15'
              newvalue: sa-integrated
            - value: '16'
              newvalue: sa-431
            - value: '17'
              newvalue: sa-5300
            - value: '18'
              newvalue: raidLc2
            - value: '19'
              newvalue: sa-5i
            - value: '20'
              newvalue: sa-532
            - value: '21'
              newvalue: sa-5312
            - value: '22'
              newvalue: sa-641
            - value: '23'
              newvalue: sa-642
            - value: '24'
              newvalue: sa-6400
            - value: '25'
              newvalue: sa-6400em
            - value: '26'
              newvalue: sa-6i
            - value: '27'
              newvalue: sa-generic
            - value: '29'
              newvalue: sa-p600
            - value: '30'
              newvalue: sa-p400
            - value: '31'
              newvalue: sa-e200
            - value: '32'
              newvalue: sa-e200i
            - value: '33'
              newvalue: sa-p400i
            - value: '34'
              newvalue: sa-p800
            - value: '35'
              newvalue: sa-e500
            - value: '36'
              newvalue: sa-p700m
            - value: '37'
              newvalue: sa-p212
            - value: '38'
              newvalue: sa-p410
            - value: '39'
              newvalue: sa-p410i
            - value: '40'
              newvalue: sa-p411
            - value: '41'
              newvalue: sa-b110i
            - value: '42'
              newvalue: sa-p712m
            - value: '43'
              newvalue: sa-p711m
            - value: '44'
              newvalue: sa-p812
            - value: '45'
              newvalue: sw-1210m
            - value: '46'
              newvalue: sa-p220i
            - value: '47'
              newvalue: sa-p222
            - value: '48'
              newvalue: sa-p420
            - value: '49'
              newvalue: sa-p420i
            - value: '50'
              newvalue: sa-p421
            - value: '51'
              newvalue: sa-b320i
            - value: '52'
              newvalue: sa-p822
            - value: '53'
              newvalue: sa-p721m
            - value: '54'
              newvalue: sa-b120i
            - value: '55'
              newvalue: hps-1224
            - value: '56'
              newvalue: hps-1228
            - value: '57'
              newvalue: hps-1228m
            - value: '58'
              newvalue: sa-p822se
            - value: '59'
              newvalue: hps-1224e
            - value: '60'
              newvalue: hps-1228e
            - value: '61'
              newvalue: hps-1228em
            - value: '62'
              newvalue: sa-p230i
            - value: '63'
              newvalue: sa-p430i
            - value: '64'
              newvalue: sa-p430
            - value: '65'
              newvalue: sa-p431
            - value: '66'
              newvalue: sa-p731m
            - value: '67'
              newvalue: sa-p830i
            - value: '68'
              newvalue: sa-p830
            - value: '69'
              newvalue: sa-p831
            - value: '70'
              newvalue: sa-p530
            - value: '71'
              newvalue: sa-p531
            - value: '72'
              newvalue: sa-p244br
            - value: '73'
              newvalue: sa-p246br
            - value: '74'
              newvalue: sa-p440
            - value: '75'
              newvalue: sa-p440ar
            - value: '76'
              newvalue: sa-p441
            - value: '77'
              newvalue: sa-p741m
            - value: '78'
              newvalue: sa-p840
            - value: '79'
              newvalue: sa-p841
            - value: '80'
              newvalue: sh-h240ar
            - value: '81'
              newvalue: sh-h244br
            - value: '82'
              newvalue: sh-h240
            - value: '83'
              newvalue: sh-h241
            - value: '84'
              newvalue: sa-b140i
            - value: '85'
              newvalue: sh-generic
            - value: '86'
              newvalue: sa-p240nr
            - value: '87'
              newvalue: sh-h240nr
            - value: '88'
              newvalue: sa-p840ar
            - value: '89'
              newvalue: sa-p542d
            - value: '90'
              newvalue: s100i
            - value: '91'
              newvalue: e208i-p
            - value: '92'
              newvalue: e208i-a
            - value: '93'
              newvalue: e208i-c
            - value: '94'
              newvalue: e208e-p
            - value: '95'
              newvalue: p204i-b
            - value: '96'
              newvalue: p204i-c
            - value: '97'
              newvalue: p408i-p
            - value: '98'
              newvalue: p408i-a
            - value: '99'
              newvalue: p408e-p
            - value: '100'
              newvalue: p408i-c
            - value: '101'
              newvalue: p408e-m
            - value: '102'
              newvalue: p416ie-m
            - value: '103'
              newvalue: p816i-a
            - value: '104'
              newvalue: p408i-sb
        - uuid: 87ad87e768bc4d8ab77841e29176c36f
          name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
          mappings:
            - value: '0'
              newvalue: other
            - value: '2'
              newvalue: none
            - value: '3'
              newvalue: RAID-1/RAID-10
            - value: '4'
              newvalue: RAID-4
            - value: '5'
              newvalue: RAID-5
            - value: '7'
              newvalue: RAID-6
            - value: '8'
              newvalue: RAID-50
            - value: '9'
              newvalue: RAID-60
            - value: '10'
              newvalue: 'RAID-1 ADM'
            - value: '11'
              newvalue: 'RAID-10 ADM'
        - uuid: 46a2f599d46d438899ea4d8c552f51b4
          name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: unconfigured
            - value: '5'
              newvalue: recovering
            - value: '6'
              newvalue: readyForRebuild
            - value: '7'
              newvalue: rebuilding
            - value: '8'
              newvalue: wrongDrive
            - value: '9'
              newvalue: badConnect
            - value: '10'
              newvalue: overheating
            - value: '11'
              newvalue: shutdown
            - value: '12'
              newvalue: expanding
            - value: '13'
              newvalue: notAvailable
            - value: '14'
              newvalue: queuedForExpansion
            - value: '15'
              newvalue: multipathAccessDegraded
            - value: '16'
              newvalue: erasing
            - value: '17'
              newvalue: predictiveSpareRebuildReady
            - value: '18'
              newvalue: rapidParityInitInProgress
            - value: '19'
              newvalue: rapidParityInitPending
            - value: '20'
              newvalue: noAccessEncryptedNoCntlrKey
            - value: '21'
              newvalue: unencryptedToEncryptedInProgress
            - value: '22'
              newvalue: newLogDrvKeyRekeyInProgress
            - value: '23'
              newvalue: noAccessEncryptedCntlrEncryptnNotEnbld
            - value: '24'
              newvalue: unencryptedToEncryptedNotStarted
            - value: '25'
              newvalue: newLogDrvKeyRekeyRequestReceived
        - uuid: 5f6868416f454beba585a0d2e9038117
          name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: rotatingPlatters
            - value: '3'
              newvalue: solidState
        - uuid: f78e361d31d94c479594b9d73257f80a
          name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: replaceDrive
            - value: '4'
              newvalue: replaceDriveSSDWearOut
        - uuid: 0efa6b7ed90f4edebc3282af5dbaf6c4
          name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: predictiveFailure
        - uuid: 1d312bcad99c43b8931fb128f6250afa
          name: 'CPQNIC-MIB::cpqNicIfPhysAdapterStatus'
          mappings:
            - value: '1'
              newvalue: unknown
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: generalFailure
            - value: '4'
              newvalue: linkFailure
        - uuid: 48e68c2789334818b5536be3f8628f66
          name: 'CPQSINFO-MIB::status'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: 1b63c6eea5fc42a99501408d603c158b
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 9612f37005e5420582d499d7cb84a24e
      expression: '(last(/HPE ProLiant DL380 by SNMP/hp.server.hw.uptime[hrSystemUptime])>0 and last(/HPE ProLiant DL380 by SNMP/hp.server.hw.uptime[hrSystemUptime])<10m) or (last(/HPE ProLiant DL380 by SNMP/hp.server.hw.uptime[hrSystemUptime])=0 and last(/HPE ProLiant DL380 by SNMP/hp.server.net.uptime[sysUpTime])<10m)'
      name: 'HPE ProLiant DL380: Host has been restarted'
      event_name: 'HPE ProLiant DL380: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      tags:
        - tag: scope
          value: notice
