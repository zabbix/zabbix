zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: cb66d34564e44b3893442fc74cf6e951
      template: 'Cisco UCS by SNMP'
      name: 'Cisco UCS by SNMP'
      description: |
        Template Server Cisco UCS
        
        MIBs used:
        CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
        HOST-RESOURCES-MIB
        SNMPv2-MIB
        CISCO-UNIFIED-COMPUTING-PROCESSOR-MIB
        CISCO-UNIFIED-COMPUTING-EQUIPMENT-MIB
        CISCO-UNIFIED-COMPUTING-STORAGE-MIB
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-2
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 250be2514e9246e08058a403bf674cf6
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          description: |
            The host accessibility by ICMP ping.
            
            0 - ICMP ping fails;
            1 - ICMP ping successful.
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 301541972752471e86046ce494a2febb
              expression: 'max(/Cisco UCS by SNMP/icmpping,#3)=0'
              name: 'Cisco UCS: Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout. Please check device connectivity.'
              tags:
                - tag: scope
                  value: availability
        - uuid: c7eaba8c2b7d4b4aa14081957252e33e
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          value_type: FLOAT
          units: '%'
          description: 'The percentage of lost packets.'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: e051db53cf32406bb0d5ff9cc8d5ce7b
              expression: 'min(/Cisco UCS by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Cisco UCS by SNMP/icmppingloss,5m)<100'
              name: 'Cisco UCS: High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'ICMP packets loss detected.'
              dependencies:
                - name: 'Cisco UCS: Unavailable by ICMP ping'
                  expression: 'max(/Cisco UCS by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 88b4a6cc507748e19f08d0ffc9a15368
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          value_type: FLOAT
          units: s
          description: 'The ICMP ping response time (in seconds).'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: a11942dac3504b64977c2de3e575d2eb
              expression: 'avg(/Cisco UCS by SNMP/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'Cisco UCS: High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Average ICMP response time is too high.'
              dependencies:
                - name: 'Cisco UCS: High ICMP ping loss'
                  expression: 'min(/Cisco UCS by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Cisco UCS by SNMP/icmppingloss,5m)<100'
                - name: 'Cisco UCS: Unavailable by ICMP ping'
                  expression: 'max(/Cisco UCS by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 00b0172971e34784836d03e76b3480bd
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 50df0ad347d94cffb871256c6340af11
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: 'system.contact[sysContact.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 235302070dc54f148b92027967a6ff2f
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: a6d61b21f9f044a6912759e02787cb3f
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.25.1.1.0]'
          key: 'system.hw.uptime[hrSystemUptime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 7ba9b86064ad432a9e6d1922ca29edda
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: 'system.location[sysLocation.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            Physical location of the node (e.g., `equipment room`, `3rd floor`). If not provided, the value is a zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 4674d8adc39343f7b46d21cae2ec1310
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: system.name
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 3544e4ac11b44d14a6161523081c470e
              expression: 'last(/Cisco UCS by SNMP/system.name,#1)<>last(/Cisco UCS by SNMP/system.name,#2) and length(last(/Cisco UCS by SNMP/system.name))>0'
              name: 'Cisco UCS: System name has changed'
              event_name: 'Cisco UCS: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: 1b0551aa2d184c8d923788b5d159ed7c
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: 'system.net.uptime[sysUpTime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            Time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 05fe3cb6d2004e7ea2d37742fc2549d3
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.2.0]'
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity. This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: b80f6a30ad124a1ea863f2fdb868ba6f
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible values:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 3c487a6b20c746eca9a7efc6058a60d9
              expression: 'max(/Cisco UCS by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'Cisco UCS: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              dependencies:
                - name: 'Cisco UCS: Unavailable by ICMP ping'
                  expression: 'max(/Cisco UCS by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 5c6518a1df0b45c09f3a2f186c3d4e3b
          name: 'Array Controller Cache Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#DISKARRAY_CACHE_LOCATION},1.3.6.1.4.1.9.9.719.1.45.11.1.2]'
          key: array.cache.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CISCO-UNIFIED-COMPUTING-STORAGE-MIB::cucsStorageControllerTable.'
          item_prototypes:
            - uuid: 52055929503041018d8261f15231f346
              name: '{#DISKARRAY_CACHE_LOCATION}: Disk array cache controller battery status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.11.1.9.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.cache.battery.status[cucsStorageRaidBatteryOperability.{#SNMPINDEX}]'
              trends: '0'
              description: 'MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB'
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability'
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 0b09b93602c94821ae1126e4f9550436
                  expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.cache.battery.status[cucsStorageRaidBatteryOperability.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}")=1'
                  name: 'Cisco UCS: {#DISKARRAY_CACHE_LOCATION}: Disk array cache controller battery is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: d2af6de00e57412d8a2efcb20b1524a4
                  expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.cache.battery.status[cucsStorageRaidBatteryOperability.{#SNMPINDEX}],#1,"ne","{$DISK_ARRAY_CACHE_BATTERY_OK_STATUS}")=1'
                  name: 'Cisco UCS: {#DISKARRAY_CACHE_LOCATION}: Disk array cache controller battery is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'Cisco UCS: {#DISKARRAY_CACHE_LOCATION}: Disk array cache controller battery is in critical state!'
                      expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.cache.battery.status[cucsStorageRaidBatteryOperability.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: b77a56dcaa1947dd8c74b5764c36c22a
          name: 'Array Controller Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#DISKARRAY_LOCATION},1.3.6.1.4.1.9.9.719.1.45.1.1.2]'
          key: array.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CISCO-UNIFIED-COMPUTING-STORAGE-MIB::cucsStorageControllerTable.'
          item_prototypes:
            - uuid: b0e1dd6aab454628bf46c0dba5293424
              name: '{#DISKARRAY_LOCATION}: Disk array controller model'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.1.1.5.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.model[cucsStorageControllerModel.{#SNMPINDEX}]'
              delay: 1d
              value_type: CHAR
              trends: '0'
              description: 'MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB'
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 262d45ac58734c0096de2b96d8294f4c
              name: '{#DISKARRAY_LOCATION}: Disk array controller status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.1.1.6.{#SNMPINDEX}]'
              key: 'system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}]'
              trends: '0'
              description: 'MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB'
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability'
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 44ec209460fb4010a087e971427b2fde
                  expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS:\"inoperable\"}")=1'
                  name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: b419e0d296614f4285645954f8a7a970
                  expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_WARN_STATUS:\"degraded\"}")=1'
                  name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is in critical state'
                      expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS:\"inoperable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: a83202bb105d481c93464650272c14eb
                  expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"ne","{$DISK_ARRAY_OK_STATUS:\"operable\"}")=1'
                  name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is in critical state'
                      expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS:\"inoperable\"}")=1'
                    - name: 'Cisco UCS: {#DISKARRAY_LOCATION}: Disk array controller is in warning state'
                      expression: 'count(/Cisco UCS by SNMP/system.hw.diskarray.status[cucsStorageControllerOperState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_WARN_STATUS:\"degraded\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 3c067096a2fc40c390a335e40bacc089
          name: 'FAN Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#FAN_LOCATION},1.3.6.1.4.1.9.9.719.1.15.12.1.2]'
          key: fan.discovery
          delay: 1h
          item_prototypes:
            - uuid: f65860004eb74ab187d080782177370c
              name: '{#FAN_LOCATION}: Fan status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.15.12.1.9.{#SNMPINDEX}]'
              key: 'sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-EQUIPMENT-MIB
                Cisco UCS equipment:Fan:operState managed object property
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability'
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: 5135b24c775f448c8998cadea3042e5b
                  expression: 'count(/Cisco UCS by SNMP/sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"inoperable\"}")=1'
                  name: 'Cisco UCS: {#FAN_LOCATION}: Fan is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 895df7f89587441fa61223d5b2e442a2
                  expression: 'count(/Cisco UCS by SNMP/sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS:\"degraded\"}")=1'
                  name: 'Cisco UCS: {#FAN_LOCATION}: Fan is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit'
                  dependencies:
                    - name: 'Cisco UCS: {#FAN_LOCATION}: Fan is in critical state'
                      expression: 'count(/Cisco UCS by SNMP/sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"inoperable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 93247d3808394f7195356ced554d0d55
          name: 'Physical Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#DISK_LOCATION},1.3.6.1.4.1.9.9.719.1.45.4.1.2]'
          key: physicalDisk.discovery
          delay: 1h
          description: 'Scanning table of physical drive entries CISCO-UNIFIED-COMPUTING-STORAGE-MIB::cucsStorageLocalDiskTable.'
          item_prototypes:
            - uuid: 4dc3f8718af645998441c436263a1053
              name: '{#DISK_LOCATION}: Physical disk media type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.4.1.7.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.media_type[cucsStorageLocalDiskModel.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalDisk:model managed object property. Actually returns 'HDD' or 'SSD'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 6d45ac307cce40d481c556660dea3157
              name: '{#DISK_LOCATION}: Physical disk model name'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.4.1.12.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.model[cucsStorageLocalDiskSerial.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalDisk:serial managed object property. Actually returns part number code
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: da12b7742c0343709ab4c1d97c0b0f4c
              name: '{#DISK_LOCATION}: Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.4.1.13.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.size[cucsStorageLocalDiskSize.{#SNMPINDEX}]'
              delay: 1h
              trends: '0'
              units: B
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalDisk:size managed object property. In MB.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: cb73c8de596549888d5f94b13619da3d
              name: '{#DISK_LOCATION}: Physical disk status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.4.1.18.{#SNMPINDEX}]'
              key: 'system.hw.physicaldisk.status[cucsStorageLocalDiskDiskState.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalDisk:diskState managed object property.
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsStoragePDriveStatus'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 445919e1ec414fd888f8911abc65650b
                  expression: 'count(/Cisco UCS by SNMP/system.hw.physicaldisk.status[cucsStorageLocalDiskDiskState.{#SNMPINDEX}],#1,"eq","{$DISK_CRIT_STATUS:\"bad\"}")=1 or count(/Cisco UCS by SNMP/system.hw.physicaldisk.status[cucsStorageLocalDiskDiskState.{#SNMPINDEX}],#1,"eq","{$DISK_CRIT_STATUS:\"predictiveFailure\"}")=1'
                  name: 'Cisco UCS: {#DISK_LOCATION}: Physical disk error'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check physical disk for warnings or errors'
                  dependencies:
                    - name: 'Cisco UCS: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'count(/Cisco UCS by SNMP/system.hw.physicaldisk.status[cucsStorageLocalDiskDiskState.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"failed\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 77ce5c74eefd4a9b818c11c8c1581cd8
                  expression: 'count(/Cisco UCS by SNMP/system.hw.physicaldisk.status[cucsStorageLocalDiskDiskState.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"failed\"}")=1'
                  name: 'Cisco UCS: {#DISK_LOCATION}: Physical disk failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: f8be95a8eb5a487c8c8f05d62e90f041
          name: 'PSU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#PSU_LOCATION},1.3.6.1.4.1.9.9.719.1.15.56.1.2]'
          key: psu.discovery
          delay: 1h
          item_prototypes:
            - uuid: 0e869e57db494940b630fc2b8f10c60b
              name: '{#PSU_LOCATION}: Power supply status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.15.56.1.7.{#SNMPINDEX}]'
              key: 'sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-EQUIPMENT-MIB
                Cisco UCS equipment:Psu:operState managed object property
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability'
              tags:
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 480d51d19be74b6e95f702b31baa5666
                  expression: 'count(/Cisco UCS by SNMP/sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"inoperable\"}")=1'
                  name: 'Cisco UCS: {#PSU_LOCATION}: Power supply is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the power supply unit for errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 07fa90b5296b48d9b45cc6a76e72ceeb
                  expression: 'count(/Cisco UCS by SNMP/sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}],#1,"eq","{$PSU_WARN_STATUS:\"degraded\"}")=1'
                  name: 'Cisco UCS: {#PSU_LOCATION}: Power supply is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the power supply unit for errors'
                  dependencies:
                    - name: 'Cisco UCS: {#PSU_LOCATION}: Power supply is in critical state'
                      expression: 'count(/Cisco UCS by SNMP/sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"inoperable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 098a87f2e7094da9853bf2cb94677092
          name: 'Temperature CPU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SENSOR_LOCATION},1.3.6.1.4.1.9.9.719.1.41.2.1.2]'
          key: temp.cpu.discovery
          delay: 1h
          item_prototypes:
            - uuid: b0a744fc4e524406ab87ccc4fbaae3b2
              name: '{#SENSOR_LOCATION}: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.41.2.1.10.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-PROCESSOR-MIB
                Cisco UCS processor:EnvStats:temperature managed object property
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 35549eb00faf48ff8fdb7769b8a13895
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"CPU"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"CPU"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is above critical threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is above critical threshold: >{$TEMP_CRIT:"CPU"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: eaadcea2dc0d468d886654c3ec380390
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)>{$TEMP_WARN:"CPU"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)<{$TEMP_WARN:"CPU"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is above warning threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is above warning threshold: >{$TEMP_WARN:"CPU"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  dependencies:
                    - name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is above critical threshold'
                      expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"CPU"}'
                      recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"CPU"}-3'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: ccb9b9edd7ba4a62b33e34ebf3647825
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"CPU"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Cisco UCS by SNMP/sensor.temp.value[cucsProcessorEnvStatsTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"CPU"}+3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is too low'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}: Temperature is too low: <{$TEMP_CRIT_LOW:"CPU"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 06216bba529b4fb2b1c52fb57d365c6a
          name: 'Temperature Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SENSOR_LOCATION},1.3.6.1.4.1.9.9.719.1.9.44.1.2]'
          key: temp.discovery
          delay: 1h
          item_prototypes:
            - uuid: 1287280a5c9449bd96f11ad3b6a92455
              name: '{#SENSOR_LOCATION}.IOH: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.44.1.13.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnitMbTempStats:ioh1Temp managed object property
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: a43eb91c4ae044729f4312466fcbd5da
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is above critical threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is above critical threshold: >{$TEMP_CRIT:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: da5d63d3411a4d2299d50cc21beae1c4
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is above warning threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is above warning threshold: >{$TEMP_WARN:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  dependencies:
                    - name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is above critical threshold'
                      expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                      recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: ce811e4247d5484caf4b095e829f162e
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempSltatsIoh1Temp.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Ambient"}+3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is too low'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.IOH: Temperature is too low: <{$TEMP_CRIT_LOW:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: 9ee4d857346541c6870586a0c7989fc5
              name: '{#SENSOR_LOCATION}.Ambient: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.44.1.4.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Temperature readings of testpoint: {#SENSOR_LOCATION}.Ambient
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 4e293138ca374c96a18e4dbca8e45c72
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is above critical threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is above critical threshold: >{$TEMP_CRIT:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: cf21a0259b6e4402815651357cdcce76
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is above warning threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is above warning threshold: >{$TEMP_WARN:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  dependencies:
                    - name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is above critical threshold'
                      expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                      recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 5139f8dd56094561a573a0b7b15a5ef0
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsAmbientTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Ambient"}+3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is too low'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Ambient: Temperature is too low: <{$TEMP_CRIT_LOW:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: 9dc8ac1ccf2a4671bef441db6297b2f9
              name: '{#SENSOR_LOCATION}.Front: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.44.1.8.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnitMbTempStats:frontTemp managed object property
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 98b9a6bd22e648e1bce3e5ee3ed5f6b4
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is above critical threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is above critical threshold: >{$TEMP_CRIT:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 068f42b490ad41eb97a65dbc718ae566
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is above warning threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is above warning threshold: >{$TEMP_WARN:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  dependencies:
                    - name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is above critical threshold'
                      expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                      recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: f208cad426cf45338b6487cf87588220
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsFrontTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Ambient"}+3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is too low'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Front: Temperature is too low: <{$TEMP_CRIT_LOW:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: 631d46aad1b2403b9512299e2446a24e
              name: '{#SENSOR_LOCATION}.Rear: Temperature'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.44.1.21.{#SNMPINDEX}]'
              key: 'sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnitMbTempStats:rearTemp managed object property
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: ef03cd1e2356409ea2651fab589c9d19
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is above critical threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is above critical threshold: >{$TEMP_CRIT:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: ed302fd9bdbe47cda2456aa7cdc6ce66
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Ambient"}-3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is above warning threshold'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is above warning threshold: >{$TEMP_WARN:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
                  dependencies:
                    - name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is above critical threshold'
                      expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}'
                      recovery_expression: 'max(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: bb81b628d804411480d3b4066d626f82
                  expression: 'avg(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Cisco UCS by SNMP/sensor.temp.value[cucsComputeRackUnitMbTempStatsRearTemp.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Ambient"}+3'
                  name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is too low'
                  event_name: 'Cisco UCS: {#SENSOR_LOCATION}.Rear: Temperature is too low: <{$TEMP_CRIT_LOW:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 0a96ab839bde40cf9d1d4db602c57a5e
          name: 'Unit Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#UNIT_LOCATION},1.3.6.1.4.1.9.9.719.1.9.35.1.2]'
          key: unit.discovery
          delay: 1h
          item_prototypes:
            - uuid: 9d0f6f5594a24c588da63fd29bf2152f
              name: '{#UNIT_LOCATION}: Hardware model name'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.35.1.32.{#SNMPINDEX}]'
              key: 'system.hw.model[cucsComputeRackUnitModel.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnit:model managed object property
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                - tag: component
                  value: system
            - uuid: b0c955f0fc184c6686fa2fe3fce29f1a
              name: '{#UNIT_LOCATION}: Hardware serial number'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.35.1.47.{#SNMPINDEX}]'
              key: 'system.hw.serialnumber[cucsComputeRackUnitSerial.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnit:serial managed object property
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                - tag: component
                  value: system
              trigger_prototypes:
                - uuid: b9667c535fe542eeb21dea7aaf2bbf80
                  expression: 'last(/Cisco UCS by SNMP/system.hw.serialnumber[cucsComputeRackUnitSerial.{#SNMPINDEX}],#1)<>last(/Cisco UCS by SNMP/system.hw.serialnumber[cucsComputeRackUnitSerial.{#SNMPINDEX}],#2) and length(last(/Cisco UCS by SNMP/system.hw.serialnumber[cucsComputeRackUnitSerial.{#SNMPINDEX}]))>0'
                  name: 'Cisco UCS: {#UNIT_LOCATION}: Device has been replaced'
                  event_name: 'Cisco UCS: {#UNIT_LOCATION}: Device has been replaced (new serial number received)'
                  priority: INFO
                  description: 'Device serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 00a0fe6510064375a1736433a17904c0
              name: '{#UNIT_LOCATION}: Overall system health status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.9.35.1.42.{#SNMPINDEX}]'
              key: 'system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}]'
              delay: 30s
              trends: '0'
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-COMPUTE-MIB
                Cisco UCS compute:RackUnit:operState managed object property
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsLsOperState'
              tags:
                - tag: component
                  value: system
              trigger_prototypes:
                - uuid: 70fbf187bc474aa88a26fb5a8d862694
                  expression: 'count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"computeFailed\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"configFailure\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"unconfigFailure\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"inoperable\"}")=1'
                  name: 'Cisco UCS: {#UNIT_LOCATION}: System status is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: b69f6876b7de4e1c89934281696249c8
                  expression: 'count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_WARN_STATUS:\"testFailed\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_WARN_STATUS:\"thermalProblem\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_WARN_STATUS:\"powerProblem\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_WARN_STATUS:\"voltageProblem\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_WARN_STATUS:\"diagnosticsFailed\"}")=1'
                  name: 'Cisco UCS: {#UNIT_LOCATION}: System status is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for warnings'
                  dependencies:
                    - name: 'Cisco UCS: {#UNIT_LOCATION}: System status is in critical state'
                      expression: 'count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"computeFailed\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"configFailure\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"unconfigFailure\"}")=1 or count(/Cisco UCS by SNMP/system.status[cucsComputeRackUnitOperState.{#SNMPINDEX}],#1,"eq","{$HEALTH_CRIT_STATUS:\"inoperable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: b76c04b65a8348539434d8857d1450aa
          name: 'Virtual Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#VDISK_LOCATION},1.3.6.1.4.1.9.9.719.1.45.8.1.2]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'CISCO-UNIFIED-COMPUTING-STORAGE-MIB::cucsStorageLocalLunTable'
          item_prototypes:
            - uuid: 0c6d53aae84e41fa9bdccf06a51bbf21
              name: '{#VDISK_LOCATION}: Layout type'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.8.1.14.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.layout[cucsStorageLocalLunType.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalLun:type managed object property
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsStorageLunType'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: db7e07e0325145d0a8f6bcef0cd0dff2
              name: '{#VDISK_LOCATION}: Disk size'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.8.1.13.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.size[cucsStorageLocalLunSize.{#SNMPINDEX}]'
              delay: 1h
              trends: '0'
              units: B
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalLun:size managed object property in MB.
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsStorageLunType'
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 5c0d7116c19940608ca40058e47fd595
              name: '{#VDISK_LOCATION}: Status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.9.9.719.1.45.8.1.10.{#SNMPINDEX}]'
              key: 'system.hw.virtualdisk.status[cucsStorageLocalLunPresence.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: CISCO-UNIFIED-COMPUTING-STORAGE-MIB
                Cisco UCS storage:LocalLun:presence managed object property
              valuemap:
                name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentPresence'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 97b0c8177dca421f9535cb6f0abea7aa
                  expression: 'count(/Cisco UCS by SNMP/system.hw.virtualdisk.status[cucsStorageLocalLunPresence.{#SNMPINDEX}],#1,"ne","{$VDISK_OK_STATUS:\"equipped\"}")=1'
                  name: 'Cisco UCS: {#VDISK_LOCATION}: Virtual disk is not in OK state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check virtual disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: cisco
        - tag: target
          value: cisco-ucs
      macros:
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}'
          value: '2'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_OK_STATUS}'
          value: '1'
        - macro: '{$DISK_ARRAY_CRIT_STATUS:"inoperable"}'
          value: '2'
        - macro: '{$DISK_ARRAY_OK_STATUS:"operable"}'
          value: '1'
        - macro: '{$DISK_ARRAY_WARN_STATUS:"degraded"}'
          value: '3'
        - macro: '{$DISK_CRIT_STATUS:"bad"}'
          value: '16'
        - macro: '{$DISK_CRIT_STATUS:"predictiveFailure"}'
          value: '11'
        - macro: '{$DISK_FAIL_STATUS:"failed"}'
          value: '9'
        - macro: '{$FAN_CRIT_STATUS:"inoperable"}'
          value: '2'
        - macro: '{$FAN_WARN_STATUS:"degraded"}'
          value: '3'
        - macro: '{$HEALTH_CRIT_STATUS:"computeFailed"}'
          value: '30'
        - macro: '{$HEALTH_CRIT_STATUS:"configFailure"}'
          value: '33'
        - macro: '{$HEALTH_CRIT_STATUS:"inoperable"}'
          value: '60'
        - macro: '{$HEALTH_CRIT_STATUS:"unconfigFailure"}'
          value: '34'
        - macro: '{$HEALTH_WARN_STATUS:"diagnosticsFailed"}'
          value: '204'
        - macro: '{$HEALTH_WARN_STATUS:"powerProblem"}'
          value: '62'
        - macro: '{$HEALTH_WARN_STATUS:"testFailed"}'
          value: '35'
        - macro: '{$HEALTH_WARN_STATUS:"thermalProblem"}'
          value: '60'
        - macro: '{$HEALTH_WARN_STATUS:"voltageProblem"}'
          value: '62'
        - macro: '{$ICMP_LOSS_WARN}'
          value: '20'
          description: 'Warning threshold of ICMP packet loss in %.'
        - macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
          description: 'Warning threshold of the average ICMP response time in seconds.'
        - macro: '{$PSU_CRIT_STATUS:"inoperable"}'
          value: '2'
        - macro: '{$PSU_WARN_STATUS:"degraded"}'
          value: '3'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'Time interval for the SNMP availability trigger.'
        - macro: '{$TEMP_CRIT}'
          value: '60'
        - macro: '{$TEMP_CRIT:"Ambient"}'
          value: '35'
        - macro: '{$TEMP_CRIT_LOW}'
          value: '5'
        - macro: '{$TEMP_WARN}'
          value: '50'
        - macro: '{$TEMP_WARN:"Ambient"}'
          value: '30'
        - macro: '{$VDISK_OK_STATUS:"equipped"}'
          value: '10'
      valuemaps:
        - uuid: e1686896f31e483f9add962dbbd90afb
          name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability'
          mappings:
            - value: '0'
              newvalue: unknown
            - value: '1'
              newvalue: operable
            - value: '2'
              newvalue: inoperable
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: poweredOff
            - value: '5'
              newvalue: powerProblem
            - value: '6'
              newvalue: removed
            - value: '7'
              newvalue: voltageProblem
            - value: '8'
              newvalue: thermalProblem
            - value: '9'
              newvalue: performanceProblem
            - value: '10'
              newvalue: accessibilityProblem
            - value: '11'
              newvalue: identityUnestablishable
            - value: '12'
              newvalue: biosPostTimeout
            - value: '13'
              newvalue: disabled
            - value: '14'
              newvalue: malformedFru
            - value: '15'
              newvalue: backplanePortProblem
            - value: '16'
              newvalue: chassisIntrusion
            - value: '51'
              newvalue: fabricConnProblem
            - value: '52'
              newvalue: fabricUnsupportedConn
            - value: '81'
              newvalue: config
            - value: '82'
              newvalue: equipmentProblem
            - value: '83'
              newvalue: decommissioning
            - value: '84'
              newvalue: chassisLimitExceeded
            - value: '100'
              newvalue: notSupported
            - value: '101'
              newvalue: discovery
            - value: '102'
              newvalue: discoveryFailed
            - value: '103'
              newvalue: identify
            - value: '104'
              newvalue: postFailure
            - value: '105'
              newvalue: upgradeProblem
            - value: '106'
              newvalue: peerCommProblem
            - value: '107'
              newvalue: autoUpgrade
            - value: '108'
              newvalue: linkActivateBlocked
        - uuid: 5055674c42a241e3a2156de1dc1715bf
          name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentPresence'
          mappings:
            - value: '0'
              newvalue: unknown
            - value: '1'
              newvalue: empty
            - value: '10'
              newvalue: equipped
            - value: '11'
              newvalue: missing
            - value: '12'
              newvalue: mismatch
            - value: '13'
              newvalue: equippedNotPrimary
            - value: '14'
              newvalue: equippedSlave
            - value: '15'
              newvalue: mismatchSlave
            - value: '16'
              newvalue: missingSlave
            - value: '20'
              newvalue: equippedIdentityUnestablishable
            - value: '21'
              newvalue: mismatchIdentityUnestablishable
            - value: '22'
              newvalue: equippedWithMalformedFru
            - value: '30'
              newvalue: inaccessible
            - value: '40'
              newvalue: unauthorized
            - value: '100'
              newvalue: notSupported
            - value: '101'
              newvalue: equippedUnsupported
            - value: '102'
              newvalue: equippedDiscNotStarted
            - value: '103'
              newvalue: equippedDiscInProgress
            - value: '104'
              newvalue: equippedDiscError
            - value: '105'
              newvalue: equippedDiscUnknown
        - uuid: 398aa5bf5eb44a8c8dd96babd98f1bd3
          name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsLsOperState'
          mappings:
            - value: '0'
              newvalue: indeterminate
            - value: '1'
              newvalue: unassociated
            - value: '10'
              newvalue: ok
            - value: '11'
              newvalue: discovery
            - value: '12'
              newvalue: config
            - value: '13'
              newvalue: unconfig
            - value: '14'
              newvalue: powerOff
            - value: '15'
              newvalue: restart
            - value: '20'
              newvalue: maintenance
            - value: '21'
              newvalue: test
            - value: '29'
              newvalue: computeMismatch
            - value: '30'
              newvalue: computeFailed
            - value: '31'
              newvalue: degraded
            - value: '32'
              newvalue: discoveryFailed
            - value: '33'
              newvalue: configFailure
            - value: '34'
              newvalue: unconfigFailed
            - value: '35'
              newvalue: testFailed
            - value: '36'
              newvalue: maintenanceFailed
            - value: '40'
              newvalue: removed
            - value: '41'
              newvalue: disabled
            - value: '50'
              newvalue: inaccessible
            - value: '60'
              newvalue: thermalProblem
            - value: '61'
              newvalue: powerProblem
            - value: '62'
              newvalue: voltageProblem
            - value: '63'
              newvalue: inoperable
            - value: '101'
              newvalue: decommissioning
            - value: '201'
              newvalue: biosRestore
            - value: '202'
              newvalue: cmosReset
            - value: '203'
              newvalue: diagnostics
            - value: '204'
              newvalue: diagnosticsFailed
            - value: '210'
              newvalue: pendingReboot
            - value: '211'
              newvalue: pendingReassociation
            - value: '212'
              newvalue: svnicNotPresent
        - uuid: 7d3e38476c894ae59ecac6640b24f833
          name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsStorageLunType'
          mappings:
            - value: '0'
              newvalue: unspecified
            - value: '1'
              newvalue: simple
            - value: '2'
              newvalue: mirror
            - value: '3'
              newvalue: stripe
            - value: '4'
              newvalue: raid
            - value: '5'
              newvalue: stripeParity
            - value: '6'
              newvalue: stripeDualParity
            - value: '7'
              newvalue: mirrorStripe
            - value: '8'
              newvalue: stripeParityStripe
            - value: '9'
              newvalue: stripeDualParityStripe
        - uuid: 9b7c7078039c4e348ab417da71b96f5c
          name: 'CISCO-UNIFIED-COMPUTING-TC-MIB::CucsStoragePDriveStatus'
          mappings:
            - value: '0'
              newvalue: unknown
            - value: '1'
              newvalue: online
            - value: '2'
              newvalue: unconfiguredGood
            - value: '3'
              newvalue: globalHotSpare
            - value: '4'
              newvalue: dedicatedHotSpare
            - value: '5'
              newvalue: jbod
            - value: '6'
              newvalue: offline
            - value: '7'
              newvalue: rebuilding
            - value: '8'
              newvalue: copyback
            - value: '9'
              newvalue: failed
            - value: '10'
              newvalue: unconfiguredBad
            - value: '11'
              newvalue: predictiveFailure
            - value: '12'
              newvalue: disabledForRemoval
            - value: '13'
              newvalue: foreignConfiguration
            - value: '14'
              newvalue: zeroing
            - value: '15'
              newvalue: good
            - value: '16'
              newvalue: bad
            - value: '17'
              newvalue: lockedForeignConfiguration
        - uuid: b98830da69f9463f949ed2df7ee5dcb3
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: a67fce1a203742eea56849fc38b8af39
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: a933ba0e5c7f4e908afaba4381f65482
      expression: '(last(/Cisco UCS by SNMP/system.hw.uptime[hrSystemUptime.0])>0 and last(/Cisco UCS by SNMP/system.hw.uptime[hrSystemUptime.0])<10m) or (last(/Cisco UCS by SNMP/system.hw.uptime[hrSystemUptime.0])=0 and last(/Cisco UCS by SNMP/system.net.uptime[sysUpTime.0])<10m)'
      name: 'Cisco UCS: Host has been restarted'
      event_name: 'Cisco UCS: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'Cisco UCS: No SNMP data collection'
          expression: 'max(/Cisco UCS by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
